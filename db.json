{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/favicon.ico","path":"favicon.ico","modified":0,"renderable":0},{"_id":"source/images/avatar.png","path":"images/avatar.png","modified":0,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1}],"Cache":[{"_id":"source/favicon.ico","hash":"ad9630bda8ad9effb0e325a30614184c2d943e5b","modified":1400668369432},{"_id":"themes/next/.bowerrc","hash":"334da94ca6f024d60d012cc26ea655681e724ad8","modified":1480345851415},{"_id":"themes/next/.editorconfig","hash":"211d2c92bfdddb3e81ea946f4ca7a539f150f4da","modified":1480345851415},{"_id":"themes/next/.gitignore","hash":"de5b9b9e5b313b4a86e805b02f334d35c87bfe56","modified":1480345851416},{"_id":"themes/next/.hound.yml","hash":"289dcf5bfe92dbd680d54d6e0668f41c9c9c0c78","modified":1480345851417},{"_id":"themes/next/.javascript_ignore","hash":"74b54cf920cbbf4038a68e54b7138af8b8f45588","modified":1480345851417},{"_id":"themes/next/.jshintrc","hash":"b7d23f2ce8d99fa073f22f9960605f318acd7710","modified":1480345851417},{"_id":"themes/next/README.en.md","hash":"fa31bbc6dd8778b8dee469740c92b3b5b59702af","modified":1480345851417},{"_id":"themes/next/README.md","hash":"06aaf1241e9e1619956c86d8b1397a643840a9d1","modified":1480345851418},{"_id":"themes/next/_config.yml","hash":"5398de16482ea496f430b03da5af94d3fb68e01f","modified":1478401740325},{"_id":"themes/next/_config.yml.back","hash":"2d47e90c8be64ee102a0ccba1f94d8f8bf076b3b","modified":1480345851418},{"_id":"themes/next/bower.json","hash":"bd70cf5988bbfc8cbcf13adae659151a55466524","modified":1480345851418},{"_id":"themes/next/gulpfile.coffee","hash":"e549561461642051d195550ec49d793e44ee22a0","modified":1480345851419},{"_id":"themes/next/package.json","hash":"48e2352f8e41f2b6bbf55254d10f3192ee206d5a","modified":1480345851447},{"_id":"source/_posts/CS229-Machine Learning notes-Lecture1-机器学习的动机与应用.md","hash":"1db681db7d53c184322639d7428e2f315790925e","modified":1478308090916},{"_id":"source/_posts/Hello-World-0.md","hash":"c4c53ea962b409f5cfe774a389fbdaf0fca9b3bf","modified":1476880344312},{"_id":"source/_posts/CS229-Machine-Learning-notes-Lecture2-监督学习.md","hash":"20bfdf5d546f89843ad36c87f16da7be9cfeb234","modified":1478518951419},{"_id":"source/_posts/Live-like-a-robot.md","hash":"594d0635fdc2aacb147e1c90e62d7db411ba52cd","modified":1478159546675},{"_id":"source/_posts/hello-world.md","hash":"f5389e5f314d4cdf4873689e83b9710aa673f45e","modified":1478159168550},{"_id":"source/_posts/NumPy.md","hash":"a69340ed1c58e18ef597cedf2bf837bc00faeb8a","modified":1478159369974},{"_id":"source/_posts/myStackOverflow.md","hash":"d43ce9529b75d8eaa3b0b33647e524731adccc17","modified":1478159419339},{"_id":"source/_posts/基础机器学习算法Python实现.md","hash":"fd292b098f6badf57a3c493cddecab8c2ac72309","modified":1478401365757},{"_id":"source/_posts/机器学习基石notes-Lecture1.md","hash":"62d6ea1f4cdfa4924dba0c1e38669964db43b066","modified":1478226209423},{"_id":"source/_posts/机器学习基石notes-Lecture3.md","hash":"69e06e32b8a045d65cddc86d489fbfee11b742fc","modified":1478787291126},{"_id":"source/_posts/机器学习基石notes-Lecture2.md","hash":"f96a2762907f3620b27000c7f43d65b4b8c62a96","modified":1478228434544},{"_id":"source/_posts/统计学习方法读书笔记.md","hash":"c84a728993767484cc678f18855825b849d5c393","modified":1479565069062},{"_id":"source/_posts/设计模式示例（C-实现）.md","hash":"ae96724765b5182c45b0ff8f7567e36c65029fd2","modified":1479395192541},{"_id":"source/_posts/翻译-Duckietownan-Open-Inexpensive-and-Flexible-Platform-for-Autonomy-Education-and-Research.md","hash":"124dceb3fdff6b7ece8f6e3a147dc27c09da38a6","modified":1478673399633},{"_id":"source/_posts/龙星计划-机器学习-notes-Lecture1-机器学习简介及线性代数、概率论、统计学知识回顾.md","hash":"49456c7242e5e299f70412469a3699db837f66fc","modified":1478400493686},{"_id":"source/about/index.md","hash":"b190582e89f6073d7e4d49012e6be5c4f1eef6ce","modified":1480347667660},{"_id":"source/categories/index.md","hash":"4c5f0406e028642632cc6a460adb3a3c5ac0926e","modified":1480346911828},{"_id":"source/images/avatar.png","hash":"ad9630bda8ad9effb0e325a30614184c2d943e5b","modified":1400668369432},{"_id":"source/tags/index.md","hash":"45e9c7b6922a0c74dc52af6f1bb53fa4d7f897bd","modified":1480346818664},{"_id":"themes/next/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1480345851383},{"_id":"themes/next/.git/config","hash":"8e94cc015a498d35202e9fd57e44b3c51e1e5634","modified":1480345851388},{"_id":"themes/next/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1480345601706},{"_id":"themes/next/.git/index","hash":"cb8e812164357730d1efff427f0113e7c298e8cb","modified":1480345851537},{"_id":"themes/next/.git/packed-refs","hash":"09a09da39b7d77dcf2904850874cf00817abdb45","modified":1480345851379},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"4312fb37fa2b8663006be3c4fe01125ec01171c1","modified":1480345851416},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"2692e36cc35b1594530981e7727771f601720a43","modified":1480345851416},{"_id":"themes/next/languages/default.yml","hash":"fe00529a94bb2550194a31d178f5810b45014ab6","modified":1480345851420},{"_id":"themes/next/languages/de.yml","hash":"db6a9d669f4b6282cda6c0a2d4e03d3e308a4846","modified":1480345851419},{"_id":"themes/next/languages/en.yml","hash":"d02acdce503c86fbb01920ad22d31ec56fc285f1","modified":1480345851420},{"_id":"themes/next/languages/id.yml","hash":"d8b9dc017da0be7f71fda1cacd8064cbc38963b9","modified":1480345851421},{"_id":"themes/next/languages/fr-FR.yml","hash":"91cf55b9d75879e72c8008d2659fe2ea993a4cca","modified":1480345851420},{"_id":"themes/next/languages/ja.yml","hash":"bc89436a2a015ef72f43f265e56e37d94e73c0cd","modified":1480345851421},{"_id":"themes/next/languages/ko.yml","hash":"c59676f2af80c3c594c34c4a0fcbf65fd8864ff3","modified":1480345851422},{"_id":"themes/next/languages/pt-BR.yml","hash":"4b91f96b07e05705b28964df7460466c9b522e2c","modified":1480345851422},{"_id":"themes/next/languages/pt.yml","hash":"f364905121a816c9797acce07c0a4f248965b29a","modified":1480345851422},{"_id":"themes/next/languages/ru.yml","hash":"402e676252ab1fc4522257a578738cb9536eb077","modified":1480345851423},{"_id":"themes/next/languages/zh-hk.yml","hash":"a59f3f3114f5eb4d170a76da4359307e8f5159a7","modified":1480345851423},{"_id":"themes/next/languages/zh-Hans.yml","hash":"439c16c744b1596f24d9e0b4e230c4d3c93b7d85","modified":1480345851423},{"_id":"themes/next/languages/zh-tw.yml","hash":"18da1324d2212faca9a6e5e6ce98b419c86d4b0c","modified":1480345851424},{"_id":"themes/next/layout/_layout.swig","hash":"b4ef30f7da073bf2a9052186f76e0e080de1c794","modified":1480345851426},{"_id":"themes/next/layout/archive.swig","hash":"b867a08f6b43de8b5d700c84b943df55917407ae","modified":1480345851445},{"_id":"themes/next/layout/category.swig","hash":"58cf08388901f7549b1fca95548b2c79173aa840","modified":1480345851445},{"_id":"themes/next/layout/page.swig","hash":"2a13804aa186f6062738d136e430870c53789bf4","modified":1480345851446},{"_id":"themes/next/layout/index.swig","hash":"e5b52e04296203262a400e8e36ae12426d31fd5b","modified":1480345851445},{"_id":"themes/next/layout/post.swig","hash":"b8334c479840b7724638eec71971cbd8512ae58d","modified":1480345851446},{"_id":"themes/next/layout/schedule.swig","hash":"595013860078799d455af4965b3a7c5c4fd3923c","modified":1480345851446},{"_id":"themes/next/layout/tag.swig","hash":"6f764ea3ab11eeb7c530df45528d449b14f5dc62","modified":1480345851447},{"_id":"themes/next/scripts/merge-configs.js","hash":"f8cde6953939802f92da5b7a2458c6c539e9be69","modified":1480345851447},{"_id":"themes/next/test/.jshintrc","hash":"c9fca43ae0d99718e45a6f5ce736a18ba5fc8fb6","modified":1480345851535},{"_id":"themes/next/test/helpers.js","hash":"f25e7f3265eb5a6e1ccbb5e5012fa9bebf134105","modified":1480345851536},{"_id":"themes/next/test/intern.js","hash":"db90b1063356727d72be0d77054fdc32fa882a66","modified":1480345851536},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1480345851486},{"_id":"themes/next/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1480345601716},{"_id":"themes/next/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1480345601726},{"_id":"themes/next/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1480345601726},{"_id":"themes/next/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1480345601725},{"_id":"themes/next/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1480345601728},{"_id":"themes/next/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1480345601740},{"_id":"themes/next/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1480345601754},{"_id":"themes/next/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1480345601763},{"_id":"themes/next/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1480345601770},{"_id":"themes/next/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1480345601802},{"_id":"themes/next/.git/logs/HEAD","hash":"8557ab37c33b7f6c8a1d33e5d6005e096532b19a","modified":1480345851386},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1480345851426},{"_id":"themes/next/layout/_custom/header.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1480345851425},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"b87a5122dbff1d5fccf8f3d09d1640bd4b01c4a0","modified":1480345851427},{"_id":"themes/next/layout/_macro/post.swig","hash":"abfc88f34f2c0ae52229c4ffa577b00ad7cecdc6","modified":1480345851427},{"_id":"themes/next/layout/_macro/reward.swig","hash":"b6cb171f0ed227b82b8f7601814af2df93f3a09a","modified":1480345851427},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"3b261c758a7673d91c116367be1bb5223403f9e0","modified":1480345851428},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"c5cc0070ca7c9a8dbd4b09e0398db536c3cdbe8a","modified":1480345851428},{"_id":"themes/next/layout/_partials/duoshuo-hot-articles.swig","hash":"ba75672183d94f1de7c8bd0eeee497a58c70e889","modified":1480345851429},{"_id":"themes/next/layout/_partials/footer.swig","hash":"168430bd87ca8212cf9773b5dd94f52b805ef210","modified":1480345851430},{"_id":"themes/next/layout/_partials/comments.swig","hash":"a5ffadb516522f85c052b290b94c0e4af3002644","modified":1480345851429},{"_id":"themes/next/layout/_partials/head.swig","hash":"740684ef2b6e56183529387882042612e904bc8d","modified":1480345851430},{"_id":"themes/next/layout/_partials/header.swig","hash":"d9b10a92fdccd57a0c0d6773831f9c1b0f1bb449","modified":1480345851431},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"dfbb6e9692333166aa78231ad12b2a40c153cbcb","modified":1480345851432},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"1634fb887842698e01ff6e632597fe03c75d2d01","modified":1480345851432},{"_id":"themes/next/layout/_partials/search.swig","hash":"952b7b8d9ce2c81d4002a9dc2331f1e710f99616","modified":1480345851432},{"_id":"themes/next/layout/_scripts/baidu-push.swig","hash":"d8c98938719284fa06492c114d99a1904652a555","modified":1480345851436},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"c0f5a0955f69ca4ed9ee64a2d5f8aa75064935ad","modified":1480345851436},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"931808ad9b8d8390c0dcf9bdeb0954eeb9185d68","modified":1480345851436},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"c9d45628330ce8bf5fbe71c9f131c7d75334c1c4","modified":1480345851445},{"_id":"themes/next/scripts/tags/full-image.js","hash":"c9f833158c66bd72f627a0559cf96550e867aa72","modified":1480345851448},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"ac681b0d0d8d39ba3817336c0270c6787c2b6b70","modified":1480345851448},{"_id":"themes/next/scripts/tags/note.js","hash":"7dc14db08f2c74f8f1952534b424f220f5c000c6","modified":1480345851449},{"_id":"themes/next/source/css/main.styl","hash":"a91dbb7ef799f0a171b5e726c801139efe545176","modified":1480345851486},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"16505f61f19ba65f629dfd033f14ee9abcf18756","modified":1480345851487},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1480345851487},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1480345851488},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1480345851488},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1480345851489},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1480345851489},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1480345851490},{"_id":"themes/next/source/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1480345851490},{"_id":"themes/next/source/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1480345851490},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1480345851491},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1480345851491},{"_id":"themes/next/source/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1480345851491},{"_id":"themes/next/source/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1480345851491},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1480345851492},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"99b66949f18398689b904907af23c013be1b978f","modified":1480345851448},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1480345851437},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1480345851437},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1480345851474},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1480345851475},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1480345851474},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1480345851485},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1480345851484},{"_id":"themes/next/.git/refs/heads/master","hash":"776e91b78b954875a8d38297e05b80eab20df4b9","modified":1480345851385},{"_id":"themes/next/layout/_components/algolia-search/assets.swig","hash":"218cc936ba3518a3591b2c9eda46bc701edf7710","modified":1480345851425},{"_id":"themes/next/layout/_components/algolia-search/dom.swig","hash":"bb2c3a926bb7f8fea54d424882b25d93dfde7ae6","modified":1480345851425},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"f5e487b0d213ca0bd94aa30bc23b240d65081627","modified":1480345851431},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"a223919d2e1bf17ca4d6abb2c86f2efca9883dc1","modified":1480345851430},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"efa7efcbb575381b508f9aa0e0c53140eef72a7b","modified":1480345851433},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"a8c7f9ca7c605d039a1f3bf4e4d3183700a3dd62","modified":1480345851433},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"b25002a83cbd2ca0c4a5df87ad5bff26477c0457","modified":1480345851433},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"9e3d133ac5bcc6cb51702c83b2611a49811abad1","modified":1480345851434},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"d9e2d9282f9be6e04eae105964abb81e512bffed","modified":1480345851434},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"d4fbffd7fa8f2090eb32a871872665d90a885fac","modified":1480345851435},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"12684840de632eb16e53ffa863166306a756fd4f","modified":1480345851435},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"9b84ab576982b2c3bb0291da49143bc77fba3cc6","modified":1480345851437},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a9a3995b9615adfb8d6b127c78c6771627bee19a","modified":1480345851438},{"_id":"themes/next/layout/_scripts/third-party/analytics.swig","hash":"188423f7df0eb8c99a03cb6741384415651c4665","modified":1480345851438},{"_id":"themes/next/layout/_scripts/third-party/comments.swig","hash":"9c8f4b2a29741d96adf0b8fef52ae7f4396f27f5","modified":1480345851441},{"_id":"themes/next/layout/_scripts/third-party/lean-analytics.swig","hash":"e495aed8fb36bf8015ddbd64366270a7debad2b0","modified":1480345851443},{"_id":"themes/next/layout/_scripts/third-party/localsearch.swig","hash":"f592adff22628b271ec9657b080cf6b9cc200615","modified":1480345851443},{"_id":"themes/next/layout/_scripts/third-party/mathjax.swig","hash":"a0bd3388587fd943baae0d84ca779a707fbcad89","modified":1480345851444},{"_id":"themes/next/layout/_scripts/third-party/schedule.swig","hash":"db15d7e1552aa2d2386a6b8a33b3b3a40bf9e43d","modified":1480345851444},{"_id":"themes/next/layout/_scripts/third-party/tinysou.swig","hash":"fe95dd3d166634c466e19aa756e65ad6e8254d3e","modified":1480345851444},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"3403fdd8efde1a0afd11ae8a5a97673f5903087f","modified":1480345851473},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"a0f23e75a137d8c996c70e2059e0074f1e97a127","modified":1480345851474},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"531934ea21ef4dc9f0978512050f54834f0a6cff","modified":1480345851475},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"e55265c8a8a6ae0c3c08e3509de92ee62c3cb5f6","modified":1480345851484},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"d7826b48a20162835450495db534d353ac52e476","modified":1480345851485},{"_id":"themes/next/source/css/_variables/base.styl","hash":"4c4298a7011841d9ee2aec5bd192df5730b08517","modified":1480345851485},{"_id":"themes/next/source/js/src/affix.js","hash":"1b509c3b5b290a6f4607f0f06461a0c33acb69b1","modified":1480345851493},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"84bdc8a4fe127849a5c99bdefe1d0b65ee1a4a0a","modified":1480345851493},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"4a0da1bed19e65bd7db42421b447061bc1618710","modified":1480345851493},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"b35a7dc47b634197b93487cea8671a40a9fdffce","modified":1480345851494},{"_id":"themes/next/source/js/src/post-details.js","hash":"458af3b1bd7783c1950808e66cedfa9fb68bf21f","modified":1480345851494},{"_id":"themes/next/source/js/src/motion.js","hash":"ff9ea37d05c269e3a140c4ab448af03efc4bcc76","modified":1480345851494},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"b7657be25fc52ec67c75ab5481bdcb483573338b","modified":1480345851495},{"_id":"themes/next/source/js/src/utils.js","hash":"e34f83848883732ddd7a34a3e3ed2a293f0f76a7","modified":1480345851496},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1480345851497},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"9be892a4e14e0da18ff9cb962c9ef71f163b1b22","modified":1480345851500},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"672d3b5767e0eacd83bb41b188c913f2cf754793","modified":1480345851501},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"bf3eef9d647cd7c9b62feda3bc708c6cdd7c0877","modified":1480345851508},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"6f474ea75c42442da7bbcf2e9143ce98258efd8d","modified":1480345851508},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"68a9b9d53126405b0fa5f3324f1fb96dbcc547aa","modified":1480345851509},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"a9b3ee1e4db71a0e4ea6d5bed292d176dd68b261","modified":1480345851509},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"8868275e8b6340c87a81c69a54ed138d11fb3c3e","modified":1480345851511},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"03ddbf76c1dd1afb93eed0b670d2eee747472ef1","modified":1480345851512},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"c31ff06a740955e44edd4403902e653ccabfd4db","modified":1480345851512},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1480345851513},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"865d6c1328ab209a4376b9d2b7a7824369565f28","modified":1480345851525},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"90fa628f156d8045357ff11eaf32e61abacf10e8","modified":1480345851527},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"b930297cb98b8e1dbd5abe9bc1ed9d5935d18ce8","modified":1480345851528},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4ded6fee668544778e97e38c2b211fc56c848e77","modified":1480345851527},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"f4a570908f6c89c6edfb1c74959e733eaadea4f2","modified":1480345851528},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"e0acf1db27b0cc16128a59c46db1db406b5c4c58","modified":1480345851528},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"bf773ad48a0b9aa77681a89d7569eefc0f7b7b18","modified":1480345851529},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"63da5e80ebb61bb66a2794d5936315ca44231f0c","modified":1480345851531},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"92d92860418c4216aa59eb4cb4a556290a7ad9c3","modified":1480345851531},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"bf172816a9c57f9040e3d19c24e181a142daf92b","modified":1480345851534},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"dbbfb50f6502f6b81dcc9fee7b31f1e812da3464","modified":1480345851534},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"dde584994ac13dc601836e86f4cf490e418d9723","modified":1480345851535},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"71e7183634dc1b9449f590f15ebd7201add22ca7","modified":1480345851513},{"_id":"themes/next/source/lib/jquery/index.js","hash":"17a740d68a1c330876c198b6a4d9319f379f3af2","modified":1480345851526},{"_id":"themes/next/.git/logs/refs/heads/master","hash":"8557ab37c33b7f6c8a1d33e5d6005e096532b19a","modified":1480345851386},{"_id":"themes/next/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1480345851383},{"_id":"themes/next/layout/_scripts/third-party/analytics/application-insights.swig","hash":"71397a5823e8ec8aad3b68aace13150623b3e19d","modified":1480345851439},{"_id":"themes/next/layout/_scripts/third-party/analytics/busuanzi-counter.swig","hash":"24105e62d7f26946907fa14cd02589f899bf8122","modified":1480345851440},{"_id":"themes/next/layout/_scripts/third-party/analytics/cnzz-analytics.swig","hash":"a10b7f19d7b5725527514622899df413a34a89db","modified":1480345851440},{"_id":"themes/next/layout/_scripts/third-party/analytics/facebook-sdk.swig","hash":"a79e7e0d809fcf407593dd7ed9e023db21c3cbd6","modified":1480345851440},{"_id":"themes/next/layout/_scripts/third-party/analytics/google-analytics.swig","hash":"1b6af02fd0ba3f729675cd95429a0cea4aebf358","modified":1480345851441},{"_id":"themes/next/layout/_scripts/third-party/analytics/tencent-analytics.swig","hash":"8a399df90dadba5ad4e781445b58f4765aeb701e","modified":1480345851441},{"_id":"themes/next/layout/_scripts/third-party/comments/disqus.swig","hash":"e4a13e8cd19762ef3aea0e59dfae8b3c1f251f11","modified":1480345851442},{"_id":"themes/next/layout/_scripts/third-party/comments/duoshuo.swig","hash":"1600f340e0225361580c44890568dc07dbcf2c89","modified":1480345851442},{"_id":"themes/next/layout/_scripts/third-party/comments/hypercomments.swig","hash":"af7f3e43cbdc4f88c13f101f0f341af96ace3383","modified":1480345851443},{"_id":"themes/next/layout/_scripts/third-party/analytics/baidu-analytics.swig","hash":"ae5b8597603d4e42ee66ed121544e7b1c644767e","modified":1480345851439},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"ad69cbf94eedacc27e756cdb9c7073416db697d0","modified":1480345851450},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"22828f5141c0cecb9ef25a110e194cdfa3a36423","modified":1480345851450},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"ff4489cd582f518bba6909a301ac1292a38b4e96","modified":1480345851451},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"b7d5cc29586ac796a50d90974ad99d24a5982137","modified":1480345851451},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"88559b13ce94311405b170a0506ded91273beceb","modified":1480345851457},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"6eb4bcc3056bd279d000607e8b4dad50d368ca69","modified":1480345851465},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"12662536c7a07fff548abe94171f34b768dd610f","modified":1480345851470},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"5a35aa0381b0e1d465b952a997194441020446ea","modified":1480345851471},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"b6ee5fefa6046086a76ddbcfafc82482816fa3e0","modified":1480345851471},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"3f40e8a9fe8e7bd5cfc4cf4cbbbcb9539462e973","modified":1480345851472},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"c9218b48c56e52c06af9ce3cc8fbdae737cf16fe","modified":1480345851472},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"ea9069645696f86c5df64208490876fe150c8cae","modified":1480345851473},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"25d5e45a355ee2093f3b8b8eeac125ebf3905026","modified":1480345851475},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"d0bfd1bef988c76f7d7dd72d88af6f0908a8b0db","modified":1480345851476},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"b1025c421406d2c24cc92a02ae28c1915b01e240","modified":1480345851476},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"26666c1f472bf5f3fb9bc62081cca22b4de15ccb","modified":1480345851477},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"55b44e03054cd20ed8129bf986b15fba5fd85aad","modified":1480345851477},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1480345851477},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9b913b73d31d21f057f97115ffab93cfa578b884","modified":1480345851478},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c9875c010bebd77b4f59d459a10455fceb0a66a1","modified":1480345851481},{"_id":"themes/next/source/css/_schemes/Pisces/_full-image.styl","hash":"de31e923bf5102498f06b1ae6bdf2ea22409f3e0","modified":1480345851482},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"338e9475519ce72af29a1bc05610f9f486e0f1c2","modified":1480345851482},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"9887bd3894db5394c1e64e800afaae55f47e8dd0","modified":1480345851483},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"1f6e2ce674735269599acc6d77b3ea18d31967fc","modified":1480345851483},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"983c0723e8cfd84b67c2e66da0c26425a8db06e0","modified":1480345851483},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"88a5e0e95f93e4adb196bff1aac17d6cfb03768a","modified":1480345851484},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"748dbfbf9c08e719ddc775958003c64b00d39dab","modified":1480345851479},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"31127dcbf4c7b4ada53ffbf1638b5fe325b7cbc0","modified":1480345851479},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1480345851480},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"f23ac53ab901c48859dd29eee6e386b60ff956ba","modified":1480345851480},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"5dbc0d0c897e46760e5dbee416530d485c747bba","modified":1480345851480},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"a9d064d600ee35acd66508167e1ac8c6cfdbdcd8","modified":1480345851495},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1480345851501},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1480345851501},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1480345851502},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1480345851502},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1480345851503},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1480345851503},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"d71602cbca33b9ecdb7ab291b7f86a49530f3601","modified":1480345851507},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"82f33ad0842aa9c154d029e0dada2497d4eb1d57","modified":1480345851506},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"ae6318aeb62ad4ce7a7e9a4cdacd93ffb004f0fb","modified":1480345851507},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"1d6aeda0480d0e4cb6198edf7719d601d4ae2ccc","modified":1480345851510},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1480345851510},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"a02674d823c7b577d38c3cdb91953993b6e4b3a0","modified":1480345851514},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1480345851514},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"3c1d63dd1176c77f9f4cdb1616fbb08c31b9822f","modified":1480345851515},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"41ea797c68dbcff2f6fb3aba1d1043a22e7cc0f6","modified":1480345851530},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"a817b6c158cbc5bab3582713de9fe18a18a80552","modified":1480345851530},{"_id":"themes/next/.git/objects/pack/pack-5c4d26201d7d4cf7b7a109eab4d66f2aa3d88bca.idx","hash":"3a1a29007edd8fef8ba11b3a97678e2904c934ff","modified":1480345851104},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"1b22f17fdc38070de50e6d1ab3a32da71aa2d819","modified":1480345851517},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"965ce8f688fedbeed504efd498bc9c1622d12362","modified":1480345851518},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"6d7e6a5fc802b13694d8820fc0138037c0977d2e","modified":1480345851524},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"97e438cc545714309882fbceadbf344fcaddcec5","modified":1480345851525},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"4237c6e9d59da349639de20e559e87c2c0218cfd","modified":1480345851533},{"_id":"themes/next/.git/logs/refs/remotes/origin/HEAD","hash":"8557ab37c33b7f6c8a1d33e5d6005e096532b19a","modified":1480345851382},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"4c4ef6e997d0c6e21de39c2daa0c768e12c8c6fa","modified":1480345851451},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d63e0cacc53dd375fcc113465a4328c59ff5f2c1","modified":1480345851452},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"53cde051e0337f4bf42fb8d6d7a79fa3fa6d4ef2","modified":1480345851452},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"852fd77500bda2c1a6651a14aa48d7d6222adc9d","modified":1480345851453},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"0656e753f182c9f47fef7304c847b7587a85ef0d","modified":1480345851453},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"1727702eac5d326b5c81a667944a245016668231","modified":1480345851453},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"7fb593f90d74a99c21840679933b9ef6fdc16a61","modified":1480345851456},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"104b5c79cd891506e0beaf938b083685f1da8637","modified":1480345851455},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"4e3838d7ac81d9ad133960f0f7ed58a44a015285","modified":1480345851456},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"f9760ecf186954cee3ba4a149be334e9ba296b89","modified":1480345851456},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"8cf318644acc8b4978537c263290363e21c7f5af","modified":1480345851457},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"167986d0f649516671ddf7193eebba7b421cd115","modified":1480345851454},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"cd2def16d31feb234be27dcdce2a919f70cc6919","modified":1480345851454},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"7fe4d4d656e86276c17cb4e48a560cb6a4def703","modified":1480345851455},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"a45f5fce643eec4e1b927165229d560364bcace1","modified":1480345851458},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"a200c0a1c5a895ac9dc41e0641a5dfcd766be99b","modified":1480345851458},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"4866fb9453d7d4c83a1c4e55d74e4afed336eb8b","modified":1480345851458},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"cd9e214e502697f2f2db84eb721bac57a49b0fce","modified":1480345851459},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"e2066dd20747e3125c969ef8459d0015fa5233a2","modified":1480345851459},{"_id":"themes/next/source/css/_common/components/post/post-more-link.styl","hash":"2bc3e33fdfbcf348c96ca60598f629dcd7ba3617","modified":1480345851459},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"74e9989a10fc682388cbd25ff7df0d7d4025fb8c","modified":1480345851460},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"8355b0e9375b3245508efda0e18acd069c2aa767","modified":1480345851460},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"5a982d8ef3b3623ea5f59e63728990f5623c1b57","modified":1480345851460},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"350469437b20ecfd6f3ca45e400478f8e3f71cfb","modified":1480345851461},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"01567edaea6978628aa5521a122a85434c418bfd","modified":1480345851461},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"681b7c8ce4dc47130a0ca67c1ec62be7c96e4c4f","modified":1480345851461},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"2fe76476432b31993338cb45cdb3b29a518b6379","modified":1480345851466},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"dd941824210733588841897457e0cc9697ca5608","modified":1480345851466},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"2ad1a2a9bbf6742d1b0762c4c623b68113d1e0fe","modified":1480345851466},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"8420b4be386469337243336aee694297875bd439","modified":1480345851467},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"c8a05ce90784db9744c22fab22019eb637df1f2f","modified":1480345851467},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"3b1aabbab57b0b1fafa311feb1212f59e78e7928","modified":1480345851468},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"5dbeed535d63a50265d96b396a5440f9bb31e4ba","modified":1480345851468},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"7f7e9df15148608a9c29326dd880d8e8e8efc0ec","modified":1480345851469},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"717cc7f82be9cc151e23a7678601ff2fd3a7fa1d","modified":1480345851469},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"15975ba7456b96916b1dbac448a1a0d2c38b8f3d","modified":1480345851469},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"eb4ede7d7446d8a2f2ddeef3b17f497a6ad30756","modified":1480345851470},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"4f1e9d96940aa3e42d58fb63a26d4fa260323b0d","modified":1480345851470},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"7f2bdd6109614d35408ee5ac3335aad4464c69c7","modified":1480345851462},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"761eba9811b050b25d548cc0854de4824b41eb08","modified":1480345851462},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"821991c0890966a512b43e8b1cf9537e738a09a0","modified":1480345851463},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"61f8cea3c01acd600e90e1bc2a07def405503748","modified":1480345851463},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"1153bb71edf253765145559674390e16dd67c633","modified":1480345851463},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"394888efec32749b353292a59ec7f1b609d6325e","modified":1480345851464},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"06b9a99d63b4d57fdbf70b88ab7036fbc47e3f52","modified":1480345851464},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"702be9e57dd6ff5fa99642a1f6e3df26215b8805","modified":1480345851464},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"e71652d3216e289c8548b1ea2357822c1476a425","modified":1480345851465},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"cf900c5026ab36f31118317d0ae32a213e3ec2a9","modified":1480345851479},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"a07aa12cc36ac5c819670c2a3c17d07ed7a08986","modified":1480345851478},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"cf900c5026ab36f31118317d0ae32a213e3ec2a9","modified":1480345851481},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1480345851504},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"6394c48092085788a8c0ef72670b0652006231a1","modified":1480345851504},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"ee948b4489aedeb548a77c9e45d8c7c5732fd62d","modified":1480345851505},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"51139a4c79573d372a347ef01a493222a1eaf10a","modified":1480345851505},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"b88b589f5f1aa1b3d87cc7eef34c281ff749b1ae","modified":1480345851505},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"d22b1629cb23a6181bebb70d0cf653ffe4b835c8","modified":1480345851506},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"61d8d967807ef12598d81582fa95b9f600c3ee01","modified":1480345851523},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"90a1b22129efc172e2dfcceeeb76bff58bc3192f","modified":1480345851500},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"964e8dac2cee79c4b49b5bc300675773f6518812","modified":1480345851521},{"_id":"themes/next/.git/objects/pack/pack-5c4d26201d7d4cf7b7a109eab4d66f2aa3d88bca.pack","hash":"ed727435eb82de0486b2a011827e53b71342c928","modified":1480345851228},{"_id":"public/about/index.html","hash":"2ac22a77cd5c046b06811d9fc43a0b502cb94706","modified":1480347765907},{"_id":"public/tags/index.html","hash":"e3bc503e4aedb8b05e387ef10ede1102e5ce5a75","modified":1480347765907},{"_id":"public/categories/随笔/index.html","hash":"41029f8dc4bc8dcf35f901893372f0223feb5470","modified":1480347765908},{"_id":"public/categories/schedule/index.html","hash":"401f22c3052dd8876c37a6e3ef12ecba439f933d","modified":1480347765908},{"_id":"public/categories/notes/CS229-Machine-Learning/index.html","hash":"124880b10c06d0c861d13b429d80395e2b23523f","modified":1480347765908},{"_id":"public/categories/使用手册/index.html","hash":"4bad3fca67d168df7c242641d1b811d2f0f46a79","modified":1480347765908},{"_id":"public/categories/技术随笔/index.html","hash":"3e02de5935931941849efbafef4e83e32566e526","modified":1480347765908},{"_id":"public/categories/基础机器学习算法实现/index.html","hash":"1fed07f462c82cd128e3041c86454cf66a2de733","modified":1480347765908},{"_id":"public/categories/Software-Engineer/index.html","hash":"4a200dddbdef9ecc19865f73193f65f678ef0192","modified":1480347765908},{"_id":"public/categories/notes/统计学习方法/index.html","hash":"620359d87db6c919d6b92d089dca9fd096e6b0a1","modified":1480347765908},{"_id":"public/categories/Duckietown/index.html","hash":"65b9830eb04fbb3e9de6bb564120533986494fba","modified":1480347765908},{"_id":"public/categories/notes/龙星计划-机器学习/index.html","hash":"b2ef92c451ddd6b6524c535a98d8c4ff61109abc","modified":1480347765909},{"_id":"public/categories/Software-Engineer/设计模式/index.html","hash":"fb201552890997cba850e117df9ea895d1029af7","modified":1480347765909},{"_id":"public/tags/hexo/index.html","hash":"1e385bb212be20769bce7be1c6fd07b2eb2abe51","modified":1480347765909},{"_id":"public/tags/设计模式/index.html","hash":"39986c89e91ad5160b52eb0d111d1725654b17d5","modified":1480347765909},{"_id":"public/tags/C/index.html","hash":"9d5339fd8f108919980cb827126cc8957992abcf","modified":1480347765909},{"_id":"public/tags/统计学习/index.html","hash":"d44e2c55edb068d1ecc9d2c19330ea996b7159c2","modified":1480347765909},{"_id":"public/tags/Robotics/index.html","hash":"564abd70d62ed303cb6ea45d053e82c95f8e0d2e","modified":1480347765909},{"_id":"public/categories/index.html","hash":"d315d0569ae42e2ae82af0a40814806362c30dc0","modified":1480347765909},{"_id":"public/2016/11/28/hello-world/index.html","hash":"97e037c5cc546d7944b282afb3b471ad60f55036","modified":1480347765909},{"_id":"public/2016/11/13/设计模式示例（C-实现）/index.html","hash":"1f98b5f2cd9982a4c741daa8581d2f312f3804fc","modified":1480347765909},{"_id":"public/2016/11/10/机器学习基石notes-Lecture3/index.html","hash":"da0c4626f9edf095969982e872f741c2241f9a19","modified":1480347765909},{"_id":"public/2016/11/08/翻译-Duckietownan-Open-Inexpensive-and-Flexible-Platform-for-Autonomy-Education-and-Research/index.html","hash":"56130f1c024b56cc5006468bb77b7f9b26892c42","modified":1480347765909},{"_id":"public/2016/11/06/基础机器学习算法Python实现/index.html","hash":"a6160368bbbc1deef5396beeb97d695688ecd364","modified":1480347765909},{"_id":"public/2016/11/05/CS229-Machine-Learning-notes-Lecture2-监督学习/index.html","hash":"b118f54812fc55154c7baef7fb8cf7f3c45447a1","modified":1480347765910},{"_id":"public/2016/11/03/统计学习方法读书笔记/index.html","hash":"93638147718d7defd5bd61aebe7a08425835bad7","modified":1480347765910},{"_id":"public/2016/11/02/机器学习基石notes-Lecture2/index.html","hash":"768fdd1435b7bc1af78aca01e86e7697bc09310f","modified":1480347765910},{"_id":"public/2016/11/02/机器学习基石notes-Lecture1/index.html","hash":"45959023f5e39fef888ac76b9be3e80a8606217a","modified":1480347765910},{"_id":"public/2016/11/01/龙星计划-机器学习-notes-Lecture1-机器学习简介及线性代数、概率论、统计学知识回顾/index.html","hash":"d6c9fcff1c4fc9655f77bc1bc40b71dde4a251ff","modified":1480347765910},{"_id":"public/2016/10/31/CS229-Machine Learning notes-Lecture1-机器学习的动机与应用/index.html","hash":"ab00e1c5093f0579730b5d13fbd961431206542c","modified":1480347765910},{"_id":"public/2016/10/31/myStackOverflow/index.html","hash":"13cbd0de43d63fa92a457681b019baa052573d0a","modified":1480347765910},{"_id":"public/2016/10/30/NumPy/index.html","hash":"46e371471b3108be815e063b811a80a14a3c45e9","modified":1480347765910},{"_id":"public/2016/10/29/Live-like-a-robot/index.html","hash":"b595e5213ebf23922117107114608ee69f44d430","modified":1480347765910},{"_id":"public/2016/10/19/Hello-World-0/index.html","hash":"32f6e9747562a2679299302d633c1f740223cbbd","modified":1480347765910},{"_id":"public/archives/index.html","hash":"320e16133de64136bfcce30b4465ded6c8396d23","modified":1480347765910},{"_id":"public/archives/page/2/index.html","hash":"c1237778644954aef8d14e8583105ed4ee72d1cf","modified":1480347765910},{"_id":"public/archives/2016/index.html","hash":"c22762746b45eab2bbdb3151eae7be8cd453bd57","modified":1480347765910},{"_id":"public/archives/2016/page/2/index.html","hash":"6ed1793f51ac8d725544dede56ba4c297cfd23c6","modified":1480347765910},{"_id":"public/archives/2016/10/index.html","hash":"791ad80d0fd236e2982472d8db061a69205f13f4","modified":1480347765910},{"_id":"public/archives/2016/11/index.html","hash":"b4e2685918015ed0c33ec96c9a05dc5e5c90c9ef","modified":1480347765911},{"_id":"public/categories/notes/index.html","hash":"716fb876dd0feaed630a9df9c5328087d4a81735","modified":1480347765911},{"_id":"public/categories/notes/机器学习基石/index.html","hash":"4ea4c88d09d03e996f6cea507d9482e6867b888a","modified":1480347765911},{"_id":"public/index.html","hash":"08b2097126a19e53ddd94b0d7951e40267bdfe87","modified":1480347765911},{"_id":"public/page/2/index.html","hash":"d9bfd26465e4a7b31fd6071aaec94dbfdd1afa42","modified":1480347765911},{"_id":"public/tags/Machine-Learning/index.html","hash":"dcf05648c2c9d668b6810cdbda9ff6b189c4643e","modified":1480347765911},{"_id":"public/favicon.ico","hash":"ad9630bda8ad9effb0e325a30614184c2d943e5b","modified":1480347765951},{"_id":"public/images/avatar.png","hash":"ad9630bda8ad9effb0e325a30614184c2d943e5b","modified":1480347765951},{"_id":"public/images/algolia_logo.svg","hash":"16505f61f19ba65f629dfd033f14ee9abcf18756","modified":1480347765951},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1480347765952},{"_id":"public/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1480347765952},{"_id":"public/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1480347765952},{"_id":"public/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1480347765952},{"_id":"public/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1480347765952},{"_id":"public/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1480347765952},{"_id":"public/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1480347765952},{"_id":"public/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1480347765952},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1480347765952},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1480347765952},{"_id":"public/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1480347765952},{"_id":"public/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1480347765952},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1480347765952},{"_id":"public/lib/fastclick/LICENSE","hash":"6f474ea75c42442da7bbcf2e9143ce98258efd8d","modified":1480347765952},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1480347765952},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1480347765952},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1480347765953},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1480347765954},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1480347765954},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1480347765954},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1480347765954},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1480347765954},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1480347765954},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"1b22f17fdc38070de50e6d1ab3a32da71aa2d819","modified":1480347767057},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"965ce8f688fedbeed504efd498bc9c1622d12362","modified":1480347767063},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"6d7e6a5fc802b13694d8820fc0138037c0977d2e","modified":1480347767067},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"97e438cc545714309882fbceadbf344fcaddcec5","modified":1480347767067},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1480347767075},{"_id":"public/js/src/algolia-search.js","hash":"96b29f69b8b916b22f62c9959a117b5a968200a5","modified":1480347767075},{"_id":"public/js/src/bootstrap.js","hash":"39bf93769d9080fa01a9a875183b43198f79bc19","modified":1480347767075},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1480347767075},{"_id":"public/js/src/post-details.js","hash":"2038f54e289b6da5def09689e69f623187147be5","modified":1480347767075},{"_id":"public/js/src/motion.js","hash":"269414e84df544a4ccb88519f6abae4943db3c67","modified":1480347767075},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1480347767075},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1480347767075},{"_id":"public/js/src/utils.js","hash":"384e17ff857f073060f5bf8c6e4f4b7353236331","modified":1480347767075},{"_id":"public/lib/fastclick/README.html","hash":"da3c74d484c73cc7df565e8abbfa4d6a5a18d4da","modified":1480347767075},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1480347767075},{"_id":"public/lib/jquery_lazyload/README.html","hash":"bde24335f6bc09d8801c0dcd7274f71b466552bd","modified":1480347767076},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1480347767076},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"a6358170d346af13b1452ac157b60505bec7015c","modified":1480347767076},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1480347767076},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1480347767076},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1480347767076},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1480347767076},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1480347767076},{"_id":"public/js/src/schemes/pisces.js","hash":"7506e7490c69a200831393c38d25e91c156bd471","modified":1480347767076},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1480347767076},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1480347767076},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1480347767076},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1480347767076},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1480347767076},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1480347767076},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1480347767077},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1480347767077},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1480347767077},{"_id":"public/css/main.css","hash":"95162ef5df06d647e974e44cd2a7c1b3e51aa5b6","modified":1480347767077},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1480347767077},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1480347767077},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1480347767077},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1480347767077},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1480347767077},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1480347767078},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"4eda182cbcc046dbf449aef97c02c230cf80a494","modified":1480347767078},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"fb5b49426dee7f1508500e698d1b3c6b04c8fcce","modified":1480347767078},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1480347767078},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1480347767078},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"61d8d967807ef12598d81582fa95b9f600c3ee01","modified":1480347767078},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"964e8dac2cee79c4b49b5bc300675773f6518812","modified":1480347767101}],"Category":[{"name":"notes","_id":"ciw28u3x90004p4qte0n7fwi2"},{"name":"随笔","_id":"ciw28u3xs000ep4qtsgfj0ktd"},{"name":"schedule","_id":"ciw28u3xx000jp4qttttgozgr"},{"name":"CS229-Machine Learning","parent":"ciw28u3x90004p4qte0n7fwi2","_id":"ciw28u3y4000pp4qtiu8pjfve"},{"name":"使用手册","_id":"ciw28u3ye000xp4qtsa8smxu0"},{"name":"技术随笔","_id":"ciw28u3yp001bp4qti1zp9ma6"},{"name":"基础机器学习算法实现","_id":"ciw28u3yq001fp4qtogjvgk6i"},{"name":"机器学习基石","parent":"ciw28u3x90004p4qte0n7fwi2","_id":"ciw28u3ys001jp4qtnxlzo993"},{"name":"Software Engineer","_id":"ciw28u3yv001qp4qttotphukc"},{"name":"统计学习方法","parent":"ciw28u3x90004p4qte0n7fwi2","_id":"ciw28u3yw001tp4qttzjnf8ac"},{"name":"Duckietown","_id":"ciw28u3yx001vp4qtsenhuwiv"},{"name":"龙星计划-机器学习","parent":"ciw28u3x90004p4qte0n7fwi2","_id":"ciw28u3yz001xp4qtsfaa5hah"},{"name":"设计模式","parent":"ciw28u3yv001qp4qttotphukc","_id":"ciw28u3z00020p4qt88echjfx"}],"Data":[],"Page":[{"title":"about","date":"2016-11-28T15:39:52.000Z","type":"about","comments":0,"_content":"\n**韩峰(Feng Han)**","source":"about/index.md","raw":"---\ntitle: about\ndate: 2016-11-28 23:39:52\ntype: \"about\"\ncomments: false\n---\n\n**韩峰(Feng Han)**","updated":"2016-11-28T15:41:07.660Z","path":"about/index.html","layout":"page","_id":"ciw28u3x30001p4qtcq20ft57","content":"<p><strong>韩峰(Feng Han)</strong></p>\n","excerpt":"","more":"<p><strong>韩峰(Feng Han)</strong></p>\n"},{"title":"categories","date":"2016-11-28T15:27:38.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2016-11-28 23:27:38\ntype: \"categories\"\ncomments: false\n---\n","updated":"2016-11-28T15:28:31.828Z","path":"categories/index.html","layout":"page","_id":"ciw28u3x70003p4qtn7ojk5mb","content":"","excerpt":"","more":""},{"title":"tags","date":"2016-11-28T15:26:03.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2016-11-28 23:26:03\ntype: \"tags\"\ncomments: false\n---\n","updated":"2016-11-28T15:26:58.664Z","path":"tags/index.html","layout":"page","_id":"ciw28u44m0025p4qtq1e0795t","content":"","excerpt":"","more":""}],"Post":[{"title":"CS229-Machine Learning notes-Lecture1-机器学习的动机与应用","date":"2016-10-31T02:39:03.000Z","_content":"\n> 机器学习的作用是有些问题是无法直接写出程序来解决的，学习型算法无处不在。\n\n<!--more-->\n\n### 需要掌握的知识\n\n* 基础计算机知识技能。\n* 基本的概率统计知识（随机变量、期望、方差。。。）\n* 线性代数（矩阵、向量、逆矩阵、特征向量、特征值。。。）\n\n### 机器学习定义\n\n任务 性能测量方法 经验\n\n### 四个主题\n\n* 监督学习（回归问题、分类问题）\n* 学习理论（理解学习型算法为什么是高效的）\n* 无监督学习（聚类问题）\n* 强化学习（回报函数，可应用于机器人控制）\n\n### others\n\n[在线资源](http://cs229.stanford.edu)\n\nMATLAB Octave\n\n凸优化理论 隐马尔科夫模型 SVM","source":"_posts/CS229-Machine Learning notes-Lecture1-机器学习的动机与应用.md","raw":"---\ntitle: CS229-Machine Learning notes-Lecture1-机器学习的动机与应用\ndate: 2016-10-31 10:39:03\ntags:\n- Machine Learning\ncategories: \n- notes\n- CS229-Machine Learning\n---\n\n> 机器学习的作用是有些问题是无法直接写出程序来解决的，学习型算法无处不在。\n\n<!--more-->\n\n### 需要掌握的知识\n\n* 基础计算机知识技能。\n* 基本的概率统计知识（随机变量、期望、方差。。。）\n* 线性代数（矩阵、向量、逆矩阵、特征向量、特征值。。。）\n\n### 机器学习定义\n\n任务 性能测量方法 经验\n\n### 四个主题\n\n* 监督学习（回归问题、分类问题）\n* 学习理论（理解学习型算法为什么是高效的）\n* 无监督学习（聚类问题）\n* 强化学习（回报函数，可应用于机器人控制）\n\n### others\n\n[在线资源](http://cs229.stanford.edu)\n\nMATLAB Octave\n\n凸优化理论 隐马尔科夫模型 SVM","slug":"CS229-Machine Learning notes-Lecture1-机器学习的动机与应用","published":1,"updated":"2016-11-05T01:08:10.916Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3wx0000p4qtee3oo1l6","content":"<blockquote>\n<p>机器学习的作用是有些问题是无法直接写出程序来解决的，学习型算法无处不在。</p>\n</blockquote>\n<a id=\"more\"></a>\n<h3 id=\"需要掌握的知识\"><a href=\"#需要掌握的知识\" class=\"headerlink\" title=\"需要掌握的知识\"></a>需要掌握的知识</h3><ul>\n<li>基础计算机知识技能。</li>\n<li>基本的概率统计知识（随机变量、期望、方差。。。）</li>\n<li>线性代数（矩阵、向量、逆矩阵、特征向量、特征值。。。）</li>\n</ul>\n<h3 id=\"机器学习定义\"><a href=\"#机器学习定义\" class=\"headerlink\" title=\"机器学习定义\"></a>机器学习定义</h3><p>任务 性能测量方法 经验</p>\n<h3 id=\"四个主题\"><a href=\"#四个主题\" class=\"headerlink\" title=\"四个主题\"></a>四个主题</h3><ul>\n<li>监督学习（回归问题、分类问题）</li>\n<li>学习理论（理解学习型算法为什么是高效的）</li>\n<li>无监督学习（聚类问题）</li>\n<li>强化学习（回报函数，可应用于机器人控制）</li>\n</ul>\n<h3 id=\"others\"><a href=\"#others\" class=\"headerlink\" title=\"others\"></a>others</h3><p><a href=\"http://cs229.stanford.edu\" target=\"_blank\" rel=\"external\">在线资源</a></p>\n<p>MATLAB Octave</p>\n<p>凸优化理论 隐马尔科夫模型 SVM</p>\n","excerpt":"<blockquote>\n<p>机器学习的作用是有些问题是无法直接写出程序来解决的，学习型算法无处不在。</p>\n</blockquote>","more":"<h3 id=\"需要掌握的知识\"><a href=\"#需要掌握的知识\" class=\"headerlink\" title=\"需要掌握的知识\"></a>需要掌握的知识</h3><ul>\n<li>基础计算机知识技能。</li>\n<li>基本的概率统计知识（随机变量、期望、方差。。。）</li>\n<li>线性代数（矩阵、向量、逆矩阵、特征向量、特征值。。。）</li>\n</ul>\n<h3 id=\"机器学习定义\"><a href=\"#机器学习定义\" class=\"headerlink\" title=\"机器学习定义\"></a>机器学习定义</h3><p>任务 性能测量方法 经验</p>\n<h3 id=\"四个主题\"><a href=\"#四个主题\" class=\"headerlink\" title=\"四个主题\"></a>四个主题</h3><ul>\n<li>监督学习（回归问题、分类问题）</li>\n<li>学习理论（理解学习型算法为什么是高效的）</li>\n<li>无监督学习（聚类问题）</li>\n<li>强化学习（回报函数，可应用于机器人控制）</li>\n</ul>\n<h3 id=\"others\"><a href=\"#others\" class=\"headerlink\" title=\"others\"></a>others</h3><p><a href=\"http://cs229.stanford.edu\">在线资源</a></p>\n<p>MATLAB Octave</p>\n<p>凸优化理论 隐马尔科夫模型 SVM</p>"},{"title":"CS229-Machine Learning notes-Lecture2-监督学习","date":"2016-11-05T01:06:40.000Z","_content":"\n# 基础知识与引入\n\n* 常用符号\n\n* 机器学习的过程\n\n# 线性回归\n\n损失函数\n\n$${\\mit J}(\\theta) = \\frac{1}{2}\\sum_{i=1}^{m} {(h_\\theta(x^{(i)}) - y^{(i)})}^2$$\n\n## 梯度下降算法\n\n看原视频中的动画讲解或者复习微积分知识中偏导数的梯度问题\n\n问题： 选取不同的初始值可能会得到不同的局部最优值\n\n$$ {\\theta}_j := {\\theta}_j-\\alpha \\frac{\\partial}{\\partial {\\theta}_j} {\\mit J}(\\theta) $$\n\n$$ {\\theta}_j := {\\theta}_j + \\alpha(y^{(i)} - h_{\\theta}(x^{(i)}))x_j^{(i)} $$\n\n批量梯度下降\n\n$$ {\\theta}_j := {\\theta}_j + \\alpha\\sum_{i=1}^{m} {(y^{(i)} - h_{\\theta}(x^{(i)}))x_j^{(i)}} $$\n\n随机梯度下降\n\n$$ {\\theta}_j := {\\theta}_j + \\alpha(y^{(i)} - h_{\\theta}(x^{(i)}))x_j^{(i)} $$\n\n## 正规方程\n\n$$X^TX\\theta = X^T\\vec{y}$$\n\n### 最小二乘法\n\n$$\\theta = (X^{T}X)^{-1}X^{T}\\vec{y}$$\n\n## 概率解释\n\n为什么使用平方损失函数\n\n误差项满足独立同分布\n如何根据给定的数据的概率和参数的似然性来估计参数\n极大似然估计（选择参数$\\theta$使得数据出现的可能性尽可能大，使似然性最大化）\n\n误差项满足高斯分布并且独立同分布的情况下使似然性最大化\n\n## 局部加权回归\n\n\n对数似然性最大化\n为了使函数最大化\n可以使用梯度下降算法（使二次函数最小化）","source":"_posts/CS229-Machine-Learning-notes-Lecture2-监督学习.md","raw":"---\ntitle: CS229-Machine Learning notes-Lecture2-监督学习\ndate: 2016-11-05 09:06:40\ntags:\n- Machine Learning\ncategories: \n- notes\n- CS229-Machine Learning\n---\n\n# 基础知识与引入\n\n* 常用符号\n\n* 机器学习的过程\n\n# 线性回归\n\n损失函数\n\n$${\\mit J}(\\theta) = \\frac{1}{2}\\sum_{i=1}^{m} {(h_\\theta(x^{(i)}) - y^{(i)})}^2$$\n\n## 梯度下降算法\n\n看原视频中的动画讲解或者复习微积分知识中偏导数的梯度问题\n\n问题： 选取不同的初始值可能会得到不同的局部最优值\n\n$$ {\\theta}_j := {\\theta}_j-\\alpha \\frac{\\partial}{\\partial {\\theta}_j} {\\mit J}(\\theta) $$\n\n$$ {\\theta}_j := {\\theta}_j + \\alpha(y^{(i)} - h_{\\theta}(x^{(i)}))x_j^{(i)} $$\n\n批量梯度下降\n\n$$ {\\theta}_j := {\\theta}_j + \\alpha\\sum_{i=1}^{m} {(y^{(i)} - h_{\\theta}(x^{(i)}))x_j^{(i)}} $$\n\n随机梯度下降\n\n$$ {\\theta}_j := {\\theta}_j + \\alpha(y^{(i)} - h_{\\theta}(x^{(i)}))x_j^{(i)} $$\n\n## 正规方程\n\n$$X^TX\\theta = X^T\\vec{y}$$\n\n### 最小二乘法\n\n$$\\theta = (X^{T}X)^{-1}X^{T}\\vec{y}$$\n\n## 概率解释\n\n为什么使用平方损失函数\n\n误差项满足独立同分布\n如何根据给定的数据的概率和参数的似然性来估计参数\n极大似然估计（选择参数$\\theta$使得数据出现的可能性尽可能大，使似然性最大化）\n\n误差项满足高斯分布并且独立同分布的情况下使似然性最大化\n\n## 局部加权回归\n\n\n对数似然性最大化\n为了使函数最大化\n可以使用梯度下降算法（使二次函数最小化）","slug":"CS229-Machine-Learning-notes-Lecture2-监督学习","published":1,"updated":"2016-11-07T11:42:31.419Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3x50002p4qtfptkogvd","content":"<h1 id=\"基础知识与引入\"><a href=\"#基础知识与引入\" class=\"headerlink\" title=\"基础知识与引入\"></a>基础知识与引入</h1><ul>\n<li><p>常用符号</p>\n</li>\n<li><p>机器学习的过程</p>\n</li>\n</ul>\n<h1 id=\"线性回归\"><a href=\"#线性回归\" class=\"headerlink\" title=\"线性回归\"></a>线性回归</h1><p>损失函数</p>\n<p>$${\\mit J}(\\theta) = \\frac{1}{2}\\sum<em>{i=1}^{m} {(h</em>\\theta(x^{(i)}) - y^{(i)})}^2$$</p>\n<h2 id=\"梯度下降算法\"><a href=\"#梯度下降算法\" class=\"headerlink\" title=\"梯度下降算法\"></a>梯度下降算法</h2><p>看原视频中的动画讲解或者复习微积分知识中偏导数的梯度问题</p>\n<p>问题： 选取不同的初始值可能会得到不同的局部最优值</p>\n<p>$$ {\\theta}_j := {\\theta}_j-\\alpha \\frac{\\partial}{\\partial {\\theta}_j} {\\mit J}(\\theta) $$</p>\n<p>$$ {\\theta}_j := {\\theta}<em>j + \\alpha(y^{(i)} - h</em>{\\theta}(x^{(i)}))x_j^{(i)} $$</p>\n<p>批量梯度下降</p>\n<p>$$ {\\theta}_j := {\\theta}<em>j + \\alpha\\sum</em>{i=1}^{m} {(y^{(i)} - h_{\\theta}(x^{(i)}))x_j^{(i)}} $$</p>\n<p>随机梯度下降</p>\n<p>$$ {\\theta}_j := {\\theta}<em>j + \\alpha(y^{(i)} - h</em>{\\theta}(x^{(i)}))x_j^{(i)} $$</p>\n<h2 id=\"正规方程\"><a href=\"#正规方程\" class=\"headerlink\" title=\"正规方程\"></a>正规方程</h2><p>$$X^TX\\theta = X^T\\vec{y}$$</p>\n<h3 id=\"最小二乘法\"><a href=\"#最小二乘法\" class=\"headerlink\" title=\"最小二乘法\"></a>最小二乘法</h3><p>$$\\theta = (X^{T}X)^{-1}X^{T}\\vec{y}$$</p>\n<h2 id=\"概率解释\"><a href=\"#概率解释\" class=\"headerlink\" title=\"概率解释\"></a>概率解释</h2><p>为什么使用平方损失函数</p>\n<p>误差项满足独立同分布<br>如何根据给定的数据的概率和参数的似然性来估计参数<br>极大似然估计（选择参数$\\theta$使得数据出现的可能性尽可能大，使似然性最大化）</p>\n<p>误差项满足高斯分布并且独立同分布的情况下使似然性最大化</p>\n<h2 id=\"局部加权回归\"><a href=\"#局部加权回归\" class=\"headerlink\" title=\"局部加权回归\"></a>局部加权回归</h2><p>对数似然性最大化<br>为了使函数最大化<br>可以使用梯度下降算法（使二次函数最小化）</p>\n","excerpt":"","more":"<h1 id=\"基础知识与引入\"><a href=\"#基础知识与引入\" class=\"headerlink\" title=\"基础知识与引入\"></a>基础知识与引入</h1><ul>\n<li><p>常用符号</p>\n</li>\n<li><p>机器学习的过程</p>\n</li>\n</ul>\n<h1 id=\"线性回归\"><a href=\"#线性回归\" class=\"headerlink\" title=\"线性回归\"></a>线性回归</h1><p>损失函数</p>\n<p>$${\\mit J}(\\theta) = \\frac{1}{2}\\sum<em>{i=1}^{m} {(h</em>\\theta(x^{(i)}) - y^{(i)})}^2$$</p>\n<h2 id=\"梯度下降算法\"><a href=\"#梯度下降算法\" class=\"headerlink\" title=\"梯度下降算法\"></a>梯度下降算法</h2><p>看原视频中的动画讲解或者复习微积分知识中偏导数的梯度问题</p>\n<p>问题： 选取不同的初始值可能会得到不同的局部最优值</p>\n<p>$$ {\\theta}_j := {\\theta}_j-\\alpha \\frac{\\partial}{\\partial {\\theta}_j} {\\mit J}(\\theta) $$</p>\n<p>$$ {\\theta}_j := {\\theta}<em>j + \\alpha(y^{(i)} - h</em>{\\theta}(x^{(i)}))x_j^{(i)} $$</p>\n<p>批量梯度下降</p>\n<p>$$ {\\theta}_j := {\\theta}<em>j + \\alpha\\sum</em>{i=1}^{m} {(y^{(i)} - h_{\\theta}(x^{(i)}))x_j^{(i)}} $$</p>\n<p>随机梯度下降</p>\n<p>$$ {\\theta}_j := {\\theta}<em>j + \\alpha(y^{(i)} - h</em>{\\theta}(x^{(i)}))x_j^{(i)} $$</p>\n<h2 id=\"正规方程\"><a href=\"#正规方程\" class=\"headerlink\" title=\"正规方程\"></a>正规方程</h2><p>$$X^TX\\theta = X^T\\vec{y}$$</p>\n<h3 id=\"最小二乘法\"><a href=\"#最小二乘法\" class=\"headerlink\" title=\"最小二乘法\"></a>最小二乘法</h3><p>$$\\theta = (X^{T}X)^{-1}X^{T}\\vec{y}$$</p>\n<h2 id=\"概率解释\"><a href=\"#概率解释\" class=\"headerlink\" title=\"概率解释\"></a>概率解释</h2><p>为什么使用平方损失函数</p>\n<p>误差项满足独立同分布<br>如何根据给定的数据的概率和参数的似然性来估计参数<br>极大似然估计（选择参数$\\theta$使得数据出现的可能性尽可能大，使似然性最大化）</p>\n<p>误差项满足高斯分布并且独立同分布的情况下使似然性最大化</p>\n<h2 id=\"局部加权回归\"><a href=\"#局部加权回归\" class=\"headerlink\" title=\"局部加权回归\"></a>局部加权回归</h2><p>对数似然性最大化<br>为了使函数最大化<br>可以使用梯度下降算法（使二次函数最小化）</p>\n"},{"title":"Hello World","date":"2016-10-19T04:27:14.000Z","_content":"\n### 目的&作用\n\n* 对已学知识及掌握技能进行总结。本科即将毕业进入研究生阶段，但是发现之前所学及所了解内容不成体系，没内化成自己的，也即是只有输入没有输出，通过写博客，把学到的东西用自己的语言讲出来应该可以有更深刻的理解和掌握。\n* 记录自己的项目完成过程。没有文档的项目称不上项目，通过博客应该可以督促自己完善项目文档，而且之后再用到相关方面的知识也可以有记录可查。\n* 装B。这应该是很多人冲动下建博客的初衷，之前我也在Github、CSDN、腾讯云上建过个人博客，也没有坚持下来，但这一次我想我做好准备了，希望这个B可以装久点。","source":"_posts/Hello-World-0.md","raw":"---\ntitle: Hello World\ndate: 2016-10-19 12:27:14\ncategories: 随笔\n---\n\n### 目的&作用\n\n* 对已学知识及掌握技能进行总结。本科即将毕业进入研究生阶段，但是发现之前所学及所了解内容不成体系，没内化成自己的，也即是只有输入没有输出，通过写博客，把学到的东西用自己的语言讲出来应该可以有更深刻的理解和掌握。\n* 记录自己的项目完成过程。没有文档的项目称不上项目，通过博客应该可以督促自己完善项目文档，而且之后再用到相关方面的知识也可以有记录可查。\n* 装B。这应该是很多人冲动下建博客的初衷，之前我也在Github、CSDN、腾讯云上建过个人博客，也没有坚持下来，但这一次我想我做好准备了，希望这个B可以装久点。","slug":"Hello-World-0","published":1,"updated":"2016-10-19T12:32:24.312Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3xe0006p4qt9dv8uvnl","content":"<h3 id=\"目的-amp-作用\"><a href=\"#目的-amp-作用\" class=\"headerlink\" title=\"目的&amp;作用\"></a>目的&amp;作用</h3><ul>\n<li>对已学知识及掌握技能进行总结。本科即将毕业进入研究生阶段，但是发现之前所学及所了解内容不成体系，没内化成自己的，也即是只有输入没有输出，通过写博客，把学到的东西用自己的语言讲出来应该可以有更深刻的理解和掌握。</li>\n<li>记录自己的项目完成过程。没有文档的项目称不上项目，通过博客应该可以督促自己完善项目文档，而且之后再用到相关方面的知识也可以有记录可查。</li>\n<li>装B。这应该是很多人冲动下建博客的初衷，之前我也在Github、CSDN、腾讯云上建过个人博客，也没有坚持下来，但这一次我想我做好准备了，希望这个B可以装久点。</li>\n</ul>\n","excerpt":"","more":"<h3 id=\"目的-amp-作用\"><a href=\"#目的-amp-作用\" class=\"headerlink\" title=\"目的&amp;作用\"></a>目的&amp;作用</h3><ul>\n<li>对已学知识及掌握技能进行总结。本科即将毕业进入研究生阶段，但是发现之前所学及所了解内容不成体系，没内化成自己的，也即是只有输入没有输出，通过写博客，把学到的东西用自己的语言讲出来应该可以有更深刻的理解和掌握。</li>\n<li>记录自己的项目完成过程。没有文档的项目称不上项目，通过博客应该可以督促自己完善项目文档，而且之后再用到相关方面的知识也可以有记录可查。</li>\n<li>装B。这应该是很多人冲动下建博客的初衷，之前我也在Github、CSDN、腾讯云上建过个人博客，也没有坚持下来，但这一次我想我做好准备了，希望这个B可以装久点。</li>\n</ul>\n"},{"title":"Live like a robot","date":"2016-10-29T05:10:59.000Z","_content":"\n## Schedule\n\n<!--more-->\n\n| 00:00 -- 24:00 | Monday | Tuesday | Wednesday | Thursday | Friday | Saturday | Sunday |\n| :--------: | :-----: | :------: | :--------: | :-----: | :-----: | :-------: | :-----: |\n| 07:00 -- 08:00 | Breakfast | Breakfast | Breakfast | Breakfast | Breakfast | Breakfast | Breakfast |\n| 08:00 -- 09:30 | Linear Algebra | Probability Statistics | Calculus | Linear Algebra | Probability Statistics | Calculus | Linear Algebra |\n| 09:30 -- 11:15 | [CS229 Machine Learning](#1) | [DragonStar Machine Learning](#2) | [Machine Learning Foundations](#3) | [统计学习方法](#4) | [机器学习](#5) | Graduation Project | Graduation Project |\n| 11:15 -- 13:00 | lunch/nap | lunch/nap | lunch/nap | lunch/nap | lunch/nap | lunch/nap | lunch/nap |\n| 13:00 -- 15:00 | exercises/blog | exercises/blog | exercises/blog | exercises/blog | exercises/blog | exercises/blog | exercises/blog |\n| 15:00 -- 16:00 | sports | sports | sports | sports | sports | sports | sports |\n| 16:00 -- 18:00 | rest/dinner/TV [Running Man](http://www.youku.com/show_page/id_z7712090c9d5a11e5a080.html?spm=a2h0j.8191423.subscription_wrap.DD~A) | rest/dinner/TV [The Big Bang Theory](http://www.loldytt.com/Zuixinmeiju/SHDBZDSJ/)  | rest/dinner/TV [West Word](http://www.loldytt.com/Zuixinmeiju/XBSJDYJ/)| rest/dinner/TV [Modern Family](http://www.loldytt.com/Zuixinmeiju/XBSJDYJ/) | rest/dinner/TV [The Flash](http://www.loldytt.com/Zuixinmeiju/SDXDSJ/) | rest/dinner/TV [The Night](http://www.loldytt.com/Zuixinmeiju/ZYZBZEZYDYJ/) | rest/dinner/TV [Designated Survivor](http://www.loldytt.com/Zuixinmeiju/ZDXCZDYJ/) |\n| 18:00 -- 21:00 | coding | coding | coding | coding | coding | coding | coding |\n| 21:00 -- 23:00 | Graduation Project | Graduation Project | Graduation Project | Graduation Project | Graduation Project | Graduation Project | Graduation Project |\n\n## Materials\n\n* <h4 id=\"1\"> <a href=\"http://cs229.stanford.edu/materials.html\">CS229 Machine Learning</a> </h4>\n\n* <h4 id=\"2\"> <a href=\"http://bigeye.au.tsinghua.edu.cn/DragonStar2012/download.html\">DragonStar Machine Learning</a> </h4>\n\n* <h4 id=\"3\"> <a href=\"http://amlbook.com/\">Machine Learning Foundations</a> </h4>\n\n* <h4 id=\"4\"> <a href=\"https://book.douban.com/subject/10590856/\">统计学习方法</a> </h4>\n\n* <h4 id=\"5\"> <a href=\"https://book.douban.com/subject/26708119/\">机器学习</a> </h4>\n ","source":"_posts/Live-like-a-robot.md","raw":"---\ntitle: Live like a robot\ndate: 2016-10-29 13:10:59\ncategories:\n- schedule \n---\n\n## Schedule\n\n<!--more-->\n\n| 00:00 -- 24:00 | Monday | Tuesday | Wednesday | Thursday | Friday | Saturday | Sunday |\n| :--------: | :-----: | :------: | :--------: | :-----: | :-----: | :-------: | :-----: |\n| 07:00 -- 08:00 | Breakfast | Breakfast | Breakfast | Breakfast | Breakfast | Breakfast | Breakfast |\n| 08:00 -- 09:30 | Linear Algebra | Probability Statistics | Calculus | Linear Algebra | Probability Statistics | Calculus | Linear Algebra |\n| 09:30 -- 11:15 | [CS229 Machine Learning](#1) | [DragonStar Machine Learning](#2) | [Machine Learning Foundations](#3) | [统计学习方法](#4) | [机器学习](#5) | Graduation Project | Graduation Project |\n| 11:15 -- 13:00 | lunch/nap | lunch/nap | lunch/nap | lunch/nap | lunch/nap | lunch/nap | lunch/nap |\n| 13:00 -- 15:00 | exercises/blog | exercises/blog | exercises/blog | exercises/blog | exercises/blog | exercises/blog | exercises/blog |\n| 15:00 -- 16:00 | sports | sports | sports | sports | sports | sports | sports |\n| 16:00 -- 18:00 | rest/dinner/TV [Running Man](http://www.youku.com/show_page/id_z7712090c9d5a11e5a080.html?spm=a2h0j.8191423.subscription_wrap.DD~A) | rest/dinner/TV [The Big Bang Theory](http://www.loldytt.com/Zuixinmeiju/SHDBZDSJ/)  | rest/dinner/TV [West Word](http://www.loldytt.com/Zuixinmeiju/XBSJDYJ/)| rest/dinner/TV [Modern Family](http://www.loldytt.com/Zuixinmeiju/XBSJDYJ/) | rest/dinner/TV [The Flash](http://www.loldytt.com/Zuixinmeiju/SDXDSJ/) | rest/dinner/TV [The Night](http://www.loldytt.com/Zuixinmeiju/ZYZBZEZYDYJ/) | rest/dinner/TV [Designated Survivor](http://www.loldytt.com/Zuixinmeiju/ZDXCZDYJ/) |\n| 18:00 -- 21:00 | coding | coding | coding | coding | coding | coding | coding |\n| 21:00 -- 23:00 | Graduation Project | Graduation Project | Graduation Project | Graduation Project | Graduation Project | Graduation Project | Graduation Project |\n\n## Materials\n\n* <h4 id=\"1\"> <a href=\"http://cs229.stanford.edu/materials.html\">CS229 Machine Learning</a> </h4>\n\n* <h4 id=\"2\"> <a href=\"http://bigeye.au.tsinghua.edu.cn/DragonStar2012/download.html\">DragonStar Machine Learning</a> </h4>\n\n* <h4 id=\"3\"> <a href=\"http://amlbook.com/\">Machine Learning Foundations</a> </h4>\n\n* <h4 id=\"4\"> <a href=\"https://book.douban.com/subject/10590856/\">统计学习方法</a> </h4>\n\n* <h4 id=\"5\"> <a href=\"https://book.douban.com/subject/26708119/\">机器学习</a> </h4>\n ","slug":"Live-like-a-robot","published":1,"updated":"2016-11-03T07:52:26.675Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3xh0007p4qtjpat7kn5","content":"<h2 id=\"Schedule\"><a href=\"#Schedule\" class=\"headerlink\" title=\"Schedule\"></a>Schedule</h2><a id=\"more\"></a>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">00:00 – 24:00</th>\n<th style=\"text-align:center\">Monday</th>\n<th style=\"text-align:center\">Tuesday</th>\n<th style=\"text-align:center\">Wednesday</th>\n<th style=\"text-align:center\">Thursday</th>\n<th style=\"text-align:center\">Friday</th>\n<th style=\"text-align:center\">Saturday</th>\n<th style=\"text-align:center\">Sunday</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">07:00 – 08:00</td>\n<td style=\"text-align:center\">Breakfast</td>\n<td style=\"text-align:center\">Breakfast</td>\n<td style=\"text-align:center\">Breakfast</td>\n<td style=\"text-align:center\">Breakfast</td>\n<td style=\"text-align:center\">Breakfast</td>\n<td style=\"text-align:center\">Breakfast</td>\n<td style=\"text-align:center\">Breakfast</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">08:00 – 09:30</td>\n<td style=\"text-align:center\">Linear Algebra</td>\n<td style=\"text-align:center\">Probability Statistics</td>\n<td style=\"text-align:center\">Calculus</td>\n<td style=\"text-align:center\">Linear Algebra</td>\n<td style=\"text-align:center\">Probability Statistics</td>\n<td style=\"text-align:center\">Calculus</td>\n<td style=\"text-align:center\">Linear Algebra</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">09:30 – 11:15</td>\n<td style=\"text-align:center\"><a href=\"#1\">CS229 Machine Learning</a></td>\n<td style=\"text-align:center\"><a href=\"#2\">DragonStar Machine Learning</a></td>\n<td style=\"text-align:center\"><a href=\"#3\">Machine Learning Foundations</a></td>\n<td style=\"text-align:center\"><a href=\"#4\">统计学习方法</a></td>\n<td style=\"text-align:center\"><a href=\"#5\">机器学习</a></td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">11:15 – 13:00</td>\n<td style=\"text-align:center\">lunch/nap</td>\n<td style=\"text-align:center\">lunch/nap</td>\n<td style=\"text-align:center\">lunch/nap</td>\n<td style=\"text-align:center\">lunch/nap</td>\n<td style=\"text-align:center\">lunch/nap</td>\n<td style=\"text-align:center\">lunch/nap</td>\n<td style=\"text-align:center\">lunch/nap</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">13:00 – 15:00</td>\n<td style=\"text-align:center\">exercises/blog</td>\n<td style=\"text-align:center\">exercises/blog</td>\n<td style=\"text-align:center\">exercises/blog</td>\n<td style=\"text-align:center\">exercises/blog</td>\n<td style=\"text-align:center\">exercises/blog</td>\n<td style=\"text-align:center\">exercises/blog</td>\n<td style=\"text-align:center\">exercises/blog</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">15:00 – 16:00</td>\n<td style=\"text-align:center\">sports</td>\n<td style=\"text-align:center\">sports</td>\n<td style=\"text-align:center\">sports</td>\n<td style=\"text-align:center\">sports</td>\n<td style=\"text-align:center\">sports</td>\n<td style=\"text-align:center\">sports</td>\n<td style=\"text-align:center\">sports</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">16:00 – 18:00</td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.youku.com/show_page/id_z7712090c9d5a11e5a080.html?spm=a2h0j.8191423.subscription_wrap.DD~A\" target=\"_blank\" rel=\"external\">Running Man</a></td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.loldytt.com/Zuixinmeiju/SHDBZDSJ/\" target=\"_blank\" rel=\"external\">The Big Bang Theory</a></td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.loldytt.com/Zuixinmeiju/XBSJDYJ/\" target=\"_blank\" rel=\"external\">West Word</a></td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.loldytt.com/Zuixinmeiju/XBSJDYJ/\" target=\"_blank\" rel=\"external\">Modern Family</a></td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.loldytt.com/Zuixinmeiju/SDXDSJ/\" target=\"_blank\" rel=\"external\">The Flash</a></td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.loldytt.com/Zuixinmeiju/ZYZBZEZYDYJ/\" target=\"_blank\" rel=\"external\">The Night</a></td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.loldytt.com/Zuixinmeiju/ZDXCZDYJ/\" target=\"_blank\" rel=\"external\">Designated Survivor</a></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">18:00 – 21:00</td>\n<td style=\"text-align:center\">coding</td>\n<td style=\"text-align:center\">coding</td>\n<td style=\"text-align:center\">coding</td>\n<td style=\"text-align:center\">coding</td>\n<td style=\"text-align:center\">coding</td>\n<td style=\"text-align:center\">coding</td>\n<td style=\"text-align:center\">coding</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">21:00 – 23:00</td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Materials\"><a href=\"#Materials\" class=\"headerlink\" title=\"Materials\"></a>Materials</h2><ul>\n<li><h4 id=\"1\"> <a href=\"http://cs229.stanford.edu/materials.html\" target=\"_blank\" rel=\"external\">CS229 Machine Learning</a> </h4>\n</li>\n<li><h4 id=\"2\"> <a href=\"http://bigeye.au.tsinghua.edu.cn/DragonStar2012/download.html\" target=\"_blank\" rel=\"external\">DragonStar Machine Learning</a> </h4>\n</li>\n<li><h4 id=\"3\"> <a href=\"http://amlbook.com/\" target=\"_blank\" rel=\"external\">Machine Learning Foundations</a> </h4>\n</li>\n<li><h4 id=\"4\"> <a href=\"https://book.douban.com/subject/10590856/\" target=\"_blank\" rel=\"external\">统计学习方法</a> </h4>\n</li>\n<li><h4 id=\"5\"> <a href=\"https://book.douban.com/subject/26708119/\" target=\"_blank\" rel=\"external\">机器学习</a> </h4>\n</li>\n</ul>\n","excerpt":"<h2 id=\"Schedule\"><a href=\"#Schedule\" class=\"headerlink\" title=\"Schedule\"></a>Schedule</h2>","more":"<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">00:00 – 24:00</th>\n<th style=\"text-align:center\">Monday</th>\n<th style=\"text-align:center\">Tuesday</th>\n<th style=\"text-align:center\">Wednesday</th>\n<th style=\"text-align:center\">Thursday</th>\n<th style=\"text-align:center\">Friday</th>\n<th style=\"text-align:center\">Saturday</th>\n<th style=\"text-align:center\">Sunday</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">07:00 – 08:00</td>\n<td style=\"text-align:center\">Breakfast</td>\n<td style=\"text-align:center\">Breakfast</td>\n<td style=\"text-align:center\">Breakfast</td>\n<td style=\"text-align:center\">Breakfast</td>\n<td style=\"text-align:center\">Breakfast</td>\n<td style=\"text-align:center\">Breakfast</td>\n<td style=\"text-align:center\">Breakfast</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">08:00 – 09:30</td>\n<td style=\"text-align:center\">Linear Algebra</td>\n<td style=\"text-align:center\">Probability Statistics</td>\n<td style=\"text-align:center\">Calculus</td>\n<td style=\"text-align:center\">Linear Algebra</td>\n<td style=\"text-align:center\">Probability Statistics</td>\n<td style=\"text-align:center\">Calculus</td>\n<td style=\"text-align:center\">Linear Algebra</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">09:30 – 11:15</td>\n<td style=\"text-align:center\"><a href=\"#1\">CS229 Machine Learning</a></td>\n<td style=\"text-align:center\"><a href=\"#2\">DragonStar Machine Learning</a></td>\n<td style=\"text-align:center\"><a href=\"#3\">Machine Learning Foundations</a></td>\n<td style=\"text-align:center\"><a href=\"#4\">统计学习方法</a></td>\n<td style=\"text-align:center\"><a href=\"#5\">机器学习</a></td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">11:15 – 13:00</td>\n<td style=\"text-align:center\">lunch/nap</td>\n<td style=\"text-align:center\">lunch/nap</td>\n<td style=\"text-align:center\">lunch/nap</td>\n<td style=\"text-align:center\">lunch/nap</td>\n<td style=\"text-align:center\">lunch/nap</td>\n<td style=\"text-align:center\">lunch/nap</td>\n<td style=\"text-align:center\">lunch/nap</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">13:00 – 15:00</td>\n<td style=\"text-align:center\">exercises/blog</td>\n<td style=\"text-align:center\">exercises/blog</td>\n<td style=\"text-align:center\">exercises/blog</td>\n<td style=\"text-align:center\">exercises/blog</td>\n<td style=\"text-align:center\">exercises/blog</td>\n<td style=\"text-align:center\">exercises/blog</td>\n<td style=\"text-align:center\">exercises/blog</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">15:00 – 16:00</td>\n<td style=\"text-align:center\">sports</td>\n<td style=\"text-align:center\">sports</td>\n<td style=\"text-align:center\">sports</td>\n<td style=\"text-align:center\">sports</td>\n<td style=\"text-align:center\">sports</td>\n<td style=\"text-align:center\">sports</td>\n<td style=\"text-align:center\">sports</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">16:00 – 18:00</td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.youku.com/show_page/id_z7712090c9d5a11e5a080.html?spm=a2h0j.8191423.subscription_wrap.DD~A\">Running Man</a></td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.loldytt.com/Zuixinmeiju/SHDBZDSJ/\">The Big Bang Theory</a></td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.loldytt.com/Zuixinmeiju/XBSJDYJ/\">West Word</a></td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.loldytt.com/Zuixinmeiju/XBSJDYJ/\">Modern Family</a></td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.loldytt.com/Zuixinmeiju/SDXDSJ/\">The Flash</a></td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.loldytt.com/Zuixinmeiju/ZYZBZEZYDYJ/\">The Night</a></td>\n<td style=\"text-align:center\">rest/dinner/TV <a href=\"http://www.loldytt.com/Zuixinmeiju/ZDXCZDYJ/\">Designated Survivor</a></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">18:00 – 21:00</td>\n<td style=\"text-align:center\">coding</td>\n<td style=\"text-align:center\">coding</td>\n<td style=\"text-align:center\">coding</td>\n<td style=\"text-align:center\">coding</td>\n<td style=\"text-align:center\">coding</td>\n<td style=\"text-align:center\">coding</td>\n<td style=\"text-align:center\">coding</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">21:00 – 23:00</td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n<td style=\"text-align:center\">Graduation Project</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Materials\"><a href=\"#Materials\" class=\"headerlink\" title=\"Materials\"></a>Materials</h2><ul>\n<li><h4 id=\"1\"> <a href=\"http://cs229.stanford.edu/materials.html\">CS229 Machine Learning</a> </h4>\n</li>\n<li><h4 id=\"2\"> <a href=\"http://bigeye.au.tsinghua.edu.cn/DragonStar2012/download.html\">DragonStar Machine Learning</a> </h4>\n</li>\n<li><h4 id=\"3\"> <a href=\"http://amlbook.com/\">Machine Learning Foundations</a> </h4>\n</li>\n<li><h4 id=\"4\"> <a href=\"https://book.douban.com/subject/10590856/\">统计学习方法</a> </h4>\n</li>\n<li><h4 id=\"5\"> <a href=\"https://book.douban.com/subject/26708119/\">机器学习</a> </h4>\n</li>\n</ul>"},{"title":"Hexo使用手册","_content":"\nHexo常用命令。\n\n<!--more-->\n\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hexo使用手册\ntags: \n- hexo\ncategories:\n- 使用手册\n---\n\nHexo常用命令。\n\n<!--more-->\n\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"hello-world","published":1,"date":"2016-11-28T15:01:12.418Z","updated":"2016-11-03T07:46:08.550Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3xk0008p4qtprw68s0q","content":"<p>Hexo常用命令。</p>\n<a id=\"more\"></a>\n<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"external\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"external\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"external\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"external\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"external\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"external\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"external\">Deployment</a></p>\n","excerpt":"<p>Hexo常用命令。</p>","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\">Deployment</a></p>"},{"title":"NumPy","date":"2016-10-30T07:05:16.000Z","_content":"\nNumpy常用函数总结。\n\n> 总结参考[机器学习算法原理与编程实践](https://book.douban.com/subject/26667987/)\n\n<!--more-->\n\n### 矩阵的初始化\n\n* 导入包\n\n\t\timport numpy as np \n\n* 创建全0和全1矩阵\n\n\t\tmyZero = np.zeros([3,5])\n\t\tmyOnes = np.ones([3,5])\n\t\tprint myZero, myOnes\n\n* 生成随机矩阵\n\n\t\tmyRand = np.random.rand(3,4) #3行4列0到1之间的随机数矩阵\n\n* 单位阵\n\n\t\tmyEye = np.eye(3) #3x3的单位阵\n\n### 矩阵的元素运算\n\n\tfrom numpy import *\n\n* 元素相加减\n\n\t\tmyOnes = ones([3,3])\n\t\tmyEye = eye(3)\n\t\tprint myOnes + myEye\n\t\tprint myOnes - myEye\n\n* 矩阵数乘\n\n$$(cA)_{i,j} = c \\cdot A_{i,j}$$\n\n\t\tmymatrix = mat( [[1,2,3],[4,5,6],[7,8,9]])\n\t\tprint 10*mymatrix\n\n* 矩阵所有元素求和\n\n\t\tsum(mymatrix)\n\n* 矩阵各元素的积\n\n\t\tmymatrix2 = ones([3,3])\n\t\tprint multiply(mymatrix,mymatrix2)\n\n* 矩阵各元素的n次幂\n\n\t\tpower(mymatrix,2)\n\n### 矩阵的乘法\n\n\t\tmymatrix = mat([[1,2,3],[4,5,6],[7,8,9]])\n\t\tmymatrix2 = mat([[1],[2],[3]])\n\t\tdot(mymatrix,mymatrix2)\n\t\tprint mymatrix * mymatrix2\n\n### 矩阵的转置\n\n\t\tmymatrix.T\n\n### 矩阵的行列数、切片、复制、比较\n\n\t\t[m,n] = shape(mymatrix)\n\t\tmyscl1 = mymatrix[0]\n\t\tmyscl2 = mymatrix.T[0]\n\t\tmycpmat = mymatrix.copy()\n\n### 矩阵的行列式\n\n\t\tA = mat( [[1,2,3],[4,5,6],[7,8,9]])\n\t\tlinalg.det(A)\n\n### 矩阵的逆\n\n\t\tlinalg.inv(A)\n\n### 矩阵的秩\n\n\t\tlinalg.matrix_rank(A)\n\n### 可逆矩阵求解\n\n\t\tlinalg.solve(A,T(b))\n\n### 向量范数\n\n\t\tlinalg.norm(A)\n\n### 均值、方差、协方差、相关系数\n\n\t\tA = mat([[88,96,104,111],[12,14,16,18]])\n\t\tmean(A[0])\n\t\tstd(A[0])\n\t\tcov(A)\n\t\tcorrcoef(A)\n\n### 特征值、特征向量\n\n\t\tA = [[8,1,6],[3,5,7],[4,9,2]]\n\t\tevals, evecs = linalg.eig(A)","source":"_posts/NumPy.md","raw":"---\ntitle: NumPy\ndate: 2016-10-30 15:05:16\ncategories:\n- 使用手册\n---\n\nNumpy常用函数总结。\n\n> 总结参考[机器学习算法原理与编程实践](https://book.douban.com/subject/26667987/)\n\n<!--more-->\n\n### 矩阵的初始化\n\n* 导入包\n\n\t\timport numpy as np \n\n* 创建全0和全1矩阵\n\n\t\tmyZero = np.zeros([3,5])\n\t\tmyOnes = np.ones([3,5])\n\t\tprint myZero, myOnes\n\n* 生成随机矩阵\n\n\t\tmyRand = np.random.rand(3,4) #3行4列0到1之间的随机数矩阵\n\n* 单位阵\n\n\t\tmyEye = np.eye(3) #3x3的单位阵\n\n### 矩阵的元素运算\n\n\tfrom numpy import *\n\n* 元素相加减\n\n\t\tmyOnes = ones([3,3])\n\t\tmyEye = eye(3)\n\t\tprint myOnes + myEye\n\t\tprint myOnes - myEye\n\n* 矩阵数乘\n\n$$(cA)_{i,j} = c \\cdot A_{i,j}$$\n\n\t\tmymatrix = mat( [[1,2,3],[4,5,6],[7,8,9]])\n\t\tprint 10*mymatrix\n\n* 矩阵所有元素求和\n\n\t\tsum(mymatrix)\n\n* 矩阵各元素的积\n\n\t\tmymatrix2 = ones([3,3])\n\t\tprint multiply(mymatrix,mymatrix2)\n\n* 矩阵各元素的n次幂\n\n\t\tpower(mymatrix,2)\n\n### 矩阵的乘法\n\n\t\tmymatrix = mat([[1,2,3],[4,5,6],[7,8,9]])\n\t\tmymatrix2 = mat([[1],[2],[3]])\n\t\tdot(mymatrix,mymatrix2)\n\t\tprint mymatrix * mymatrix2\n\n### 矩阵的转置\n\n\t\tmymatrix.T\n\n### 矩阵的行列数、切片、复制、比较\n\n\t\t[m,n] = shape(mymatrix)\n\t\tmyscl1 = mymatrix[0]\n\t\tmyscl2 = mymatrix.T[0]\n\t\tmycpmat = mymatrix.copy()\n\n### 矩阵的行列式\n\n\t\tA = mat( [[1,2,3],[4,5,6],[7,8,9]])\n\t\tlinalg.det(A)\n\n### 矩阵的逆\n\n\t\tlinalg.inv(A)\n\n### 矩阵的秩\n\n\t\tlinalg.matrix_rank(A)\n\n### 可逆矩阵求解\n\n\t\tlinalg.solve(A,T(b))\n\n### 向量范数\n\n\t\tlinalg.norm(A)\n\n### 均值、方差、协方差、相关系数\n\n\t\tA = mat([[88,96,104,111],[12,14,16,18]])\n\t\tmean(A[0])\n\t\tstd(A[0])\n\t\tcov(A)\n\t\tcorrcoef(A)\n\n### 特征值、特征向量\n\n\t\tA = [[8,1,6],[3,5,7],[4,9,2]]\n\t\tevals, evecs = linalg.eig(A)","slug":"NumPy","published":1,"updated":"2016-11-03T07:49:29.974Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3xp000cp4qtyqz8ybpl","content":"<p>Numpy常用函数总结。</p>\n<blockquote>\n<p>总结参考<a href=\"https://book.douban.com/subject/26667987/\" target=\"_blank\" rel=\"external\">机器学习算法原理与编程实践</a></p>\n</blockquote>\n<a id=\"more\"></a>\n<h3 id=\"矩阵的初始化\"><a href=\"#矩阵的初始化\" class=\"headerlink\" title=\"矩阵的初始化\"></a>矩阵的初始化</h3><ul>\n<li><p>导入包</p>\n<pre><code>import numpy as np \n</code></pre></li>\n<li><p>创建全0和全1矩阵</p>\n<pre><code>myZero = np.zeros([3,5])\nmyOnes = np.ones([3,5])\nprint myZero, myOnes\n</code></pre></li>\n<li><p>生成随机矩阵</p>\n<pre><code>myRand = np.random.rand(3,4) #3行4列0到1之间的随机数矩阵\n</code></pre></li>\n<li><p>单位阵</p>\n<pre><code>myEye = np.eye(3) #3x3的单位阵\n</code></pre></li>\n</ul>\n<h3 id=\"矩阵的元素运算\"><a href=\"#矩阵的元素运算\" class=\"headerlink\" title=\"矩阵的元素运算\"></a>矩阵的元素运算</h3><pre><code>from numpy import *\n</code></pre><ul>\n<li><p>元素相加减</p>\n<pre><code>myOnes = ones([3,3])\nmyEye = eye(3)\nprint myOnes + myEye\nprint myOnes - myEye\n</code></pre></li>\n<li><p>矩阵数乘</p>\n</li>\n</ul>\n<p>$$(cA)<em>{i,j} = c \\cdot A</em>{i,j}$$</p>\n<pre><code>mymatrix = mat( [[1,2,3],[4,5,6],[7,8,9]])\nprint 10*mymatrix\n</code></pre><ul>\n<li><p>矩阵所有元素求和</p>\n<pre><code>sum(mymatrix)\n</code></pre></li>\n<li><p>矩阵各元素的积</p>\n<pre><code>mymatrix2 = ones([3,3])\nprint multiply(mymatrix,mymatrix2)\n</code></pre></li>\n<li><p>矩阵各元素的n次幂</p>\n<pre><code>power(mymatrix,2)\n</code></pre></li>\n</ul>\n<h3 id=\"矩阵的乘法\"><a href=\"#矩阵的乘法\" class=\"headerlink\" title=\"矩阵的乘法\"></a>矩阵的乘法</h3><pre><code>mymatrix = mat([[1,2,3],[4,5,6],[7,8,9]])\nmymatrix2 = mat([[1],[2],[3]])\ndot(mymatrix,mymatrix2)\nprint mymatrix * mymatrix2\n</code></pre><h3 id=\"矩阵的转置\"><a href=\"#矩阵的转置\" class=\"headerlink\" title=\"矩阵的转置\"></a>矩阵的转置</h3><pre><code>mymatrix.T\n</code></pre><h3 id=\"矩阵的行列数、切片、复制、比较\"><a href=\"#矩阵的行列数、切片、复制、比较\" class=\"headerlink\" title=\"矩阵的行列数、切片、复制、比较\"></a>矩阵的行列数、切片、复制、比较</h3><pre><code>[m,n] = shape(mymatrix)\nmyscl1 = mymatrix[0]\nmyscl2 = mymatrix.T[0]\nmycpmat = mymatrix.copy()\n</code></pre><h3 id=\"矩阵的行列式\"><a href=\"#矩阵的行列式\" class=\"headerlink\" title=\"矩阵的行列式\"></a>矩阵的行列式</h3><pre><code>A = mat( [[1,2,3],[4,5,6],[7,8,9]])\nlinalg.det(A)\n</code></pre><h3 id=\"矩阵的逆\"><a href=\"#矩阵的逆\" class=\"headerlink\" title=\"矩阵的逆\"></a>矩阵的逆</h3><pre><code>linalg.inv(A)\n</code></pre><h3 id=\"矩阵的秩\"><a href=\"#矩阵的秩\" class=\"headerlink\" title=\"矩阵的秩\"></a>矩阵的秩</h3><pre><code>linalg.matrix_rank(A)\n</code></pre><h3 id=\"可逆矩阵求解\"><a href=\"#可逆矩阵求解\" class=\"headerlink\" title=\"可逆矩阵求解\"></a>可逆矩阵求解</h3><pre><code>linalg.solve(A,T(b))\n</code></pre><h3 id=\"向量范数\"><a href=\"#向量范数\" class=\"headerlink\" title=\"向量范数\"></a>向量范数</h3><pre><code>linalg.norm(A)\n</code></pre><h3 id=\"均值、方差、协方差、相关系数\"><a href=\"#均值、方差、协方差、相关系数\" class=\"headerlink\" title=\"均值、方差、协方差、相关系数\"></a>均值、方差、协方差、相关系数</h3><pre><code>A = mat([[88,96,104,111],[12,14,16,18]])\nmean(A[0])\nstd(A[0])\ncov(A)\ncorrcoef(A)\n</code></pre><h3 id=\"特征值、特征向量\"><a href=\"#特征值、特征向量\" class=\"headerlink\" title=\"特征值、特征向量\"></a>特征值、特征向量</h3><pre><code>A = [[8,1,6],[3,5,7],[4,9,2]]\nevals, evecs = linalg.eig(A)\n</code></pre>","excerpt":"<p>Numpy常用函数总结。</p>\n<blockquote>\n<p>总结参考<a href=\"https://book.douban.com/subject/26667987/\">机器学习算法原理与编程实践</a></p>\n</blockquote>","more":"<h3 id=\"矩阵的初始化\"><a href=\"#矩阵的初始化\" class=\"headerlink\" title=\"矩阵的初始化\"></a>矩阵的初始化</h3><ul>\n<li><p>导入包</p>\n<pre><code>import numpy as np \n</code></pre></li>\n<li><p>创建全0和全1矩阵</p>\n<pre><code>myZero = np.zeros([3,5])\nmyOnes = np.ones([3,5])\nprint myZero, myOnes\n</code></pre></li>\n<li><p>生成随机矩阵</p>\n<pre><code>myRand = np.random.rand(3,4) #3行4列0到1之间的随机数矩阵\n</code></pre></li>\n<li><p>单位阵</p>\n<pre><code>myEye = np.eye(3) #3x3的单位阵\n</code></pre></li>\n</ul>\n<h3 id=\"矩阵的元素运算\"><a href=\"#矩阵的元素运算\" class=\"headerlink\" title=\"矩阵的元素运算\"></a>矩阵的元素运算</h3><pre><code>from numpy import *\n</code></pre><ul>\n<li><p>元素相加减</p>\n<pre><code>myOnes = ones([3,3])\nmyEye = eye(3)\nprint myOnes + myEye\nprint myOnes - myEye\n</code></pre></li>\n<li><p>矩阵数乘</p>\n</li>\n</ul>\n<p>$$(cA)<em>{i,j} = c \\cdot A</em>{i,j}$$</p>\n<pre><code>mymatrix = mat( [[1,2,3],[4,5,6],[7,8,9]])\nprint 10*mymatrix\n</code></pre><ul>\n<li><p>矩阵所有元素求和</p>\n<pre><code>sum(mymatrix)\n</code></pre></li>\n<li><p>矩阵各元素的积</p>\n<pre><code>mymatrix2 = ones([3,3])\nprint multiply(mymatrix,mymatrix2)\n</code></pre></li>\n<li><p>矩阵各元素的n次幂</p>\n<pre><code>power(mymatrix,2)\n</code></pre></li>\n</ul>\n<h3 id=\"矩阵的乘法\"><a href=\"#矩阵的乘法\" class=\"headerlink\" title=\"矩阵的乘法\"></a>矩阵的乘法</h3><pre><code>mymatrix = mat([[1,2,3],[4,5,6],[7,8,9]])\nmymatrix2 = mat([[1],[2],[3]])\ndot(mymatrix,mymatrix2)\nprint mymatrix * mymatrix2\n</code></pre><h3 id=\"矩阵的转置\"><a href=\"#矩阵的转置\" class=\"headerlink\" title=\"矩阵的转置\"></a>矩阵的转置</h3><pre><code>mymatrix.T\n</code></pre><h3 id=\"矩阵的行列数、切片、复制、比较\"><a href=\"#矩阵的行列数、切片、复制、比较\" class=\"headerlink\" title=\"矩阵的行列数、切片、复制、比较\"></a>矩阵的行列数、切片、复制、比较</h3><pre><code>[m,n] = shape(mymatrix)\nmyscl1 = mymatrix[0]\nmyscl2 = mymatrix.T[0]\nmycpmat = mymatrix.copy()\n</code></pre><h3 id=\"矩阵的行列式\"><a href=\"#矩阵的行列式\" class=\"headerlink\" title=\"矩阵的行列式\"></a>矩阵的行列式</h3><pre><code>A = mat( [[1,2,3],[4,5,6],[7,8,9]])\nlinalg.det(A)\n</code></pre><h3 id=\"矩阵的逆\"><a href=\"#矩阵的逆\" class=\"headerlink\" title=\"矩阵的逆\"></a>矩阵的逆</h3><pre><code>linalg.inv(A)\n</code></pre><h3 id=\"矩阵的秩\"><a href=\"#矩阵的秩\" class=\"headerlink\" title=\"矩阵的秩\"></a>矩阵的秩</h3><pre><code>linalg.matrix_rank(A)\n</code></pre><h3 id=\"可逆矩阵求解\"><a href=\"#可逆矩阵求解\" class=\"headerlink\" title=\"可逆矩阵求解\"></a>可逆矩阵求解</h3><pre><code>linalg.solve(A,T(b))\n</code></pre><h3 id=\"向量范数\"><a href=\"#向量范数\" class=\"headerlink\" title=\"向量范数\"></a>向量范数</h3><pre><code>linalg.norm(A)\n</code></pre><h3 id=\"均值、方差、协方差、相关系数\"><a href=\"#均值、方差、协方差、相关系数\" class=\"headerlink\" title=\"均值、方差、协方差、相关系数\"></a>均值、方差、协方差、相关系数</h3><pre><code>A = mat([[88,96,104,111],[12,14,16,18]])\nmean(A[0])\nstd(A[0])\ncov(A)\ncorrcoef(A)\n</code></pre><h3 id=\"特征值、特征向量\"><a href=\"#特征值、特征向量\" class=\"headerlink\" title=\"特征值、特征向量\"></a>特征值、特征向量</h3><pre><code>A = [[8,1,6],[3,5,7],[4,9,2]]\nevals, evecs = linalg.eig(A)\n</code></pre>"},{"title":"myStackOverflow","date":"2016-10-31T01:05:56.000Z","_content":"\n遇到的bug及解决办法。\n\n<!--more-->\n\n* Hexo Next MathJax公式解析不出来\n\n\t\tnpm uninstall hexo-renderer-marked --save\n\t\tnpm install hexo-renderer-kramed --save\n\n<https://github.com/iissnan/hexo-theme-next/issues/826>\n<http://2wildkids.com/2016/10/06/%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86Hexo%E5%92%8CMathJax%E7%9A%84%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98/>\n","source":"_posts/myStackOverflow.md","raw":"---\ntitle: myStackOverflow\ndate: 2016-10-31 09:05:56\ncategories:\n- 技术随笔\n---\n\n遇到的bug及解决办法。\n\n<!--more-->\n\n* Hexo Next MathJax公式解析不出来\n\n\t\tnpm uninstall hexo-renderer-marked --save\n\t\tnpm install hexo-renderer-kramed --save\n\n<https://github.com/iissnan/hexo-theme-next/issues/826>\n<http://2wildkids.com/2016/10/06/%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86Hexo%E5%92%8CMathJax%E7%9A%84%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98/>\n","slug":"myStackOverflow","published":1,"updated":"2016-11-03T07:50:19.339Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3xr000dp4qtbi7pq6gc","content":"<p>遇到的bug及解决办法。</p>\n<a id=\"more\"></a>\n<ul>\n<li><p>Hexo Next MathJax公式解析不出来</p>\n<pre><code>npm uninstall hexo-renderer-marked --save\nnpm install hexo-renderer-kramed --save\n</code></pre></li>\n</ul>\n<p><a href=\"https://github.com/iissnan/hexo-theme-next/issues/826\" target=\"_blank\" rel=\"external\">https://github.com/iissnan/hexo-theme-next/issues/826</a><br><a href=\"http://2wildkids.com/2016/10/06/%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86Hexo%E5%92%8CMathJax%E7%9A%84%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98/\" target=\"_blank\" rel=\"external\">http://2wildkids.com/2016/10/06/%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86Hexo%E5%92%8CMathJax%E7%9A%84%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98/</a></p>\n","excerpt":"<p>遇到的bug及解决办法。</p>","more":"<ul>\n<li><p>Hexo Next MathJax公式解析不出来</p>\n<pre><code>npm uninstall hexo-renderer-marked --save\nnpm install hexo-renderer-kramed --save\n</code></pre></li>\n</ul>\n<p><a href=\"https://github.com/iissnan/hexo-theme-next/issues/826\">https://github.com/iissnan/hexo-theme-next/issues/826</a><br><a href=\"http://2wildkids.com/2016/10/06/%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86Hexo%E5%92%8CMathJax%E7%9A%84%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98/\">http://2wildkids.com/2016/10/06/%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86Hexo%E5%92%8CMathJax%E7%9A%84%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98/</a></p>"},{"title":"基础机器学习算法Python实现","date":"2016-11-06T02:49:54.000Z","_content":"\n> The basic algorithm of machine learning implemented by myself.\n> GitHub repository link: <https://github.com/robocoderhan/MachineLearning>\n\n<!--more-->\n\n# 感知机\n\n```python\n#################################################\n# Perceptron\n# Author : robocoder\n# Date   : 2016-11-05\n# HomePage : https://robocoderhan.github.io/\n# Email  : robocoder@foxmail.com\n#################################################\n\nfrom numpy import *\nimport matplotlib.pyplot as plt\n\n\n# perceptron stochastic gradient descent\n# input: x is a mat datatype, each row stands for one sample\n#        y is mat datatype too, each row is the corresponding label\n#        opts is optimize option include step\ndef perceptron(x, y, opts):\n    tn, wn = shape(x)\n    w = zeros([wn, 1])\n    b = 0\n    flag = True\n    while flag:\n        haserror = False\n        for i in range(tn-1):\n            if y[i] * (w.T * x[i].T + b) <= 0:\n                w = w + opts * sum(y[i]) * x[i].T\n                b = b + sum(y[i])\n                haserror = True\n        if not haserror:\n            flag = False\n    return w, b\n\n\ntestx = mat([[3, 3],\n             [4, 3],\n             [1, 1]])\ntesty = mat([[1], [1], [-1]])\nprint perceptron(testx, testy, 1)\n```\n\n","source":"_posts/基础机器学习算法Python实现.md","raw":"---\ntitle: 基础机器学习算法Python实现\ndate: 2016-11-06 10:49:54\ntags:\n- Machine Learning\ncategories:\n- 基础机器学习算法实现\n---\n\n> The basic algorithm of machine learning implemented by myself.\n> GitHub repository link: <https://github.com/robocoderhan/MachineLearning>\n\n<!--more-->\n\n# 感知机\n\n```python\n#################################################\n# Perceptron\n# Author : robocoder\n# Date   : 2016-11-05\n# HomePage : https://robocoderhan.github.io/\n# Email  : robocoder@foxmail.com\n#################################################\n\nfrom numpy import *\nimport matplotlib.pyplot as plt\n\n\n# perceptron stochastic gradient descent\n# input: x is a mat datatype, each row stands for one sample\n#        y is mat datatype too, each row is the corresponding label\n#        opts is optimize option include step\ndef perceptron(x, y, opts):\n    tn, wn = shape(x)\n    w = zeros([wn, 1])\n    b = 0\n    flag = True\n    while flag:\n        haserror = False\n        for i in range(tn-1):\n            if y[i] * (w.T * x[i].T + b) <= 0:\n                w = w + opts * sum(y[i]) * x[i].T\n                b = b + sum(y[i])\n                haserror = True\n        if not haserror:\n            flag = False\n    return w, b\n\n\ntestx = mat([[3, 3],\n             [4, 3],\n             [1, 1]])\ntesty = mat([[1], [1], [-1]])\nprint perceptron(testx, testy, 1)\n```\n\n","slug":"基础机器学习算法Python实现","published":1,"updated":"2016-11-06T03:02:45.757Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3xu000hp4qtdf2htfqz","content":"<blockquote>\n<p>The basic algorithm of machine learning implemented by myself.<br>GitHub repository link: <a href=\"https://github.com/robocoderhan/MachineLearning\" target=\"_blank\" rel=\"external\">https://github.com/robocoderhan/MachineLearning</a></p>\n</blockquote>\n<a id=\"more\"></a>\n<h1 id=\"感知机\"><a href=\"#感知机\" class=\"headerlink\" title=\"感知机\"></a>感知机</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">#################################################</span></div><div class=\"line\"><span class=\"comment\"># Perceptron</span></div><div class=\"line\"><span class=\"comment\"># Author : robocoder</span></div><div class=\"line\"><span class=\"comment\"># Date   : 2016-11-05</span></div><div class=\"line\"><span class=\"comment\"># HomePage : https://robocoderhan.github.io/</span></div><div class=\"line\"><span class=\"comment\"># Email  : robocoder@foxmail.com</span></div><div class=\"line\"><span class=\"comment\">#################################################</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">from</span> numpy <span class=\"keyword\">import</span> *</div><div class=\"line\"><span class=\"keyword\">import</span> matplotlib.pyplot <span class=\"keyword\">as</span> plt</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># perceptron stochastic gradient descent</span></div><div class=\"line\"><span class=\"comment\"># input: x is a mat datatype, each row stands for one sample</span></div><div class=\"line\"><span class=\"comment\">#        y is mat datatype too, each row is the corresponding label</span></div><div class=\"line\"><span class=\"comment\">#        opts is optimize option include step</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">perceptron</span><span class=\"params\">(x, y, opts)</span>:</span></div><div class=\"line\">    tn, wn = shape(x)</div><div class=\"line\">    w = zeros([wn, <span class=\"number\">1</span>])</div><div class=\"line\">    b = <span class=\"number\">0</span></div><div class=\"line\">    flag = <span class=\"keyword\">True</span></div><div class=\"line\">    <span class=\"keyword\">while</span> flag:</div><div class=\"line\">        haserror = <span class=\"keyword\">False</span></div><div class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(tn<span class=\"number\">-1</span>):</div><div class=\"line\">            <span class=\"keyword\">if</span> y[i] * (w.T * x[i].T + b) &lt;= <span class=\"number\">0</span>:</div><div class=\"line\">                w = w + opts * sum(y[i]) * x[i].T</div><div class=\"line\">                b = b + sum(y[i])</div><div class=\"line\">                haserror = <span class=\"keyword\">True</span></div><div class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> haserror:</div><div class=\"line\">            flag = <span class=\"keyword\">False</span></div><div class=\"line\">    <span class=\"keyword\">return</span> w, b</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">testx = mat([[<span class=\"number\">3</span>, <span class=\"number\">3</span>],</div><div class=\"line\">             [<span class=\"number\">4</span>, <span class=\"number\">3</span>],</div><div class=\"line\">             [<span class=\"number\">1</span>, <span class=\"number\">1</span>]])</div><div class=\"line\">testy = mat([[<span class=\"number\">1</span>], [<span class=\"number\">1</span>], [<span class=\"number\">-1</span>]])</div><div class=\"line\"><span class=\"keyword\">print</span> perceptron(testx, testy, <span class=\"number\">1</span>)</div></pre></td></tr></table></figure>\n","excerpt":"<blockquote>\n<p>The basic algorithm of machine learning implemented by myself.<br>GitHub repository link: <a href=\"https://github.com/robocoderhan/MachineLearning\">https://github.com/robocoderhan/MachineLearning</a></p>\n</blockquote>","more":"<h1 id=\"感知机\"><a href=\"#感知机\" class=\"headerlink\" title=\"感知机\"></a>感知机</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">#################################################</span></div><div class=\"line\"><span class=\"comment\"># Perceptron</span></div><div class=\"line\"><span class=\"comment\"># Author : robocoder</span></div><div class=\"line\"><span class=\"comment\"># Date   : 2016-11-05</span></div><div class=\"line\"><span class=\"comment\"># HomePage : https://robocoderhan.github.io/</span></div><div class=\"line\"><span class=\"comment\"># Email  : robocoder@foxmail.com</span></div><div class=\"line\"><span class=\"comment\">#################################################</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">from</span> numpy <span class=\"keyword\">import</span> *</div><div class=\"line\"><span class=\"keyword\">import</span> matplotlib.pyplot <span class=\"keyword\">as</span> plt</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># perceptron stochastic gradient descent</span></div><div class=\"line\"><span class=\"comment\"># input: x is a mat datatype, each row stands for one sample</span></div><div class=\"line\"><span class=\"comment\">#        y is mat datatype too, each row is the corresponding label</span></div><div class=\"line\"><span class=\"comment\">#        opts is optimize option include step</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">perceptron</span><span class=\"params\">(x, y, opts)</span>:</span></div><div class=\"line\">    tn, wn = shape(x)</div><div class=\"line\">    w = zeros([wn, <span class=\"number\">1</span>])</div><div class=\"line\">    b = <span class=\"number\">0</span></div><div class=\"line\">    flag = <span class=\"keyword\">True</span></div><div class=\"line\">    <span class=\"keyword\">while</span> flag:</div><div class=\"line\">        haserror = <span class=\"keyword\">False</span></div><div class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(tn<span class=\"number\">-1</span>):</div><div class=\"line\">            <span class=\"keyword\">if</span> y[i] * (w.T * x[i].T + b) &lt;= <span class=\"number\">0</span>:</div><div class=\"line\">                w = w + opts * sum(y[i]) * x[i].T</div><div class=\"line\">                b = b + sum(y[i])</div><div class=\"line\">                haserror = <span class=\"keyword\">True</span></div><div class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> haserror:</div><div class=\"line\">            flag = <span class=\"keyword\">False</span></div><div class=\"line\">    <span class=\"keyword\">return</span> w, b</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">testx = mat([[<span class=\"number\">3</span>, <span class=\"number\">3</span>],</div><div class=\"line\">             [<span class=\"number\">4</span>, <span class=\"number\">3</span>],</div><div class=\"line\">             [<span class=\"number\">1</span>, <span class=\"number\">1</span>]])</div><div class=\"line\">testy = mat([[<span class=\"number\">1</span>], [<span class=\"number\">1</span>], [<span class=\"number\">-1</span>]])</div><div class=\"line\"><span class=\"keyword\">print</span> perceptron(testx, testy, <span class=\"number\">1</span>)</div></pre></td></tr></table></figure>"},{"title":"机器学习基石notes-Lecture1 The Learning Problem","date":"2016-11-02T00:51:59.000Z","_content":"\n> [课程主页](https://www.coursera.org/course/ntumlone)，教材主页[Learning From Data](http://amlbook.com/)\n\n<!--more-->\n\n## 课程介绍\n\n机器学习包括了理论与实践两部分，该课程从基础出发，从而掌握机器学习这个工具。\n\n总体分为when why how better四个部分。\n\n## 什么是机器学习\n\n学习：从观察通过学习转化为技巧\n\n机器学习：通过对数据的处理转化为技巧\n\n技巧：可以提高某方面的表现\n\n### 为什么使用机器学习\n\n某些问题很难通过直接的编程解决，而通过进行很多的学习可以更好地解决\n\n### 一些应用场景\n\n* 没办法编程\n\n* 无法进行严格的定义\n\n* 人类无法快速解决的问题\n\n* 个性化的问题\n\n### 机器学习的关键\n\n* 存在某些潜在的模式可以学习\n\n* 没有办法编程定义\n\n* 数据\n\n## 机器学习的应用\n\n食、衣、住、行、育、乐\n\n## 机器学习的组成\n\n> 机器学习：通过对数据样本的学习进而获得一个与目标函数接近的假设\n\n![机器学习简易符号表示](http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016110201.png)\n\n${\\cal A}$ takes ${\\cal D}$ and ${\\cal H}$ to get ${\\mit g}$\n\n例：银行发放信用卡的标准\n\n* 输入：$x \\in {\\cal X}$（用户申请）\n\n* 输出：$y \\in {\\cal Y}$（是否发信用卡）\n\n* 潜在模式$\\iff$目标函数\n\n  $${\\mit f}:{\\cal X} \\to {\\cal Y}$$（理想未知的信用卡发放公式）\n\n* 数据$\\iff$训练样本：$${\\cal D} = \\{(x_1,y_1),(x_1,y_1),\\cdots,(x_N,y_N)\\}$$（银行历史记录数据）\n\n* 假设$\\iff$函数\n\n  $${\\mit g}:{\\cal X} \\to {\\cal Y}$$（学习到的可用的准则）\n\n![机器学习简易符号表示](http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016110202.png)\n\n机器学习详细流程\n\n学习模型包括${\\cal A}$和${\\cal H}$两部分\n\n## 机器学习与其它领域的关系\n\n### 机器学习（Machine Learning）与数据挖掘（Data Mining）\n\n> 数据挖掘：从数据中挖掘某种有趣的关系、性质\n\n* 当有趣的性质本身就是某种与目标函数接近的假设，那么数据挖掘就与机器学习相同\n\n* 当有趣的性质与目标函数接近的假设有关系时，机器学习和数据挖掘相互关联\n\n* 数据挖掘侧重大数据中的高效计算\n\n很难将两者进行明确的划分\n\n### 机器学习（Machine Learning）与人工智能（Artificial Intelligence）\n\n> 人工智能：使机器具有某种智能行为\n\n* 机器学习是实现人工智能的一种方法\n\n例：下棋问题\n\n传统人工智能方法：搜索树、$\\alpha-\\beta$剪枝算法\n\n机器学习方法：通过对棋盘的数据集进行学习到掌握下棋方法\n\n### 机器学习（Machine Learning）与统计学（Statistics）\n\n> 统计：使用数据对未知的事情进行推论\n\n* 假设是某种推论，目标函数是未知，统计是实现机器学习的某种方法\n\n* 传统的统计学是通过数学推论推出结果，机器学习从可计算的角度出发\n\n一些机器学习中使用的某些工具和方法很早就在统计学中使用过","source":"_posts/机器学习基石notes-Lecture1.md","raw":"---\ntitle: 机器学习基石notes-Lecture1 The Learning Problem\ndate: 2016-11-02 08:51:59\ntags:\n- Machine Learning\ncategories:\n- notes\n- 机器学习基石\n---\n\n> [课程主页](https://www.coursera.org/course/ntumlone)，教材主页[Learning From Data](http://amlbook.com/)\n\n<!--more-->\n\n## 课程介绍\n\n机器学习包括了理论与实践两部分，该课程从基础出发，从而掌握机器学习这个工具。\n\n总体分为when why how better四个部分。\n\n## 什么是机器学习\n\n学习：从观察通过学习转化为技巧\n\n机器学习：通过对数据的处理转化为技巧\n\n技巧：可以提高某方面的表现\n\n### 为什么使用机器学习\n\n某些问题很难通过直接的编程解决，而通过进行很多的学习可以更好地解决\n\n### 一些应用场景\n\n* 没办法编程\n\n* 无法进行严格的定义\n\n* 人类无法快速解决的问题\n\n* 个性化的问题\n\n### 机器学习的关键\n\n* 存在某些潜在的模式可以学习\n\n* 没有办法编程定义\n\n* 数据\n\n## 机器学习的应用\n\n食、衣、住、行、育、乐\n\n## 机器学习的组成\n\n> 机器学习：通过对数据样本的学习进而获得一个与目标函数接近的假设\n\n![机器学习简易符号表示](http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016110201.png)\n\n${\\cal A}$ takes ${\\cal D}$ and ${\\cal H}$ to get ${\\mit g}$\n\n例：银行发放信用卡的标准\n\n* 输入：$x \\in {\\cal X}$（用户申请）\n\n* 输出：$y \\in {\\cal Y}$（是否发信用卡）\n\n* 潜在模式$\\iff$目标函数\n\n  $${\\mit f}:{\\cal X} \\to {\\cal Y}$$（理想未知的信用卡发放公式）\n\n* 数据$\\iff$训练样本：$${\\cal D} = \\{(x_1,y_1),(x_1,y_1),\\cdots,(x_N,y_N)\\}$$（银行历史记录数据）\n\n* 假设$\\iff$函数\n\n  $${\\mit g}:{\\cal X} \\to {\\cal Y}$$（学习到的可用的准则）\n\n![机器学习简易符号表示](http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016110202.png)\n\n机器学习详细流程\n\n学习模型包括${\\cal A}$和${\\cal H}$两部分\n\n## 机器学习与其它领域的关系\n\n### 机器学习（Machine Learning）与数据挖掘（Data Mining）\n\n> 数据挖掘：从数据中挖掘某种有趣的关系、性质\n\n* 当有趣的性质本身就是某种与目标函数接近的假设，那么数据挖掘就与机器学习相同\n\n* 当有趣的性质与目标函数接近的假设有关系时，机器学习和数据挖掘相互关联\n\n* 数据挖掘侧重大数据中的高效计算\n\n很难将两者进行明确的划分\n\n### 机器学习（Machine Learning）与人工智能（Artificial Intelligence）\n\n> 人工智能：使机器具有某种智能行为\n\n* 机器学习是实现人工智能的一种方法\n\n例：下棋问题\n\n传统人工智能方法：搜索树、$\\alpha-\\beta$剪枝算法\n\n机器学习方法：通过对棋盘的数据集进行学习到掌握下棋方法\n\n### 机器学习（Machine Learning）与统计学（Statistics）\n\n> 统计：使用数据对未知的事情进行推论\n\n* 假设是某种推论，目标函数是未知，统计是实现机器学习的某种方法\n\n* 传统的统计学是通过数学推论推出结果，机器学习从可计算的角度出发\n\n一些机器学习中使用的某些工具和方法很早就在统计学中使用过","slug":"机器学习基石notes-Lecture1","published":1,"updated":"2016-11-04T02:23:29.423Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3xv000ip4qt83jiz0tx","content":"<blockquote>\n<p><a href=\"https://www.coursera.org/course/ntumlone\" target=\"_blank\" rel=\"external\">课程主页</a>，教材主页<a href=\"http://amlbook.com/\" target=\"_blank\" rel=\"external\">Learning From Data</a></p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"课程介绍\"><a href=\"#课程介绍\" class=\"headerlink\" title=\"课程介绍\"></a>课程介绍</h2><p>机器学习包括了理论与实践两部分，该课程从基础出发，从而掌握机器学习这个工具。</p>\n<p>总体分为when why how better四个部分。</p>\n<h2 id=\"什么是机器学习\"><a href=\"#什么是机器学习\" class=\"headerlink\" title=\"什么是机器学习\"></a>什么是机器学习</h2><p>学习：从观察通过学习转化为技巧</p>\n<p>机器学习：通过对数据的处理转化为技巧</p>\n<p>技巧：可以提高某方面的表现</p>\n<h3 id=\"为什么使用机器学习\"><a href=\"#为什么使用机器学习\" class=\"headerlink\" title=\"为什么使用机器学习\"></a>为什么使用机器学习</h3><p>某些问题很难通过直接的编程解决，而通过进行很多的学习可以更好地解决</p>\n<h3 id=\"一些应用场景\"><a href=\"#一些应用场景\" class=\"headerlink\" title=\"一些应用场景\"></a>一些应用场景</h3><ul>\n<li><p>没办法编程</p>\n</li>\n<li><p>无法进行严格的定义</p>\n</li>\n<li><p>人类无法快速解决的问题</p>\n</li>\n<li><p>个性化的问题</p>\n</li>\n</ul>\n<h3 id=\"机器学习的关键\"><a href=\"#机器学习的关键\" class=\"headerlink\" title=\"机器学习的关键\"></a>机器学习的关键</h3><ul>\n<li><p>存在某些潜在的模式可以学习</p>\n</li>\n<li><p>没有办法编程定义</p>\n</li>\n<li><p>数据</p>\n</li>\n</ul>\n<h2 id=\"机器学习的应用\"><a href=\"#机器学习的应用\" class=\"headerlink\" title=\"机器学习的应用\"></a>机器学习的应用</h2><p>食、衣、住、行、育、乐</p>\n<h2 id=\"机器学习的组成\"><a href=\"#机器学习的组成\" class=\"headerlink\" title=\"机器学习的组成\"></a>机器学习的组成</h2><blockquote>\n<p>机器学习：通过对数据样本的学习进而获得一个与目标函数接近的假设</p>\n</blockquote>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016110201.png\" alt=\"机器学习简易符号表示\"></p>\n<p>${\\cal A}$ takes ${\\cal D}$ and ${\\cal H}$ to get ${\\mit g}$</p>\n<p>例：银行发放信用卡的标准</p>\n<ul>\n<li><p>输入：$x \\in {\\cal X}$（用户申请）</p>\n</li>\n<li><p>输出：$y \\in {\\cal Y}$（是否发信用卡）</p>\n</li>\n<li><p>潜在模式$\\iff$目标函数</p>\n<p>$${\\mit f}:{\\cal X} \\to {\\cal Y}$$（理想未知的信用卡发放公式）</p>\n</li>\n<li><p>数据$\\iff$训练样本：$${\\cal D} = {(x_1,y_1),(x_1,y_1),\\cdots,(x_N,y_N)}$$（银行历史记录数据）</p>\n</li>\n<li><p>假设$\\iff$函数</p>\n<p>$${\\mit g}:{\\cal X} \\to {\\cal Y}$$（学习到的可用的准则）</p>\n</li>\n</ul>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016110202.png\" alt=\"机器学习简易符号表示\"></p>\n<p>机器学习详细流程</p>\n<p>学习模型包括${\\cal A}$和${\\cal H}$两部分</p>\n<h2 id=\"机器学习与其它领域的关系\"><a href=\"#机器学习与其它领域的关系\" class=\"headerlink\" title=\"机器学习与其它领域的关系\"></a>机器学习与其它领域的关系</h2><h3 id=\"机器学习（Machine-Learning）与数据挖掘（Data-Mining）\"><a href=\"#机器学习（Machine-Learning）与数据挖掘（Data-Mining）\" class=\"headerlink\" title=\"机器学习（Machine Learning）与数据挖掘（Data Mining）\"></a>机器学习（Machine Learning）与数据挖掘（Data Mining）</h3><blockquote>\n<p>数据挖掘：从数据中挖掘某种有趣的关系、性质</p>\n</blockquote>\n<ul>\n<li><p>当有趣的性质本身就是某种与目标函数接近的假设，那么数据挖掘就与机器学习相同</p>\n</li>\n<li><p>当有趣的性质与目标函数接近的假设有关系时，机器学习和数据挖掘相互关联</p>\n</li>\n<li><p>数据挖掘侧重大数据中的高效计算</p>\n</li>\n</ul>\n<p>很难将两者进行明确的划分</p>\n<h3 id=\"机器学习（Machine-Learning）与人工智能（Artificial-Intelligence）\"><a href=\"#机器学习（Machine-Learning）与人工智能（Artificial-Intelligence）\" class=\"headerlink\" title=\"机器学习（Machine Learning）与人工智能（Artificial Intelligence）\"></a>机器学习（Machine Learning）与人工智能（Artificial Intelligence）</h3><blockquote>\n<p>人工智能：使机器具有某种智能行为</p>\n</blockquote>\n<ul>\n<li>机器学习是实现人工智能的一种方法</li>\n</ul>\n<p>例：下棋问题</p>\n<p>传统人工智能方法：搜索树、$\\alpha-\\beta$剪枝算法</p>\n<p>机器学习方法：通过对棋盘的数据集进行学习到掌握下棋方法</p>\n<h3 id=\"机器学习（Machine-Learning）与统计学（Statistics）\"><a href=\"#机器学习（Machine-Learning）与统计学（Statistics）\" class=\"headerlink\" title=\"机器学习（Machine Learning）与统计学（Statistics）\"></a>机器学习（Machine Learning）与统计学（Statistics）</h3><blockquote>\n<p>统计：使用数据对未知的事情进行推论</p>\n</blockquote>\n<ul>\n<li><p>假设是某种推论，目标函数是未知，统计是实现机器学习的某种方法</p>\n</li>\n<li><p>传统的统计学是通过数学推论推出结果，机器学习从可计算的角度出发</p>\n</li>\n</ul>\n<p>一些机器学习中使用的某些工具和方法很早就在统计学中使用过</p>\n","excerpt":"<blockquote>\n<p><a href=\"https://www.coursera.org/course/ntumlone\">课程主页</a>，教材主页<a href=\"http://amlbook.com/\">Learning From Data</a></p>\n</blockquote>","more":"<h2 id=\"课程介绍\"><a href=\"#课程介绍\" class=\"headerlink\" title=\"课程介绍\"></a>课程介绍</h2><p>机器学习包括了理论与实践两部分，该课程从基础出发，从而掌握机器学习这个工具。</p>\n<p>总体分为when why how better四个部分。</p>\n<h2 id=\"什么是机器学习\"><a href=\"#什么是机器学习\" class=\"headerlink\" title=\"什么是机器学习\"></a>什么是机器学习</h2><p>学习：从观察通过学习转化为技巧</p>\n<p>机器学习：通过对数据的处理转化为技巧</p>\n<p>技巧：可以提高某方面的表现</p>\n<h3 id=\"为什么使用机器学习\"><a href=\"#为什么使用机器学习\" class=\"headerlink\" title=\"为什么使用机器学习\"></a>为什么使用机器学习</h3><p>某些问题很难通过直接的编程解决，而通过进行很多的学习可以更好地解决</p>\n<h3 id=\"一些应用场景\"><a href=\"#一些应用场景\" class=\"headerlink\" title=\"一些应用场景\"></a>一些应用场景</h3><ul>\n<li><p>没办法编程</p>\n</li>\n<li><p>无法进行严格的定义</p>\n</li>\n<li><p>人类无法快速解决的问题</p>\n</li>\n<li><p>个性化的问题</p>\n</li>\n</ul>\n<h3 id=\"机器学习的关键\"><a href=\"#机器学习的关键\" class=\"headerlink\" title=\"机器学习的关键\"></a>机器学习的关键</h3><ul>\n<li><p>存在某些潜在的模式可以学习</p>\n</li>\n<li><p>没有办法编程定义</p>\n</li>\n<li><p>数据</p>\n</li>\n</ul>\n<h2 id=\"机器学习的应用\"><a href=\"#机器学习的应用\" class=\"headerlink\" title=\"机器学习的应用\"></a>机器学习的应用</h2><p>食、衣、住、行、育、乐</p>\n<h2 id=\"机器学习的组成\"><a href=\"#机器学习的组成\" class=\"headerlink\" title=\"机器学习的组成\"></a>机器学习的组成</h2><blockquote>\n<p>机器学习：通过对数据样本的学习进而获得一个与目标函数接近的假设</p>\n</blockquote>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016110201.png\" alt=\"机器学习简易符号表示\"></p>\n<p>${\\cal A}$ takes ${\\cal D}$ and ${\\cal H}$ to get ${\\mit g}$</p>\n<p>例：银行发放信用卡的标准</p>\n<ul>\n<li><p>输入：$x \\in {\\cal X}$（用户申请）</p>\n</li>\n<li><p>输出：$y \\in {\\cal Y}$（是否发信用卡）</p>\n</li>\n<li><p>潜在模式$\\iff$目标函数</p>\n<p>$${\\mit f}:{\\cal X} \\to {\\cal Y}$$（理想未知的信用卡发放公式）</p>\n</li>\n<li><p>数据$\\iff$训练样本：$${\\cal D} = {(x_1,y_1),(x_1,y_1),\\cdots,(x_N,y_N)}$$（银行历史记录数据）</p>\n</li>\n<li><p>假设$\\iff$函数</p>\n<p>$${\\mit g}:{\\cal X} \\to {\\cal Y}$$（学习到的可用的准则）</p>\n</li>\n</ul>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016110202.png\" alt=\"机器学习简易符号表示\"></p>\n<p>机器学习详细流程</p>\n<p>学习模型包括${\\cal A}$和${\\cal H}$两部分</p>\n<h2 id=\"机器学习与其它领域的关系\"><a href=\"#机器学习与其它领域的关系\" class=\"headerlink\" title=\"机器学习与其它领域的关系\"></a>机器学习与其它领域的关系</h2><h3 id=\"机器学习（Machine-Learning）与数据挖掘（Data-Mining）\"><a href=\"#机器学习（Machine-Learning）与数据挖掘（Data-Mining）\" class=\"headerlink\" title=\"机器学习（Machine Learning）与数据挖掘（Data Mining）\"></a>机器学习（Machine Learning）与数据挖掘（Data Mining）</h3><blockquote>\n<p>数据挖掘：从数据中挖掘某种有趣的关系、性质</p>\n</blockquote>\n<ul>\n<li><p>当有趣的性质本身就是某种与目标函数接近的假设，那么数据挖掘就与机器学习相同</p>\n</li>\n<li><p>当有趣的性质与目标函数接近的假设有关系时，机器学习和数据挖掘相互关联</p>\n</li>\n<li><p>数据挖掘侧重大数据中的高效计算</p>\n</li>\n</ul>\n<p>很难将两者进行明确的划分</p>\n<h3 id=\"机器学习（Machine-Learning）与人工智能（Artificial-Intelligence）\"><a href=\"#机器学习（Machine-Learning）与人工智能（Artificial-Intelligence）\" class=\"headerlink\" title=\"机器学习（Machine Learning）与人工智能（Artificial Intelligence）\"></a>机器学习（Machine Learning）与人工智能（Artificial Intelligence）</h3><blockquote>\n<p>人工智能：使机器具有某种智能行为</p>\n</blockquote>\n<ul>\n<li>机器学习是实现人工智能的一种方法</li>\n</ul>\n<p>例：下棋问题</p>\n<p>传统人工智能方法：搜索树、$\\alpha-\\beta$剪枝算法</p>\n<p>机器学习方法：通过对棋盘的数据集进行学习到掌握下棋方法</p>\n<h3 id=\"机器学习（Machine-Learning）与统计学（Statistics）\"><a href=\"#机器学习（Machine-Learning）与统计学（Statistics）\" class=\"headerlink\" title=\"机器学习（Machine Learning）与统计学（Statistics）\"></a>机器学习（Machine Learning）与统计学（Statistics）</h3><blockquote>\n<p>统计：使用数据对未知的事情进行推论</p>\n</blockquote>\n<ul>\n<li><p>假设是某种推论，目标函数是未知，统计是实现机器学习的某种方法</p>\n</li>\n<li><p>传统的统计学是通过数学推论推出结果，机器学习从可计算的角度出发</p>\n</li>\n</ul>\n<p>一些机器学习中使用的某些工具和方法很早就在统计学中使用过</p>"},{"title":"机器学习基石notes-Lecture3 Types of Learning","date":"2016-11-10T13:50:04.000Z","_content":"\n机器学习的分类\n\n<!--more-->\n\n## 输出空间${\\cal Y}$\n\n* 二分类：${\\cal Y} = \\{-1,+1\\}$\n\n* 多类别分类：${\\cal Y} = \\{1,2, \\cdots ,K\\}$\n\n* 回归：${\\cal Y} = {\\Bbb R}$\n\n* 结构化学习：${\\cal Y} = $结构\n\n## 数据标记${\\sf y}_n$\n\n1. 监督学习\n\n2. 无监督学习\n\n* 聚类\n\n* 密度估计\n\n* 异常检测\n\n3. 半监督学习\n\n4. 增强学习\n\n## 获取数据方式${\\sf f} \\Rightarrow (X_n,{\\sf y}\\_n)$\n\n* 批量（batch）：填鸭式学习\n\n* 在线（online）：被动循序学习\n\n* 主动（active）：主动学习，问问题进而可以很快的提高\n\n## 输入空间${\\cal X}$\n\n* 具体特征（concrete features）：经过了人类智慧对这个问题的描述，经过了人类的预处理\n\n* 原始特征（raw features）：\n\n例：手写数字识别\n\n具体特征：(对称程度，密度(复杂程度))\n\n原始特征：16x16的灰度图像转化为256维的特征向量（0,0,0.9,0.6，$\\cdots$）\n\n* 抽象特征（abstract features）\n\n例：视频推荐系统\n\n具体特征：用户的特征\n\n原始特征：图像特征\n\n抽象特征：用户、视频的ID","source":"_posts/机器学习基石notes-Lecture3.md","raw":"---\ntitle: 机器学习基石notes-Lecture3 Types of Learning\ndate: 2016-11-10 21:50:04\ntags: Machine Learning\ncategories:\n- notes\n- 机器学习基石\n---\n\n机器学习的分类\n\n<!--more-->\n\n## 输出空间${\\cal Y}$\n\n* 二分类：${\\cal Y} = \\{-1,+1\\}$\n\n* 多类别分类：${\\cal Y} = \\{1,2, \\cdots ,K\\}$\n\n* 回归：${\\cal Y} = {\\Bbb R}$\n\n* 结构化学习：${\\cal Y} = $结构\n\n## 数据标记${\\sf y}_n$\n\n1. 监督学习\n\n2. 无监督学习\n\n* 聚类\n\n* 密度估计\n\n* 异常检测\n\n3. 半监督学习\n\n4. 增强学习\n\n## 获取数据方式${\\sf f} \\Rightarrow (X_n,{\\sf y}\\_n)$\n\n* 批量（batch）：填鸭式学习\n\n* 在线（online）：被动循序学习\n\n* 主动（active）：主动学习，问问题进而可以很快的提高\n\n## 输入空间${\\cal X}$\n\n* 具体特征（concrete features）：经过了人类智慧对这个问题的描述，经过了人类的预处理\n\n* 原始特征（raw features）：\n\n例：手写数字识别\n\n具体特征：(对称程度，密度(复杂程度))\n\n原始特征：16x16的灰度图像转化为256维的特征向量（0,0,0.9,0.6，$\\cdots$）\n\n* 抽象特征（abstract features）\n\n例：视频推荐系统\n\n具体特征：用户的特征\n\n原始特征：图像特征\n\n抽象特征：用户、视频的ID","slug":"机器学习基石notes-Lecture3","published":1,"updated":"2016-11-10T14:14:51.126Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3xy000lp4qt6xlbguw0","content":"<p>机器学习的分类</p>\n<a id=\"more\"></a>\n<h2 id=\"输出空间-cal-Y\"><a href=\"#输出空间-cal-Y\" class=\"headerlink\" title=\"输出空间${\\cal Y}$\"></a>输出空间${\\cal Y}$</h2><ul>\n<li><p>二分类：${\\cal Y} = {-1,+1}$</p>\n</li>\n<li><p>多类别分类：${\\cal Y} = {1,2, \\cdots ,K}$</p>\n</li>\n<li><p>回归：${\\cal Y} = {\\Bbb R}$</p>\n</li>\n<li><p>结构化学习：${\\cal Y} = $结构</p>\n</li>\n</ul>\n<h2 id=\"数据标记-sf-y-n\"><a href=\"#数据标记-sf-y-n\" class=\"headerlink\" title=\"数据标记${\\sf y}_n$\"></a>数据标记${\\sf y}_n$</h2><ol>\n<li><p>监督学习</p>\n</li>\n<li><p>无监督学习</p>\n</li>\n</ol>\n<ul>\n<li><p>聚类</p>\n</li>\n<li><p>密度估计</p>\n</li>\n<li><p>异常检测</p>\n</li>\n</ul>\n<ol>\n<li><p>半监督学习</p>\n</li>\n<li><p>增强学习</p>\n</li>\n</ol>\n<h2 id=\"获取数据方式-sf-f-Rightarrow-X-n-sf-y-n\"><a href=\"#获取数据方式-sf-f-Rightarrow-X-n-sf-y-n\" class=\"headerlink\" title=\"获取数据方式${\\sf f} \\Rightarrow (X_n,{\\sf y}_n)$\"></a>获取数据方式${\\sf f} \\Rightarrow (X_n,{\\sf y}_n)$</h2><ul>\n<li><p>批量（batch）：填鸭式学习</p>\n</li>\n<li><p>在线（online）：被动循序学习</p>\n</li>\n<li><p>主动（active）：主动学习，问问题进而可以很快的提高</p>\n</li>\n</ul>\n<h2 id=\"输入空间-cal-X\"><a href=\"#输入空间-cal-X\" class=\"headerlink\" title=\"输入空间${\\cal X}$\"></a>输入空间${\\cal X}$</h2><ul>\n<li><p>具体特征（concrete features）：经过了人类智慧对这个问题的描述，经过了人类的预处理</p>\n</li>\n<li><p>原始特征（raw features）：</p>\n</li>\n</ul>\n<p>例：手写数字识别</p>\n<p>具体特征：(对称程度，密度(复杂程度))</p>\n<p>原始特征：16x16的灰度图像转化为256维的特征向量（0,0,0.9,0.6，$\\cdots$）</p>\n<ul>\n<li>抽象特征（abstract features）</li>\n</ul>\n<p>例：视频推荐系统</p>\n<p>具体特征：用户的特征</p>\n<p>原始特征：图像特征</p>\n<p>抽象特征：用户、视频的ID</p>\n","excerpt":"<p>机器学习的分类</p>","more":"<h2 id=\"输出空间-cal-Y\"><a href=\"#输出空间-cal-Y\" class=\"headerlink\" title=\"输出空间${\\cal Y}$\"></a>输出空间${\\cal Y}$</h2><ul>\n<li><p>二分类：${\\cal Y} = {-1,+1}$</p>\n</li>\n<li><p>多类别分类：${\\cal Y} = {1,2, \\cdots ,K}$</p>\n</li>\n<li><p>回归：${\\cal Y} = {\\Bbb R}$</p>\n</li>\n<li><p>结构化学习：${\\cal Y} = $结构</p>\n</li>\n</ul>\n<h2 id=\"数据标记-sf-y-n\"><a href=\"#数据标记-sf-y-n\" class=\"headerlink\" title=\"数据标记${\\sf y}_n$\"></a>数据标记${\\sf y}_n$</h2><ol>\n<li><p>监督学习</p>\n</li>\n<li><p>无监督学习</p>\n</li>\n</ol>\n<ul>\n<li><p>聚类</p>\n</li>\n<li><p>密度估计</p>\n</li>\n<li><p>异常检测</p>\n</li>\n</ul>\n<ol>\n<li><p>半监督学习</p>\n</li>\n<li><p>增强学习</p>\n</li>\n</ol>\n<h2 id=\"获取数据方式-sf-f-Rightarrow-X-n-sf-y-n\"><a href=\"#获取数据方式-sf-f-Rightarrow-X-n-sf-y-n\" class=\"headerlink\" title=\"获取数据方式${\\sf f} \\Rightarrow (X_n,{\\sf y}_n)$\"></a>获取数据方式${\\sf f} \\Rightarrow (X_n,{\\sf y}_n)$</h2><ul>\n<li><p>批量（batch）：填鸭式学习</p>\n</li>\n<li><p>在线（online）：被动循序学习</p>\n</li>\n<li><p>主动（active）：主动学习，问问题进而可以很快的提高</p>\n</li>\n</ul>\n<h2 id=\"输入空间-cal-X\"><a href=\"#输入空间-cal-X\" class=\"headerlink\" title=\"输入空间${\\cal X}$\"></a>输入空间${\\cal X}$</h2><ul>\n<li><p>具体特征（concrete features）：经过了人类智慧对这个问题的描述，经过了人类的预处理</p>\n</li>\n<li><p>原始特征（raw features）：</p>\n</li>\n</ul>\n<p>例：手写数字识别</p>\n<p>具体特征：(对称程度，密度(复杂程度))</p>\n<p>原始特征：16x16的灰度图像转化为256维的特征向量（0,0,0.9,0.6，$\\cdots$）</p>\n<ul>\n<li>抽象特征（abstract features）</li>\n</ul>\n<p>例：视频推荐系统</p>\n<p>具体特征：用户的特征</p>\n<p>原始特征：图像特征</p>\n<p>抽象特征：用户、视频的ID</p>"},{"title":"机器学习基石notes-Lecture2 Learning to Answer Yes/No","date":"2016-11-02T06:15:58.000Z","_content":"\n## 感知机模型\n\n<!--more-->\n\n对于一组特征向量 $X = (X_1,X_2,\\cdots,X_d)$，${\\cal y}: \\lbrace +1,-1 \\rbrace $，将特征向量与权值向量做内积，其计算结果与阀值作比较进而输出结果\n\n${\\mit h} \\in {\\cal H}$\n$$\n\\begin{align}\n{\\mit h}(X) & = sign\\left(\\left(\\sum_{i=1}^d { {W_i} {X_i} }\\right) - threshold\\right) \\\\\n& = sign\\left(\\left(\\sum_{i=1}^d { {W_i} {X_i} }\\right) + \\underbrace{(-threshold)}_{W_0}\\cdot\\underbrace{(+1)}_{X0}\\right) \\\\\n& = sign\\left(\\sum_{i=0}^d { {W_i} {X_i} }\\right) \\\\\n& = sign({W^T}X)\n\\end{align}\n$$\n\n例：在二维空间中，h函数表示为${\\mit h}(X) = sign(W_0+{W_1}{X_1}+{W_2}{X_2})$\n![二维空间感知机模型](http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016-11-02_194509.png)\n空间中的点表示特征向量，标签y表示输出值，O表示+1，x表示-1，空间中的线表示假设\n\n## 感知机学习算法\n\n通过不断修正的方式，初始化的$W_0$，通过${\\cal D}$训练样本不断修正。\n\n具体算法：\n\n在${\\mit t} = 0,1,\\cdots$循环过程中\n\n1. 存在$( {X_n(t)} , { {\\mit y}_n(t)} )$在$W_t$的规则下是错误的，即$sign( {W_t^T}X_n(t) ) \\not= {\\mit y}_n(t)$\n\n2. 通过$W_{t+1} \\leftarrow W_t + {\\mit y}_n(t)X_n(t)$进行修正\n\n3. 直到没有错误返回$W$为${\\mit g}$\n\n![感知机算法修正示意图](http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016-11-02_215946.png)\n\n实际上W即为分割线的法向量，sign即为X在W方向上的分量与W是同向还是反向。\n\n## 感知机算法的收敛性\n\nPLA数据线性可分\n\n假设${\\cal D}$是线性可分的，那么PLA是否一定会停止\n\n\n\n## 非线性可分数据集\n\n但是PLA的前提是指导数据集是线性可分的\n\n数据集中普遍存在噪声\n\n解决办法\n\n找一个在已知数据集上犯错最少的线\n\n初始化当前最优预测向量$\\hat{W}$，在${\\mit t} = 0,1,\\cdots$循环过程中\n\n1. 存在$( {X_n(t)} , { {\\mit y}_n(t)} )$在$W_t$的规则下是错误的\n\n2. 通过$W_{t+1} \\leftarrow W_t + {\\mit y}_n(t)X_n(t)$进行修正\n\n3. 如果新的$W\\_{t+1}$比$\\hat{W}$犯的错少，更新$\\hat{W}$为$W_{t+1}$ \n\n3. 直到做了足够多次循环，返回$\\hat{W}$为${\\mit g}$\n","source":"_posts/机器学习基石notes-Lecture2.md","raw":"---\ntitle: 机器学习基石notes-Lecture2 Learning to Answer Yes/No\ndate: 2016-11-02 14:15:58\ntags: Machine Learning\ncategories:\n- notes\n- 机器学习基石\n---\n\n## 感知机模型\n\n<!--more-->\n\n对于一组特征向量 $X = (X_1,X_2,\\cdots,X_d)$，${\\cal y}: \\lbrace +1,-1 \\rbrace $，将特征向量与权值向量做内积，其计算结果与阀值作比较进而输出结果\n\n${\\mit h} \\in {\\cal H}$\n$$\n\\begin{align}\n{\\mit h}(X) & = sign\\left(\\left(\\sum_{i=1}^d { {W_i} {X_i} }\\right) - threshold\\right) \\\\\n& = sign\\left(\\left(\\sum_{i=1}^d { {W_i} {X_i} }\\right) + \\underbrace{(-threshold)}_{W_0}\\cdot\\underbrace{(+1)}_{X0}\\right) \\\\\n& = sign\\left(\\sum_{i=0}^d { {W_i} {X_i} }\\right) \\\\\n& = sign({W^T}X)\n\\end{align}\n$$\n\n例：在二维空间中，h函数表示为${\\mit h}(X) = sign(W_0+{W_1}{X_1}+{W_2}{X_2})$\n![二维空间感知机模型](http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016-11-02_194509.png)\n空间中的点表示特征向量，标签y表示输出值，O表示+1，x表示-1，空间中的线表示假设\n\n## 感知机学习算法\n\n通过不断修正的方式，初始化的$W_0$，通过${\\cal D}$训练样本不断修正。\n\n具体算法：\n\n在${\\mit t} = 0,1,\\cdots$循环过程中\n\n1. 存在$( {X_n(t)} , { {\\mit y}_n(t)} )$在$W_t$的规则下是错误的，即$sign( {W_t^T}X_n(t) ) \\not= {\\mit y}_n(t)$\n\n2. 通过$W_{t+1} \\leftarrow W_t + {\\mit y}_n(t)X_n(t)$进行修正\n\n3. 直到没有错误返回$W$为${\\mit g}$\n\n![感知机算法修正示意图](http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016-11-02_215946.png)\n\n实际上W即为分割线的法向量，sign即为X在W方向上的分量与W是同向还是反向。\n\n## 感知机算法的收敛性\n\nPLA数据线性可分\n\n假设${\\cal D}$是线性可分的，那么PLA是否一定会停止\n\n\n\n## 非线性可分数据集\n\n但是PLA的前提是指导数据集是线性可分的\n\n数据集中普遍存在噪声\n\n解决办法\n\n找一个在已知数据集上犯错最少的线\n\n初始化当前最优预测向量$\\hat{W}$，在${\\mit t} = 0,1,\\cdots$循环过程中\n\n1. 存在$( {X_n(t)} , { {\\mit y}_n(t)} )$在$W_t$的规则下是错误的\n\n2. 通过$W_{t+1} \\leftarrow W_t + {\\mit y}_n(t)X_n(t)$进行修正\n\n3. 如果新的$W\\_{t+1}$比$\\hat{W}$犯的错少，更新$\\hat{W}$为$W_{t+1}$ \n\n3. 直到做了足够多次循环，返回$\\hat{W}$为${\\mit g}$\n","slug":"机器学习基石notes-Lecture2","published":1,"updated":"2016-11-04T03:00:34.544Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3y1000np4qt8kybucsd","content":"<h2 id=\"感知机模型\"><a href=\"#感知机模型\" class=\"headerlink\" title=\"感知机模型\"></a>感知机模型</h2><a id=\"more\"></a>\n<p>对于一组特征向量 $X = (X_1,X_2,\\cdots,X_d)$，${\\cal y}: \\lbrace +1,-1 \\rbrace $，将特征向量与权值向量做内积，其计算结果与阀值作比较进而输出结果</p>\n<p>${\\mit h} \\in {\\cal H}$<br>$$<br>\\begin{align}<br>{\\mit h}(X) &amp; = sign\\left(\\left(\\sum_{i=1}^d { {W_i} {X<em>i} }\\right) - threshold\\right) \\<br>&amp; = sign\\left(\\left(\\sum</em>{i=1}^d { {W_i} {X<em>i} }\\right) + \\underbrace{(-threshold)}</em>{W<em>0}\\cdot\\underbrace{(+1)}</em>{X0}\\right) \\<br>&amp; = sign\\left(\\sum_{i=0}^d { {W_i} {X_i} }\\right) \\<br>&amp; = sign({W^T}X)<br>\\end{align}<br>$$</p>\n<p>例：在二维空间中，h函数表示为${\\mit h}(X) = sign(W_0+{W_1}{X_1}+{W_2}{X_2})$<br><img src=\"http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016-11-02_194509.png\" alt=\"二维空间感知机模型\"><br>空间中的点表示特征向量，标签y表示输出值，O表示+1，x表示-1，空间中的线表示假设</p>\n<h2 id=\"感知机学习算法\"><a href=\"#感知机学习算法\" class=\"headerlink\" title=\"感知机学习算法\"></a>感知机学习算法</h2><p>通过不断修正的方式，初始化的$W_0$，通过${\\cal D}$训练样本不断修正。</p>\n<p>具体算法：</p>\n<p>在${\\mit t} = 0,1,\\cdots$循环过程中</p>\n<ol>\n<li><p>存在$( {X_n(t)} , { {\\mit y}_n(t)} )$在$W_t$的规则下是错误的，即$sign( {W_t^T}X_n(t) ) \\not= {\\mit y}_n(t)$</p>\n</li>\n<li><p>通过$W_{t+1} \\leftarrow W_t + {\\mit y}_n(t)X_n(t)$进行修正</p>\n</li>\n<li><p>直到没有错误返回$W$为${\\mit g}$</p>\n</li>\n</ol>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016-11-02_215946.png\" alt=\"感知机算法修正示意图\"></p>\n<p>实际上W即为分割线的法向量，sign即为X在W方向上的分量与W是同向还是反向。</p>\n<h2 id=\"感知机算法的收敛性\"><a href=\"#感知机算法的收敛性\" class=\"headerlink\" title=\"感知机算法的收敛性\"></a>感知机算法的收敛性</h2><p>PLA数据线性可分</p>\n<p>假设${\\cal D}$是线性可分的，那么PLA是否一定会停止</p>\n<h2 id=\"非线性可分数据集\"><a href=\"#非线性可分数据集\" class=\"headerlink\" title=\"非线性可分数据集\"></a>非线性可分数据集</h2><p>但是PLA的前提是指导数据集是线性可分的</p>\n<p>数据集中普遍存在噪声</p>\n<p>解决办法</p>\n<p>找一个在已知数据集上犯错最少的线</p>\n<p>初始化当前最优预测向量$\\hat{W}$，在${\\mit t} = 0,1,\\cdots$循环过程中</p>\n<ol>\n<li><p>存在$( {X_n(t)} , { {\\mit y}_n(t)} )$在$W_t$的规则下是错误的</p>\n</li>\n<li><p>通过$W_{t+1} \\leftarrow W_t + {\\mit y}_n(t)X_n(t)$进行修正</p>\n</li>\n<li><p>如果新的$W_{t+1}$比$\\hat{W}$犯的错少，更新$\\hat{W}$为$W_{t+1}$ </p>\n</li>\n<li><p>直到做了足够多次循环，返回$\\hat{W}$为${\\mit g}$</p>\n</li>\n</ol>\n","excerpt":"<h2 id=\"感知机模型\"><a href=\"#感知机模型\" class=\"headerlink\" title=\"感知机模型\"></a>感知机模型</h2>","more":"<p>对于一组特征向量 $X = (X_1,X_2,\\cdots,X_d)$，${\\cal y}: \\lbrace +1,-1 \\rbrace $，将特征向量与权值向量做内积，其计算结果与阀值作比较进而输出结果</p>\n<p>${\\mit h} \\in {\\cal H}$<br>$$<br>\\begin{align}<br>{\\mit h}(X) &amp; = sign\\left(\\left(\\sum_{i=1}^d { {W_i} {X<em>i} }\\right) - threshold\\right) \\<br>&amp; = sign\\left(\\left(\\sum</em>{i=1}^d { {W_i} {X<em>i} }\\right) + \\underbrace{(-threshold)}</em>{W<em>0}\\cdot\\underbrace{(+1)}</em>{X0}\\right) \\<br>&amp; = sign\\left(\\sum_{i=0}^d { {W_i} {X_i} }\\right) \\<br>&amp; = sign({W^T}X)<br>\\end{align}<br>$$</p>\n<p>例：在二维空间中，h函数表示为${\\mit h}(X) = sign(W_0+{W_1}{X_1}+{W_2}{X_2})$<br><img src=\"http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016-11-02_194509.png\" alt=\"二维空间感知机模型\"><br>空间中的点表示特征向量，标签y表示输出值，O表示+1，x表示-1，空间中的线表示假设</p>\n<h2 id=\"感知机学习算法\"><a href=\"#感知机学习算法\" class=\"headerlink\" title=\"感知机学习算法\"></a>感知机学习算法</h2><p>通过不断修正的方式，初始化的$W_0$，通过${\\cal D}$训练样本不断修正。</p>\n<p>具体算法：</p>\n<p>在${\\mit t} = 0,1,\\cdots$循环过程中</p>\n<ol>\n<li><p>存在$( {X_n(t)} , { {\\mit y}_n(t)} )$在$W_t$的规则下是错误的，即$sign( {W_t^T}X_n(t) ) \\not= {\\mit y}_n(t)$</p>\n</li>\n<li><p>通过$W_{t+1} \\leftarrow W_t + {\\mit y}_n(t)X_n(t)$进行修正</p>\n</li>\n<li><p>直到没有错误返回$W$为${\\mit g}$</p>\n</li>\n</ol>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/machinelearningfoundations/2016-11-02_215946.png\" alt=\"感知机算法修正示意图\"></p>\n<p>实际上W即为分割线的法向量，sign即为X在W方向上的分量与W是同向还是反向。</p>\n<h2 id=\"感知机算法的收敛性\"><a href=\"#感知机算法的收敛性\" class=\"headerlink\" title=\"感知机算法的收敛性\"></a>感知机算法的收敛性</h2><p>PLA数据线性可分</p>\n<p>假设${\\cal D}$是线性可分的，那么PLA是否一定会停止</p>\n<h2 id=\"非线性可分数据集\"><a href=\"#非线性可分数据集\" class=\"headerlink\" title=\"非线性可分数据集\"></a>非线性可分数据集</h2><p>但是PLA的前提是指导数据集是线性可分的</p>\n<p>数据集中普遍存在噪声</p>\n<p>解决办法</p>\n<p>找一个在已知数据集上犯错最少的线</p>\n<p>初始化当前最优预测向量$\\hat{W}$，在${\\mit t} = 0,1,\\cdots$循环过程中</p>\n<ol>\n<li><p>存在$( {X_n(t)} , { {\\mit y}_n(t)} )$在$W_t$的规则下是错误的</p>\n</li>\n<li><p>通过$W_{t+1} \\leftarrow W_t + {\\mit y}_n(t)X_n(t)$进行修正</p>\n</li>\n<li><p>如果新的$W_{t+1}$比$\\hat{W}$犯的错少，更新$\\hat{W}$为$W_{t+1}$ </p>\n</li>\n<li><p>直到做了足够多次循环，返回$\\hat{W}$为${\\mit g}$</p>\n</li>\n</ol>"},{"title":"设计模式示例（C++实现）","date":"2016-11-13T14:22:43.000Z","_content":"\n最近参加了软考，在准备考试过程中发现其中给出设计类图让通过指定的设计模式进行设计的题目对于练习C++和软件开发是一种不错的的方式，因为学校中的C++课程只讲C++语言，虽然也讲了封装、继承、多态等特性，但是缺少相应的练习，使得没有深入的认识和理解。同时类似于程序设计、软件工程的课程设计，其中概要设计、详细设计也都是文档写的很好看，最后编码从没按照设计中的内容来写。最终导致了学完C++，用的时候却不知从何下手。所以这里总结了[全国计算机技术与软件专业技术资格（水平）考试参考用书](http://www.ruankao.org.cn/)系列中的部分题目，希望可以达到以下两个目的：\n\n<!--more-->\n\n* 练习C++，掌握理解更多的特性，而不是只停留在掌握语法的阶段\n\n* 提高软件开发方面的能力，主要是熟悉、学习基本的设计模式，学会如何设计并按照设计实现相应的编码\n\n但需要特别指出的是设计模式还是推荐阅读这方面的经典书籍：[设计模式 可复用面向对象软件的基础](https://book.douban.com/subject/1052241/)。我只是总结软考中的题目是因为题目可以让我们快速的对问题有所了解，并且我暂时也只是想练习C++，但如果想要对问题有系统、详细的了解还是需要读书。\n\n### Command（命令）模式\n\n例：某灯具厂商欲生产一个灯具遥控器，该遥控器具有7个可编程的插槽，每个插槽都有开关按钮，对应着一个不同的灯。利用该遥控器能够统一控制房间内该厂商所有品牌灯具的开关，现采用Command（命令）模式实现该遥控器的软件部分。Command模式的类图如图所示。\n\n![commandpattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/commandpattern.jpg)\n\n```cpp\n/*************************************************\n* Command Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 13\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\nclass Light{\nprivate:\n\tstring name;\npublic:\n\tLight(string name){ this->name = name; }\n\tvoid on(){ cout << name + \" on\" << endl; }\n\tvoid off(){ cout << name + \" off\" << endl; }\n};\n\nclass Command{\npublic:\n\tvirtual void execute(){}\n};\n\nclass LightOnCommand :public Command{\nprivate:\n\tLight* light;\npublic:\n\tLightOnCommand(Light* light){ this->light = light; }\n\tvoid execute(){ light->on(); }\n};\n\nclass LightOffCommand :public Command{\nprivate:\n\tLight* light;\npublic:\n\tLightOffCommand(Light* light){ this->light = light; }\n\tvoid execute(){ light->off(); }\n};\n\nclass RemoteControl{\nprivate:\n\tCommand* onCommands[7];\n\tCommand* offCommands[7];\npublic:\n\tRemoteControl(){}\n\tvoid setCommand(int slot, Command* onCommand, Command* offCommand){\n\t\tonCommands[slot] = onCommand;\n\t\toffCommands[slot] = offCommand;\n\t}\n\tvoid onButtonWasPushed(int slot){ onCommands[slot]->execute(); }\n\tvoid offButtonWasPushed(int slot){ offCommands[slot]->execute(); }\n};\n\nint main() {\n\tRemoteControl* remoteControl = new RemoteControl();\n\tLight* livingRoomLight = new Light(\"Living Room\");\n\tLight* kitchenLight = new Light(\"Kitchen\");\n\tLightOnCommand* livingRoomLightOn = new LightOnCommand(livingRoomLight);\n\tLightOffCommand* livingRoomLightOff = new LightOffCommand(livingRoomLight);\n\tLightOnCommand* kitchenLightOn = new LightOnCommand(kitchenLight);\n\tLightOffCommand* kitchenLightOff = new LightOffCommand(kitchenLight);\n\tremoteControl->setCommand(0, livingRoomLightOn, livingRoomLightOff);\n\tremoteControl->setCommand(1, kitchenLightOn, kitchenLightOff);\n\tremoteControl->onButtonWasPushed(0);\n\tremoteControl->offButtonWasPushed(0);\n\tremoteControl->onButtonWasPushed(1);\n\tremoteControl->offButtonWasPushed(1);\n\treturn 0;\n}\n```\n\n### Observer（观察者）模式\n\n例：某实验室欲建立一个实验室环境监测系统，以显示实验室的温度、湿度以及洁净度等环境数据。当获取到最新的环境测量数据时，显示的环境数据能够更新。现在采用观察者（Observer）模式来开发该系统，观察者模式的类图如图所示。\n\n![observerpattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/observerpattern.jpg)\n\n```cpp\n/*************************************************\n* Observer Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 13\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nclass Observer{\npublic:\n\tvirtual void update(float temp, float humidity, float cleanness) = 0;\n};\n\nclass Subject{\npublic:\n\tvirtual void registerObserver(Observer* o) = 0;\n\tvirtual void removeObserver(Observer* o) = 0;\n\tvirtual void notifyObserver() = 0;\n};\n\nclass EnvironmentData : public Subject{\nprivate:\n\tvector<Observer*> observers;\n\tfloat temperature, humidity, cleanness;\npublic:\n\tvoid registerObserver(Observer* o){ observers.push_back(o); }\n\tvoid removeObserver(Observer* o){}\n\tvoid notifyObserver(){\n\t\tfor (vector<Observer*>::const_iterator it = observers.begin(); it != observers.end(); it++)\n\t\t{\n\t\t\t(*it)->update(temperature, humidity, cleanness);\n\t\t}\n\t}\n\tvoid measurementsChanged(){ notifyObserver(); }\n\tvoid setMeasurements(float temperature, float humidity, float cleanness){\n\t\tthis->temperature = temperature;\n\t\tthis->humidity = humidity;\n\t\tthis->cleanness = cleanness;\n\t\tmeasurementsChanged();\n\t}\n};\n\nclass CurrentConditionsDisplay : public Observer{\nprivate:\n\tfloat temperature, humidity, cleanness;\n\tSubject* envData;\npublic:\n\tCurrentConditionsDisplay(Subject* envData){\n\t\tthis->envData = envData;\n\t\tthis->envData->registerObserver(this);\n\t}\n\tvoid update(float temperature, float humidity, float cleanness){\n\t\tthis->temperature = temperature;\n\t\tthis->humidity = humidity;\n\t\tthis->cleanness = cleanness;\n\t\tdisplay();\n\t}\n\tvoid display(){\n\t\tcout << temperature << \" \" << humidity << \" \" << cleanness << endl;\n\t}\n};\n\nint main(){\n\tEnvironmentData* envData = new EnvironmentData();\n\tCurrentConditionsDisplay* currentDisplay = new CurrentConditionsDisplay(envData);\n\tenvData->setMeasurements(80, 65, 30.4f);\n\treturn 0;\n}\n```\n\n### Bridge（桥接）模式\n\n例：欲开发一个绘图软件，要求使用不同的绘图程序绘制不同的图形。以绘制直线和圆形为例，对应的绘图程序如表所示。\n\n|  ^-^ |DP1|DP2|\n| :--: | :--: | :--: |\n|绘制直线|draw_a_line(x1,y1,x2,y2)|drawline(x1,y1,x2,y2)|\n|绘制圆|draw_a_circle(x,y,r)|drawcircle(x,y,r)|\n\n该绘制软件的扩展性要求，将不断扩充新的图形和新的绘图程序。为了避免出现类爆炸的情况，现采用桥接（Bridge）模式来实现上述要求，得到如图所示的类图。\n\n![bridgepattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/bridge.jpg)\n\n```cpp\n/*************************************************\n* Bridge Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 15\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n\n#include <iostream>\n\nusing namespace std;\n\nclass DP1{\npublic:\n\tstatic void draw_a_line(double x1, double y1, double x2, double y2){ cout << \"DP1 draw_a_line\" << endl; }\n\tstatic void draw_a_circle(double x, double y, double r){ cout << \"DP1 draw_a_circle\" << endl; }\n};\n\nclass DP2{\npublic:\n\tstatic void drawline(double x1, double y1, double x2, double y2){ cout << \"DP2 drawline\" << endl; }\n\tstatic void drawcircle(double x, double y, double r){ cout << \"Dp2 drawcircle\" << endl; }\n};\n\nclass Drawing{\npublic:\n\tvirtual void drawLine(double x1, double y1, double x2, double y2) = 0;\n\tvirtual void drawCircle(double x, double y, double r) = 0;\n};\n\nclass V1Drawing : public Drawing{\npublic:\n\tvoid drawLine(double x1, double y1, double x2, double y2){ DP1::draw_a_line(x1, y1, x2, y2); cout << x1 << \" \" << y1 << \" \" << x2 << \" \" << y2 << endl; }\n\tvoid drawCircle(double x, double y, double r){ DP1::draw_a_circle(x, y, r); cout << x << \" \" << y << \" \" << r << endl; }\n};\n\nclass V2Drawing : public Drawing{\npublic:\n\tvoid drawLine(double x1, double y1, double x2, double y2){ DP2::drawline(x1, y1, x2, y2); cout << x1 << \" \" << y1 << \" \" << x2 << \" \" << y2 << endl; }\n\tvoid drawCircle(double x, double y, double r){ DP2::drawcircle(x, y, r); cout << x << \" \" << y << \" \" << r << endl; }\n};\n\nclass Shape{\npublic:\n\tShape(Drawing* dp){ _dp = dp; }\n\tvoid drawLine(double x1, double y1, double x2, double y2){ _dp->drawLine(x1, y1, x2, y2); }\n\tvoid drawCircle(double x, double y, double r){ _dp->drawCircle(x, y, r); }\nprivate:\n\tDrawing* _dp;\n};\n\nclass Rectangle : public Shape{\nprivate:\n\tdouble _x1, _y1, _x2, _y2;\npublic:\n\tRectangle(Drawing* dp, double x1, double y1, double x2, double y2) : Shape(dp){ _x1 = x1; _y1 = y1; _x2 = x2; _y2 = y2; }\n\tvoid draw(){ drawLine(_x1, _y1, _x2, _y2); }\n};\n\nclass Circle : public Shape{\nprivate:\n\tdouble _x, _y, _r;\npublic:\n\tCircle(Drawing* dp, double x, double y, double r) : Shape(dp){ _x = x; _y = y; _r = r; }\n\tvoid draw(){ drawCircle(_x, _y, _r); }\n};\n\nint main(){\n\tV1Drawing* dp1 = new V1Drawing();\n\tV2Drawing* dp2 = new V2Drawing();\n\tRectangle* rectangle1 = new Rectangle(dp1, 0, 1, 1, 1);\n\trectangle1->draw();\n\tRectangle* rectangle2 = new Rectangle(dp2, 0, 1, 1, 1);\n\trectangle2->draw();\n\tCircle* circle1 = new Circle(dp1, 0, 1, 1);\n\tcircle1->draw();\n\tCircle* circle2 = new Circle(dp2, 0, 1, 1);\n\tcircle2->draw();\n\treturn 0;\n}\n```\n\n### Prototype（原型）模式\n\n例：现要求实现一个能够自动生成求职简历的程序，简历的基本内容包括求职者的姓名、性别、年龄及工作经历。希望每份简历中的工作经历有所不同，并尽量减少程序中的重复代码。\n现采用原型模式（Prototype）来实现上述要求，得到如图所示的类图。\n\n![prototypepattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/prototype.jpg)\n\n```cpp\n/*************************************************\n* Prototype Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 15\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\nclass Cloneable{\npublic:\n\tvirtual Cloneable* clone() = 0;\n};\n\nclass WorkExperience : public Cloneable{\nprivate:\n\tstring workDate;\n\tstring company;\npublic:\n\tCloneable* clone(){\n\t\tWorkExperience* obj = new WorkExperience();\n\t\tobj->workDate = this->workDate;\n\t\tobj->company = this->company;\n\t\treturn obj;\n\t}\n\tvoid setWorkDate(string wd){ \n\t\tworkDate = wd; \n\t}\n\tvoid setCompany(string comp){ \n\t\tcompany = comp; \n\t}\n\tstring toString(){\n\t\treturn workDate + company;\n\t}\n};\n\nclass Resume : public Cloneable{\nprivate:\n\tstring name, sex, age;\n\tWorkExperience* work;\n\tResume(WorkExperience* work){\n\t\tthis->work = (WorkExperience*)work->clone();\n\t}\npublic:\n\tResume(string name){ \n\t\twork = new WorkExperience(); \n\t\tthis->name = name; \n\t}\n\tvoid setPersonalInfo(string sex, string age){ \n\t\tthis->sex = sex; \n\t\tthis->age = age; \n\t}\n\tvoid setWorkExperience(string workDate, string company){ \n\t\twork->setWorkDate(workDate); \n\t\twork->setCompany(company); \n\t}\n\tCloneable* clone(){\n\t\tResume* obj = new Resume(this->work);\n\t\tobj->name = this->name;\n\t\tobj->sex = this->sex;\n\t\tobj->age = this->age;\n\t\treturn obj;\n\t}\n\tstring toString(){\n\t\treturn name + sex + age + work->toString();\n\t}\n};\n\nint main(){\n\tResume* a = new Resume(\"张三\");\n\ta->setPersonalInfo(\"男\", \"29\");\n\ta->setWorkExperience(\"1998-2000\", \"A company\");\n\tcout << a->toString() << endl;\n\tResume* b = (Resume*)a->clone();\n\tb->setWorkExperience(\"2001-2006\", \"B company\");\n\tcout << b->toString() << endl;\n\tcout << a->toString() << endl;\n\treturn 0;\n}\n```\n\n### Abstract Factory（抽象工厂）模式\n\n例：现欲开发一个软件系统，要求能够同时支持多种不同的数据库，为此采用抽象工厂模式设计该系统。以SQL Server和Access两种数据库以及系统中的数据库表Department为例，其类图如图所示。\n\n![abstractfactorypattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/abstractfactory.jpg)\n\n```cpp\n/*************************************************\n* Abstract Factory Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 16\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n\nusing namespace std;\n\n//数据库表\nclass Department{};\n\nclass IDepartment{\npublic:\n\tvirtual void insert(Department* department) = 0;\n\tvirtual Department* getDepartment(int id) = 0;\n};\n\nclass SqlserverDepartment :public IDepartment{\npublic:\n\tvoid insert(Department* department){\n\t\tcout << \"Insert a record into Department in SQL Server!\\n\";\n\t}\n\tDepartment* getDepartment(int id){ return new Department(); }\n};\n\nclass AccessDepartment :public IDepartment{\npublic:\n\tvoid insert(Department* department){\n\t\tcout << \"Insert a record into Department in ACCESS!\\n\";\n\t}\n\tDepartment* getDepartment(int id){ return new Department(); }\n};\n\nclass IFactory{\npublic:\n\tvirtual IDepartment* creatDepartment() = 0;\n};\n\nclass SqlserverFactory :public IFactory{\npublic:\n\tIDepartment* creatDepartment(){\n\t\treturn new SqlserverDepartment();\n\t}\n};\n\nclass AccessFactory :public IFactory{\npublic:\n\tIDepartment* creatDepartment(){\n\t\treturn new AccessDepartment();\n\t}\n};\n\nint main(){\n\tSqlserverFactory* sqlFactory = new SqlserverFactory();\n\tSqlserverDepartment* sqlDepartment = (SqlserverDepartment*)sqlFactory->creatDepartment();\n\tDepartment* a = new Department();\n\tsqlDepartment->insert(a);\n\n\tAccessFactory* accessFactory = new AccessFactory();\n\tAccessDepartment* accessDepartment = (AccessDepartment*)accessFactory->creatDepartment();\n\taccessDepartment->insert(a);\n\treturn 0;\n}\n```\n\n### Decorator（装饰）模式\n\n例：某咖啡店在卖咖啡时，可以根据顾客的要求在其中加入各种配料，咖啡店会根据所加入的配料来计算费用。咖啡店所供应的咖啡及配料的种类和价格如表所示。\n\n|咖啡|价格/杯（￥）|配料|价格/杯（￥）|\n|:--:|:--:|:--:|:--:|\n|蒸馏咖啡（Espresso）|25|摩卡（Mocha）|10|\n|深度烘焙咖啡（DarkRoast）|20|奶泡（Whip）|8|\n\n现采用装饰器（Decorator）模式来实现计算费用的功能，得到如图所示的类图。\n\n![decoratorpattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/decorator.jpg)\n\n```cpp\n/*************************************************\n* Decorator Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 16\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\nconst int ESPRESSO_PRICE = 25;\nconst int DARKROAST_PRICE = 20;\nconst int MOCHA_PRICE = 10;\nconst int WHIP_PRICE = 8;\n\n//饮料\nclass Beverage{\nprotected:\n\tstring description;\npublic:\n\tvirtual string getDescription(){\n\t\treturn description;\n\t}\n\tvirtual int cost() = 0;\n};\n\n//配料\nclass CondimentDecorator :public Beverage{\nprotected:\n\tBeverage* beverage;\n};\n\n//蒸馏咖啡\nclass Espresso :public Beverage{\npublic:\n\tEspresso()\n\t{\n\t\tdescription = \"Espresso\";\n\t}\n\tint cost(){\n\t\treturn ESPRESSO_PRICE;\n\t}\n};\n\n//深度烘焙咖啡\nclass DarkRoast :public Beverage{\npublic:\n\tDarkRoast()\n\t{\n\t\tdescription = \"DarkRoast\";\n\t}\n\tint cost(){\n\t\treturn DARKROAST_PRICE;\n\t}\n};\n\n//摩卡\nclass Mocha :public CondimentDecorator{\npublic:\n\tMocha(Beverage* beverage){\n\t\tthis->beverage = beverage;\n\t}\n\tstring getDescription(){\n\t\treturn beverage->getDescription() + \",Mocha\";\n\t}\n\tint cost(){\n\t\treturn MOCHA_PRICE + beverage->cost();\n\t}\n};\n\n//奶泡\nclass Whip :public CondimentDecorator{\npublic:\n\tWhip(Beverage* beverage){\n\t\tthis->beverage = beverage;\n\t}\n\tstring getDescription(){\n\t\treturn beverage->getDescription() + \",Whip\";\n\t}\n\tint cost(){\n\t\treturn WHIP_PRICE + beverage->cost();\n\t}\n};\n\nint main(){\n\tBeverage* beverage = new DarkRoast();\n\tbeverage = new Mocha(beverage);\n\tbeverage = new Whip(beverage);\n\tcout << beverage->getDescription() << \"￥\" << beverage->cost() << endl;\n\treturn 0;\n}\n```\n\n### Composition（组合）模式\n\n例：某饭店在不同的时段提供多种不同的餐饮，其菜单的结构图如图所示。\n\n![composition](http://ofzyomgms.bkt.clouddn.com/designpatterns/compositionstructure.jpg)\n\n现在采用组合（Composition）模式来构造该饭店的菜单，使得饭店可以方便地在其中增加新的餐饮形式，得到如图所示的类图。其中MenuComposition为抽象类，定义了添加（add）新菜单和打印饭店所有菜单信息（print）的方法接口。类Menu表示饭店提供的每种餐饮形式的菜单，如煎饼屋菜单、咖啡屋菜单。每种菜单中都可以添加子菜单，例如图中的甜点菜单。类MenuItem表示菜单中的菜式。\n\n![compositionpattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/composition.jpg)\n\n```cpp\n/*************************************************\n* Composition Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 16\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n#include <list>\n#include <string>\n\nusing namespace std;\n\nclass MenuComponent{\nprotected:\n\tstring name;\npublic:\n\tMenuComponent(string name){\n\t\tthis->name = name;\n\t}\n\tstring getName(){\n\t\treturn name;\n\t}\n\tvirtual void add(MenuComponent* menuComponent) = 0; //添加新菜单\n\tvirtual void print() = 0; //打印菜单信息\n};\n\nclass MenuItem :public MenuComponent{\nprivate:\n\tdouble price;\npublic:\n\tMenuItem(string name, double price) :MenuComponent(name){ this->price = price; }\n\tdouble getPrice(){ return price; }\n\tvoid add(MenuComponent* menuComponent){ return ; }\n\tvoid print(){\n\t\tcout << \" \" << getName() << \",\" << getPrice() << endl;\n\t}\n};\n\nclass Menu :public MenuComponent{\nprivate:\n\tlist<MenuComponent*> menuComponents;\npublic:\n\tMenu(string name) :MenuComponent(name){}\n\tvoid add(MenuComponent* menuComponent){\n\t\tmenuComponents.push_back(menuComponent); \n\t}\n\tvoid print(){\n\t\tcout << \"\\n\" << getName() << \"\\n-----------------------------\" << endl;\n\t\tstd::list<MenuComponent*>::iterator iter;\n\t\tfor (iter = menuComponents.begin(); iter != menuComponents.end();iter++)\n\t\t{\n\t\t\t(*iter)->print();\n\t\t}\n\t}\n};\n\nint main(){\n\tMenuComponent* allMenus = new Menu(\"ALL MENUS\");\n\tMenuComponent* dinerMenu = new Menu(\"DINER　MENU\");\n\tMenuComponent* coffee = new MenuItem(\"Espresso\", 20);\n\tallMenus->add(coffee);\n\tMenuComponent* dumpling = new MenuItem(\"Dumpling\", 30);\n\tdinerMenu->add(dumpling);\n\tallMenus->add(dinerMenu);\n\tallMenus->print();\n\treturn 0;\n}\n```\n\n### State（状态）模式\n\n例：某大型商场内安装了多个简易的纸巾售卖机，自动出售2元钱一包的纸巾，且每次仅售出一包纸巾。纸巾售卖机的状态图如图所示。\n\n![state](http://ofzyomgms.bkt.clouddn.com/designpatterns/state1.jpg)\n\n采用状态（State）模式来实现该纸巾售卖机，得到如图所示的类图。其中类State为抽象类，定义了投币、退币、出纸巾等方法接口。类SoldState、SoldOutState、NoQuarterState和HasQuarterState分别对应图中纸巾售卖机的4种状态：售出纸巾、纸巾售完、没有投币、有2元钱。\n\n![statepattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/state.jpg)\n\n```cpp\n/*************************************************\n* State Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 17\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n\nusing namespace std;\n\nclass TissueMachine;\n\nclass State{\npublic:\n\tvirtual void insertQuarter() = 0;//投币\n\tvirtual void ejectQuarter() = 0;//退币\n\tvirtual void turnCrank() = 0;//按下“出纸巾”按钮\n\tvirtual void dispense() = 0;//出纸巾\n};\n\n//没有投币\nclass NoQuarterState :public State{\nprivate:\n\tTissueMachine* tissueMachine;\npublic:\n\tNoQuarterState(TissueMachine* tissueMachine){ this->tissueMachine = tissueMachine; }\n\tvoid insertQuarter();\n\tvoid ejectQuarter();\n\tvoid turnCrank();\n\tvoid dispense();\n};\n\n//有2元钱（已投币）\nclass HasQuarterState :public State{\nprivate:\n\tTissueMachine* tissueMachine;\npublic:\n\tHasQuarterState(TissueMachine* tissueMachine){ this->tissueMachine = tissueMachine; }\n\tvoid insertQuarter();\n\tvoid ejectQuarter();\n\tvoid turnCrank();\n\tvoid dispense();\n};\n\n//售出纸巾\nclass SoldState :public State{\nprivate:\n\tTissueMachine* tissueMachine;\npublic:\n\tSoldState(TissueMachine* tissueMachine){ this->tissueMachine = tissueMachine; }\n\tvoid insertQuarter();\n\tvoid ejectQuarter();\n\tvoid turnCrank();\n\tvoid dispense();\n};\n\n//纸巾售完\nclass SoldOutState :public State{\nprivate:\n\tTissueMachine* tissueMachine;\npublic:\n\tSoldOutState(TissueMachine* tissueMachine){ this->tissueMachine = tissueMachine; }\n\tvoid insertQuarter();\n\tvoid ejectQuarter();\n\tvoid turnCrank();\n\tvoid dispense();\n};\n\nclass TissueMachine{\nprivate:\n\tState *soldOutState, *noQuarterState, *hasQuarterState, *soldState, *state;\n\tint count;\npublic:\n\tTissueMachine(int numbers){\n\t\tsoldOutState = new SoldOutState(this);\n\t\tnoQuarterState = new NoQuarterState(this);\n\t\thasQuarterState = new HasQuarterState(this);\n\t\tsoldState = new SoldState(this);\n\t\tthis->count = numbers;\n\t\tif (count > 0)\n\t\t{\n\t\t\tthis->state = noQuarterState;\n\t\t}\n\t}\n\n\tvoid insertQuarter(){ state->insertQuarter(); }\n\tvoid ejectQuarter(){ state->ejectQuarter(); }\n\tvoid turnCrank(){\n\t\tstate->turnCrank();\n\t\tstate->dispense();\n\t}\n\tvoid setState(State* state){ this->state = state; }\n\tState* getHasQuarterState(){ return hasQuarterState; }\n\tState* getNoQuarterState(){ return noQuarterState; }\n\tState* getSoldState(){ return soldState; }\n\tState* getSoldOutState(){ return soldOutState; }\n\tvoid setCount(int numbers){ this->count = numbers; }\n\tint getCount(){ return count; }\n};\n\nvoid SoldOutState::insertQuarter(){ cout << \"机器无纸巾，已退回硬币！\" << endl; }\nvoid SoldOutState::ejectQuarter(){ cout << \"自动售货机根本没有硬币！\" << endl; }\nvoid SoldOutState::turnCrank(){ cout << \"机器无纸巾，请不要操作机器\" << endl; }\nvoid SoldOutState::dispense(){}\n\nvoid NoQuarterState::insertQuarter(){\n\ttissueMachine->setState(tissueMachine->getHasQuarterState());\n\tcout << \"已投币！\" << endl;\n}\nvoid NoQuarterState::ejectQuarter(){ cout << \"自动售货机根本没有硬币！\" << endl; }\nvoid NoQuarterState::turnCrank(){ cout << \"请投币\" << endl; }\nvoid NoQuarterState::dispense(){}\n\nvoid HasQuarterState::insertQuarter(){ cout << \"已投币！请不要重复投币！已退回重复投币！\" << endl; }\nvoid HasQuarterState::ejectQuarter(){\n\ttissueMachine->setState(tissueMachine->getNoQuarterState());\n\tcout << \"已取币！\" << endl;\n}\nvoid HasQuarterState::turnCrank(){\n\ttissueMachine->setState(tissueMachine->getSoldState());\n\tcout << \"请等待自动售货机出纸巾！\" << endl;\n}\nvoid HasQuarterState::dispense(){}\n\nvoid SoldState::insertQuarter(){ cout << \"请等待自动售货机出纸巾！请不要投币！已退回投币！\" << endl; }\nvoid SoldState::ejectQuarter(){\n\ttissueMachine->setState(tissueMachine->getNoQuarterState());\n\tcout << \"请等待自动售货机出纸巾！无法取回已消费的硬币！\" << endl;\n}\nvoid SoldState::turnCrank(){ cout << \"请等待自动售货机出纸巾！已响应你的操作！\" << endl; }\nvoid SoldState::dispense(){\n\tif (tissueMachine->getCount() > 0){\n\t\ttissueMachine->setState(tissueMachine->getNoQuarterState());\n\t\ttissueMachine->setCount(tissueMachine->getCount() - 1);\n\t\tcout << \"你的纸巾，请拿好！\" << endl;\n\t}\n\telse{\n\t\ttissueMachine->setState(tissueMachine->getSoldOutState());\n\t\tcout << \"已退回你的硬币！纸巾已卖光，等待进货！\" << endl;\n\t}\n}\n\nint main(){\n\tTissueMachine *tissueMachine = new TissueMachine(1);\n\tcout << \"纸巾数：\" << tissueMachine->getCount() << endl;\n\ttissueMachine->insertQuarter();\n\ttissueMachine->turnCrank();\n\tcout << \"纸巾数：\" << tissueMachine->getCount() << endl;\n\ttissueMachine->turnCrank();\n\tcout << \"纸巾数：\" << tissueMachine->getCount() << endl;\n\ttissueMachine->insertQuarter();\n\ttissueMachine->turnCrank();\n\treturn 0;\n}\n```\n\n### Chain of Responsibility（责任链）模式\n\n例：已知某企业的采购审批是分级进行的，即根据采购金额的不同由不同层次的主管人员来审批，主任可以审批5万元以下（不包括5万元）的采购单，副董事长可以审批5万元至10万元（不包括10万元）的采购单，董事长可以审批10万元至50万元（不包括50万元）的采购单，50万元及以上的采购单就需要开会讨论决定。\n\n采用责任链设计模式（Chain of Responsibility）对上述过程进行设计后得到的类图如图所示。\n\n![chainofresponsibilitypattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/chainofresponsibility.jpg)\n\n```cpp\n/*************************************************\n* Chain of Responsibility Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 17\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\n//采购单\nclass PurchaseRequest{\npublic:\n\tdouble amount;//采购金额\n\tint number;//采购单编号\n\tstring purpose;//采购目的\n};\n\n//审批者\nclass Approver{\nprivate:\n\tApprover* successor;\npublic:\n\tApprover(){\n\t\tsuccessor = NULL;\n\t}\n\tvirtual void processRequest(PurchaseRequest aRequest){\n\t\tif (successor != NULL)\n\t\t{\n\t\t\tsuccessor->processRequest(aRequest);\n\t\t}\n\t}\n\tvoid setSuccessor(Approver* aSuccessor){\n\t\tsuccessor = aSuccessor;\n\t}\n};\n\n//例会\nclass Congress :public Approver{\npublic:\n\tvoid processRequest(PurchaseRequest aRequest){\n\t\tif (aRequest.amount >= 500000){\n\t\t\tcout << \"例会正在审批\" << endl;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tApprover::processRequest(aRequest);\n\t\t}\n\t}\n};\n\n//董事长\nclass President :public Approver{\npublic:\n\tvoid processRequest(PurchaseRequest aRequest){\n\t\tif (aRequest.amount >= 100000 && aRequest.amount < 500000)\n\t\t{\n\t\t\tcout << \"董事长正在审批\" << endl;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tApprover::processRequest(aRequest);\n\t\t}\n\t}\n};\n\n//副董事长\nclass VicePresident :public Approver{\npublic:\n\tvoid processRequest(PurchaseRequest aRequest){\n\t\tif (aRequest.amount >= 50000 && aRequest.amount < 100000)\n\t\t{\n\t\t\tcout << \"副董事长正在审批\" << endl;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tApprover::processRequest(aRequest);\n\t\t}\n\t}\n};\n\n//主任\nclass Director :public Approver{\npublic:\n\tvoid processRequest(PurchaseRequest aRequest){\n\t\tif (aRequest.amount < 50000)\n\t\t{\n\t\t\tcout << \"主任正在审批\" << endl;\n\t\t} \n\t\telse\n\t\t{\n\t\t\tApprover::processRequest(aRequest);\n\t\t}\n\t}\n};\n\nint main(){\n\tCongress meeting;\n\tPresident Tammy;\n\tVicePresident Sam;\n\tDirector Larry;\n\tmeeting.setSuccessor(NULL);\n\tTammy.setSuccessor(&meeting);\n\tSam.setSuccessor(&Tammy);\n\tLarry.setSuccessor(&Sam);\n\n\tPurchaseRequest aRequest;\n\tcin >> aRequest.amount;\n\tLarry.processRequest(aRequest);\n\treturn 0;\n}\n```\n\n### Strategy（策略）模式\n\n例：某游戏公司现欲开发一款面向儿童的模拟游戏，该游戏主要模拟现实世界中各种鸭子的发声特征、飞行特征和外观特征。游戏需要模拟的鸭子种类及其特征如表所示。\n\n|鸭子种类|发声特征|飞行特征|外观特征|\n|:--:|:--:|:--:|:--:|\n|灰鸭(MallardDuck)|发出“嘎嘎”声(Quack)|用翅膀飞行(FlyWithWings)|灰色羽毛|\n|红头鸭(RedHeadDuck)|发出“嘎嘎”声(Quack)|用翅膀飞行(FlyWithWings)|灰色羽毛、头部红色|\n|棉花鸭(CottonDuck)|不发声(QuackNoWay)|不能飞行(FlyNoWay)|白色|\n|橡皮鸭(RubberDuck)|发出橡皮与空气摩擦的声音(Squeak)|不能飞行(FlyNoWay)|黑白橡皮色|\n\n为支持将来能够模拟更多种类鸭子的特性，采用策略（Strategy）模式设计的类图如图所示。\n\n![strategy](http://ofzyomgms.bkt.clouddn.com/designpatterns/strategy.jpg)\n\n其中，Duck为抽象类，描述了抽象的鸭子，而类RubberDuck、MallardDuck、CottonDuck和RedHeadDuck分别描述具体的鸭子种类，方法fly()、quack()和display()分别表示不同种类的鸭子都具有飞行特征、发声特征和外观特征；类FlyBehavior与QuackBehavior为抽象类，分别用于表示抽象的飞行行为与发声行为；类FlyNoWay与FlyWithWings分别描述不能飞行的行为和用翅膀飞行的行为；类Quack、Squeak与QuackNoWay分别描述发出“嘎嘎”声的行为、发出橡皮与空气摩擦声的行为与不发声的行为。\n\n```cpp\n/*************************************************\n* Strategy Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 17\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n\nusing namespace std;\n\nclass FlyBehavior{\npublic:\n\tvirtual void fly() = 0;\n};\n\nclass QuackBehavior{\npublic:\n\tvirtual void quack() = 0;\n};\n\nclass FlyWithWings :public FlyBehavior{\npublic:\n\tvoid fly(){ cout << \"使用翅膀飞行\" << endl; }\n};\n\nclass FlyNoWay :public FlyBehavior{\npublic:\n\tvoid fly(){ cout << \"不能飞行\" << endl; }\n};\n\nclass Quack :public QuackBehavior{\npublic:\n\tvoid quack(){ cout << \"发出\\'嘎嘎\\'声！\" << endl; }\n};\n\nclass Squeak :public QuackBehavior{\npublic:\n\tvoid quack(){ cout << \"发出空气与橡皮摩擦声！\" << endl; }\n};\n\nclass QuackNoWay :public QuackBehavior{\npublic:\n\tvoid quack(){ cout << \"不能发声！\" << endl; }\n};\n\nclass Duck{\nprotected:\n\tFlyBehavior* flyBehavior;\n\tQuackBehavior* quackBehavior;\npublic:\n\tvoid fly(){ flyBehavior->fly(); }\n\tvoid quack(){ quackBehavior->quack(); }\n\tvirtual void display() = 0;\n};\n\nclass RubberDuck :public Duck{\npublic:\n\tRubberDuck(){\n\t\tflyBehavior = new FlyNoWay();\n\t\tquackBehavior = new Squeak();\n\t}\n\t~RubberDuck(){\n\t\tif (!flyBehavior) delete flyBehavior;\n\t\tif (!quackBehavior) delete quackBehavior;\n\t}\n\tvoid display(){}\n};\n\nint main(){\n\tRubberDuck rubberDuck;\n\trubberDuck.fly();\n\trubberDuck.quack();\n\treturn 0;\n}\n```","source":"_posts/设计模式示例（C-实现）.md","raw":"---\ntitle: 设计模式示例（C++实现）\ndate: 2016-11-13 22:22:43\ntags:\n- 设计模式\n- C++\ncategories:\n- Software Engineer\n- 设计模式\n---\n\n最近参加了软考，在准备考试过程中发现其中给出设计类图让通过指定的设计模式进行设计的题目对于练习C++和软件开发是一种不错的的方式，因为学校中的C++课程只讲C++语言，虽然也讲了封装、继承、多态等特性，但是缺少相应的练习，使得没有深入的认识和理解。同时类似于程序设计、软件工程的课程设计，其中概要设计、详细设计也都是文档写的很好看，最后编码从没按照设计中的内容来写。最终导致了学完C++，用的时候却不知从何下手。所以这里总结了[全国计算机技术与软件专业技术资格（水平）考试参考用书](http://www.ruankao.org.cn/)系列中的部分题目，希望可以达到以下两个目的：\n\n<!--more-->\n\n* 练习C++，掌握理解更多的特性，而不是只停留在掌握语法的阶段\n\n* 提高软件开发方面的能力，主要是熟悉、学习基本的设计模式，学会如何设计并按照设计实现相应的编码\n\n但需要特别指出的是设计模式还是推荐阅读这方面的经典书籍：[设计模式 可复用面向对象软件的基础](https://book.douban.com/subject/1052241/)。我只是总结软考中的题目是因为题目可以让我们快速的对问题有所了解，并且我暂时也只是想练习C++，但如果想要对问题有系统、详细的了解还是需要读书。\n\n### Command（命令）模式\n\n例：某灯具厂商欲生产一个灯具遥控器，该遥控器具有7个可编程的插槽，每个插槽都有开关按钮，对应着一个不同的灯。利用该遥控器能够统一控制房间内该厂商所有品牌灯具的开关，现采用Command（命令）模式实现该遥控器的软件部分。Command模式的类图如图所示。\n\n![commandpattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/commandpattern.jpg)\n\n```cpp\n/*************************************************\n* Command Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 13\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\nclass Light{\nprivate:\n\tstring name;\npublic:\n\tLight(string name){ this->name = name; }\n\tvoid on(){ cout << name + \" on\" << endl; }\n\tvoid off(){ cout << name + \" off\" << endl; }\n};\n\nclass Command{\npublic:\n\tvirtual void execute(){}\n};\n\nclass LightOnCommand :public Command{\nprivate:\n\tLight* light;\npublic:\n\tLightOnCommand(Light* light){ this->light = light; }\n\tvoid execute(){ light->on(); }\n};\n\nclass LightOffCommand :public Command{\nprivate:\n\tLight* light;\npublic:\n\tLightOffCommand(Light* light){ this->light = light; }\n\tvoid execute(){ light->off(); }\n};\n\nclass RemoteControl{\nprivate:\n\tCommand* onCommands[7];\n\tCommand* offCommands[7];\npublic:\n\tRemoteControl(){}\n\tvoid setCommand(int slot, Command* onCommand, Command* offCommand){\n\t\tonCommands[slot] = onCommand;\n\t\toffCommands[slot] = offCommand;\n\t}\n\tvoid onButtonWasPushed(int slot){ onCommands[slot]->execute(); }\n\tvoid offButtonWasPushed(int slot){ offCommands[slot]->execute(); }\n};\n\nint main() {\n\tRemoteControl* remoteControl = new RemoteControl();\n\tLight* livingRoomLight = new Light(\"Living Room\");\n\tLight* kitchenLight = new Light(\"Kitchen\");\n\tLightOnCommand* livingRoomLightOn = new LightOnCommand(livingRoomLight);\n\tLightOffCommand* livingRoomLightOff = new LightOffCommand(livingRoomLight);\n\tLightOnCommand* kitchenLightOn = new LightOnCommand(kitchenLight);\n\tLightOffCommand* kitchenLightOff = new LightOffCommand(kitchenLight);\n\tremoteControl->setCommand(0, livingRoomLightOn, livingRoomLightOff);\n\tremoteControl->setCommand(1, kitchenLightOn, kitchenLightOff);\n\tremoteControl->onButtonWasPushed(0);\n\tremoteControl->offButtonWasPushed(0);\n\tremoteControl->onButtonWasPushed(1);\n\tremoteControl->offButtonWasPushed(1);\n\treturn 0;\n}\n```\n\n### Observer（观察者）模式\n\n例：某实验室欲建立一个实验室环境监测系统，以显示实验室的温度、湿度以及洁净度等环境数据。当获取到最新的环境测量数据时，显示的环境数据能够更新。现在采用观察者（Observer）模式来开发该系统，观察者模式的类图如图所示。\n\n![observerpattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/observerpattern.jpg)\n\n```cpp\n/*************************************************\n* Observer Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 13\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nclass Observer{\npublic:\n\tvirtual void update(float temp, float humidity, float cleanness) = 0;\n};\n\nclass Subject{\npublic:\n\tvirtual void registerObserver(Observer* o) = 0;\n\tvirtual void removeObserver(Observer* o) = 0;\n\tvirtual void notifyObserver() = 0;\n};\n\nclass EnvironmentData : public Subject{\nprivate:\n\tvector<Observer*> observers;\n\tfloat temperature, humidity, cleanness;\npublic:\n\tvoid registerObserver(Observer* o){ observers.push_back(o); }\n\tvoid removeObserver(Observer* o){}\n\tvoid notifyObserver(){\n\t\tfor (vector<Observer*>::const_iterator it = observers.begin(); it != observers.end(); it++)\n\t\t{\n\t\t\t(*it)->update(temperature, humidity, cleanness);\n\t\t}\n\t}\n\tvoid measurementsChanged(){ notifyObserver(); }\n\tvoid setMeasurements(float temperature, float humidity, float cleanness){\n\t\tthis->temperature = temperature;\n\t\tthis->humidity = humidity;\n\t\tthis->cleanness = cleanness;\n\t\tmeasurementsChanged();\n\t}\n};\n\nclass CurrentConditionsDisplay : public Observer{\nprivate:\n\tfloat temperature, humidity, cleanness;\n\tSubject* envData;\npublic:\n\tCurrentConditionsDisplay(Subject* envData){\n\t\tthis->envData = envData;\n\t\tthis->envData->registerObserver(this);\n\t}\n\tvoid update(float temperature, float humidity, float cleanness){\n\t\tthis->temperature = temperature;\n\t\tthis->humidity = humidity;\n\t\tthis->cleanness = cleanness;\n\t\tdisplay();\n\t}\n\tvoid display(){\n\t\tcout << temperature << \" \" << humidity << \" \" << cleanness << endl;\n\t}\n};\n\nint main(){\n\tEnvironmentData* envData = new EnvironmentData();\n\tCurrentConditionsDisplay* currentDisplay = new CurrentConditionsDisplay(envData);\n\tenvData->setMeasurements(80, 65, 30.4f);\n\treturn 0;\n}\n```\n\n### Bridge（桥接）模式\n\n例：欲开发一个绘图软件，要求使用不同的绘图程序绘制不同的图形。以绘制直线和圆形为例，对应的绘图程序如表所示。\n\n|  ^-^ |DP1|DP2|\n| :--: | :--: | :--: |\n|绘制直线|draw_a_line(x1,y1,x2,y2)|drawline(x1,y1,x2,y2)|\n|绘制圆|draw_a_circle(x,y,r)|drawcircle(x,y,r)|\n\n该绘制软件的扩展性要求，将不断扩充新的图形和新的绘图程序。为了避免出现类爆炸的情况，现采用桥接（Bridge）模式来实现上述要求，得到如图所示的类图。\n\n![bridgepattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/bridge.jpg)\n\n```cpp\n/*************************************************\n* Bridge Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 15\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n\n#include <iostream>\n\nusing namespace std;\n\nclass DP1{\npublic:\n\tstatic void draw_a_line(double x1, double y1, double x2, double y2){ cout << \"DP1 draw_a_line\" << endl; }\n\tstatic void draw_a_circle(double x, double y, double r){ cout << \"DP1 draw_a_circle\" << endl; }\n};\n\nclass DP2{\npublic:\n\tstatic void drawline(double x1, double y1, double x2, double y2){ cout << \"DP2 drawline\" << endl; }\n\tstatic void drawcircle(double x, double y, double r){ cout << \"Dp2 drawcircle\" << endl; }\n};\n\nclass Drawing{\npublic:\n\tvirtual void drawLine(double x1, double y1, double x2, double y2) = 0;\n\tvirtual void drawCircle(double x, double y, double r) = 0;\n};\n\nclass V1Drawing : public Drawing{\npublic:\n\tvoid drawLine(double x1, double y1, double x2, double y2){ DP1::draw_a_line(x1, y1, x2, y2); cout << x1 << \" \" << y1 << \" \" << x2 << \" \" << y2 << endl; }\n\tvoid drawCircle(double x, double y, double r){ DP1::draw_a_circle(x, y, r); cout << x << \" \" << y << \" \" << r << endl; }\n};\n\nclass V2Drawing : public Drawing{\npublic:\n\tvoid drawLine(double x1, double y1, double x2, double y2){ DP2::drawline(x1, y1, x2, y2); cout << x1 << \" \" << y1 << \" \" << x2 << \" \" << y2 << endl; }\n\tvoid drawCircle(double x, double y, double r){ DP2::drawcircle(x, y, r); cout << x << \" \" << y << \" \" << r << endl; }\n};\n\nclass Shape{\npublic:\n\tShape(Drawing* dp){ _dp = dp; }\n\tvoid drawLine(double x1, double y1, double x2, double y2){ _dp->drawLine(x1, y1, x2, y2); }\n\tvoid drawCircle(double x, double y, double r){ _dp->drawCircle(x, y, r); }\nprivate:\n\tDrawing* _dp;\n};\n\nclass Rectangle : public Shape{\nprivate:\n\tdouble _x1, _y1, _x2, _y2;\npublic:\n\tRectangle(Drawing* dp, double x1, double y1, double x2, double y2) : Shape(dp){ _x1 = x1; _y1 = y1; _x2 = x2; _y2 = y2; }\n\tvoid draw(){ drawLine(_x1, _y1, _x2, _y2); }\n};\n\nclass Circle : public Shape{\nprivate:\n\tdouble _x, _y, _r;\npublic:\n\tCircle(Drawing* dp, double x, double y, double r) : Shape(dp){ _x = x; _y = y; _r = r; }\n\tvoid draw(){ drawCircle(_x, _y, _r); }\n};\n\nint main(){\n\tV1Drawing* dp1 = new V1Drawing();\n\tV2Drawing* dp2 = new V2Drawing();\n\tRectangle* rectangle1 = new Rectangle(dp1, 0, 1, 1, 1);\n\trectangle1->draw();\n\tRectangle* rectangle2 = new Rectangle(dp2, 0, 1, 1, 1);\n\trectangle2->draw();\n\tCircle* circle1 = new Circle(dp1, 0, 1, 1);\n\tcircle1->draw();\n\tCircle* circle2 = new Circle(dp2, 0, 1, 1);\n\tcircle2->draw();\n\treturn 0;\n}\n```\n\n### Prototype（原型）模式\n\n例：现要求实现一个能够自动生成求职简历的程序，简历的基本内容包括求职者的姓名、性别、年龄及工作经历。希望每份简历中的工作经历有所不同，并尽量减少程序中的重复代码。\n现采用原型模式（Prototype）来实现上述要求，得到如图所示的类图。\n\n![prototypepattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/prototype.jpg)\n\n```cpp\n/*************************************************\n* Prototype Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 15\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\nclass Cloneable{\npublic:\n\tvirtual Cloneable* clone() = 0;\n};\n\nclass WorkExperience : public Cloneable{\nprivate:\n\tstring workDate;\n\tstring company;\npublic:\n\tCloneable* clone(){\n\t\tWorkExperience* obj = new WorkExperience();\n\t\tobj->workDate = this->workDate;\n\t\tobj->company = this->company;\n\t\treturn obj;\n\t}\n\tvoid setWorkDate(string wd){ \n\t\tworkDate = wd; \n\t}\n\tvoid setCompany(string comp){ \n\t\tcompany = comp; \n\t}\n\tstring toString(){\n\t\treturn workDate + company;\n\t}\n};\n\nclass Resume : public Cloneable{\nprivate:\n\tstring name, sex, age;\n\tWorkExperience* work;\n\tResume(WorkExperience* work){\n\t\tthis->work = (WorkExperience*)work->clone();\n\t}\npublic:\n\tResume(string name){ \n\t\twork = new WorkExperience(); \n\t\tthis->name = name; \n\t}\n\tvoid setPersonalInfo(string sex, string age){ \n\t\tthis->sex = sex; \n\t\tthis->age = age; \n\t}\n\tvoid setWorkExperience(string workDate, string company){ \n\t\twork->setWorkDate(workDate); \n\t\twork->setCompany(company); \n\t}\n\tCloneable* clone(){\n\t\tResume* obj = new Resume(this->work);\n\t\tobj->name = this->name;\n\t\tobj->sex = this->sex;\n\t\tobj->age = this->age;\n\t\treturn obj;\n\t}\n\tstring toString(){\n\t\treturn name + sex + age + work->toString();\n\t}\n};\n\nint main(){\n\tResume* a = new Resume(\"张三\");\n\ta->setPersonalInfo(\"男\", \"29\");\n\ta->setWorkExperience(\"1998-2000\", \"A company\");\n\tcout << a->toString() << endl;\n\tResume* b = (Resume*)a->clone();\n\tb->setWorkExperience(\"2001-2006\", \"B company\");\n\tcout << b->toString() << endl;\n\tcout << a->toString() << endl;\n\treturn 0;\n}\n```\n\n### Abstract Factory（抽象工厂）模式\n\n例：现欲开发一个软件系统，要求能够同时支持多种不同的数据库，为此采用抽象工厂模式设计该系统。以SQL Server和Access两种数据库以及系统中的数据库表Department为例，其类图如图所示。\n\n![abstractfactorypattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/abstractfactory.jpg)\n\n```cpp\n/*************************************************\n* Abstract Factory Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 16\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n\nusing namespace std;\n\n//数据库表\nclass Department{};\n\nclass IDepartment{\npublic:\n\tvirtual void insert(Department* department) = 0;\n\tvirtual Department* getDepartment(int id) = 0;\n};\n\nclass SqlserverDepartment :public IDepartment{\npublic:\n\tvoid insert(Department* department){\n\t\tcout << \"Insert a record into Department in SQL Server!\\n\";\n\t}\n\tDepartment* getDepartment(int id){ return new Department(); }\n};\n\nclass AccessDepartment :public IDepartment{\npublic:\n\tvoid insert(Department* department){\n\t\tcout << \"Insert a record into Department in ACCESS!\\n\";\n\t}\n\tDepartment* getDepartment(int id){ return new Department(); }\n};\n\nclass IFactory{\npublic:\n\tvirtual IDepartment* creatDepartment() = 0;\n};\n\nclass SqlserverFactory :public IFactory{\npublic:\n\tIDepartment* creatDepartment(){\n\t\treturn new SqlserverDepartment();\n\t}\n};\n\nclass AccessFactory :public IFactory{\npublic:\n\tIDepartment* creatDepartment(){\n\t\treturn new AccessDepartment();\n\t}\n};\n\nint main(){\n\tSqlserverFactory* sqlFactory = new SqlserverFactory();\n\tSqlserverDepartment* sqlDepartment = (SqlserverDepartment*)sqlFactory->creatDepartment();\n\tDepartment* a = new Department();\n\tsqlDepartment->insert(a);\n\n\tAccessFactory* accessFactory = new AccessFactory();\n\tAccessDepartment* accessDepartment = (AccessDepartment*)accessFactory->creatDepartment();\n\taccessDepartment->insert(a);\n\treturn 0;\n}\n```\n\n### Decorator（装饰）模式\n\n例：某咖啡店在卖咖啡时，可以根据顾客的要求在其中加入各种配料，咖啡店会根据所加入的配料来计算费用。咖啡店所供应的咖啡及配料的种类和价格如表所示。\n\n|咖啡|价格/杯（￥）|配料|价格/杯（￥）|\n|:--:|:--:|:--:|:--:|\n|蒸馏咖啡（Espresso）|25|摩卡（Mocha）|10|\n|深度烘焙咖啡（DarkRoast）|20|奶泡（Whip）|8|\n\n现采用装饰器（Decorator）模式来实现计算费用的功能，得到如图所示的类图。\n\n![decoratorpattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/decorator.jpg)\n\n```cpp\n/*************************************************\n* Decorator Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 16\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\nconst int ESPRESSO_PRICE = 25;\nconst int DARKROAST_PRICE = 20;\nconst int MOCHA_PRICE = 10;\nconst int WHIP_PRICE = 8;\n\n//饮料\nclass Beverage{\nprotected:\n\tstring description;\npublic:\n\tvirtual string getDescription(){\n\t\treturn description;\n\t}\n\tvirtual int cost() = 0;\n};\n\n//配料\nclass CondimentDecorator :public Beverage{\nprotected:\n\tBeverage* beverage;\n};\n\n//蒸馏咖啡\nclass Espresso :public Beverage{\npublic:\n\tEspresso()\n\t{\n\t\tdescription = \"Espresso\";\n\t}\n\tint cost(){\n\t\treturn ESPRESSO_PRICE;\n\t}\n};\n\n//深度烘焙咖啡\nclass DarkRoast :public Beverage{\npublic:\n\tDarkRoast()\n\t{\n\t\tdescription = \"DarkRoast\";\n\t}\n\tint cost(){\n\t\treturn DARKROAST_PRICE;\n\t}\n};\n\n//摩卡\nclass Mocha :public CondimentDecorator{\npublic:\n\tMocha(Beverage* beverage){\n\t\tthis->beverage = beverage;\n\t}\n\tstring getDescription(){\n\t\treturn beverage->getDescription() + \",Mocha\";\n\t}\n\tint cost(){\n\t\treturn MOCHA_PRICE + beverage->cost();\n\t}\n};\n\n//奶泡\nclass Whip :public CondimentDecorator{\npublic:\n\tWhip(Beverage* beverage){\n\t\tthis->beverage = beverage;\n\t}\n\tstring getDescription(){\n\t\treturn beverage->getDescription() + \",Whip\";\n\t}\n\tint cost(){\n\t\treturn WHIP_PRICE + beverage->cost();\n\t}\n};\n\nint main(){\n\tBeverage* beverage = new DarkRoast();\n\tbeverage = new Mocha(beverage);\n\tbeverage = new Whip(beverage);\n\tcout << beverage->getDescription() << \"￥\" << beverage->cost() << endl;\n\treturn 0;\n}\n```\n\n### Composition（组合）模式\n\n例：某饭店在不同的时段提供多种不同的餐饮，其菜单的结构图如图所示。\n\n![composition](http://ofzyomgms.bkt.clouddn.com/designpatterns/compositionstructure.jpg)\n\n现在采用组合（Composition）模式来构造该饭店的菜单，使得饭店可以方便地在其中增加新的餐饮形式，得到如图所示的类图。其中MenuComposition为抽象类，定义了添加（add）新菜单和打印饭店所有菜单信息（print）的方法接口。类Menu表示饭店提供的每种餐饮形式的菜单，如煎饼屋菜单、咖啡屋菜单。每种菜单中都可以添加子菜单，例如图中的甜点菜单。类MenuItem表示菜单中的菜式。\n\n![compositionpattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/composition.jpg)\n\n```cpp\n/*************************************************\n* Composition Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 16\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n#include <list>\n#include <string>\n\nusing namespace std;\n\nclass MenuComponent{\nprotected:\n\tstring name;\npublic:\n\tMenuComponent(string name){\n\t\tthis->name = name;\n\t}\n\tstring getName(){\n\t\treturn name;\n\t}\n\tvirtual void add(MenuComponent* menuComponent) = 0; //添加新菜单\n\tvirtual void print() = 0; //打印菜单信息\n};\n\nclass MenuItem :public MenuComponent{\nprivate:\n\tdouble price;\npublic:\n\tMenuItem(string name, double price) :MenuComponent(name){ this->price = price; }\n\tdouble getPrice(){ return price; }\n\tvoid add(MenuComponent* menuComponent){ return ; }\n\tvoid print(){\n\t\tcout << \" \" << getName() << \",\" << getPrice() << endl;\n\t}\n};\n\nclass Menu :public MenuComponent{\nprivate:\n\tlist<MenuComponent*> menuComponents;\npublic:\n\tMenu(string name) :MenuComponent(name){}\n\tvoid add(MenuComponent* menuComponent){\n\t\tmenuComponents.push_back(menuComponent); \n\t}\n\tvoid print(){\n\t\tcout << \"\\n\" << getName() << \"\\n-----------------------------\" << endl;\n\t\tstd::list<MenuComponent*>::iterator iter;\n\t\tfor (iter = menuComponents.begin(); iter != menuComponents.end();iter++)\n\t\t{\n\t\t\t(*iter)->print();\n\t\t}\n\t}\n};\n\nint main(){\n\tMenuComponent* allMenus = new Menu(\"ALL MENUS\");\n\tMenuComponent* dinerMenu = new Menu(\"DINER　MENU\");\n\tMenuComponent* coffee = new MenuItem(\"Espresso\", 20);\n\tallMenus->add(coffee);\n\tMenuComponent* dumpling = new MenuItem(\"Dumpling\", 30);\n\tdinerMenu->add(dumpling);\n\tallMenus->add(dinerMenu);\n\tallMenus->print();\n\treturn 0;\n}\n```\n\n### State（状态）模式\n\n例：某大型商场内安装了多个简易的纸巾售卖机，自动出售2元钱一包的纸巾，且每次仅售出一包纸巾。纸巾售卖机的状态图如图所示。\n\n![state](http://ofzyomgms.bkt.clouddn.com/designpatterns/state1.jpg)\n\n采用状态（State）模式来实现该纸巾售卖机，得到如图所示的类图。其中类State为抽象类，定义了投币、退币、出纸巾等方法接口。类SoldState、SoldOutState、NoQuarterState和HasQuarterState分别对应图中纸巾售卖机的4种状态：售出纸巾、纸巾售完、没有投币、有2元钱。\n\n![statepattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/state.jpg)\n\n```cpp\n/*************************************************\n* State Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 17\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n\nusing namespace std;\n\nclass TissueMachine;\n\nclass State{\npublic:\n\tvirtual void insertQuarter() = 0;//投币\n\tvirtual void ejectQuarter() = 0;//退币\n\tvirtual void turnCrank() = 0;//按下“出纸巾”按钮\n\tvirtual void dispense() = 0;//出纸巾\n};\n\n//没有投币\nclass NoQuarterState :public State{\nprivate:\n\tTissueMachine* tissueMachine;\npublic:\n\tNoQuarterState(TissueMachine* tissueMachine){ this->tissueMachine = tissueMachine; }\n\tvoid insertQuarter();\n\tvoid ejectQuarter();\n\tvoid turnCrank();\n\tvoid dispense();\n};\n\n//有2元钱（已投币）\nclass HasQuarterState :public State{\nprivate:\n\tTissueMachine* tissueMachine;\npublic:\n\tHasQuarterState(TissueMachine* tissueMachine){ this->tissueMachine = tissueMachine; }\n\tvoid insertQuarter();\n\tvoid ejectQuarter();\n\tvoid turnCrank();\n\tvoid dispense();\n};\n\n//售出纸巾\nclass SoldState :public State{\nprivate:\n\tTissueMachine* tissueMachine;\npublic:\n\tSoldState(TissueMachine* tissueMachine){ this->tissueMachine = tissueMachine; }\n\tvoid insertQuarter();\n\tvoid ejectQuarter();\n\tvoid turnCrank();\n\tvoid dispense();\n};\n\n//纸巾售完\nclass SoldOutState :public State{\nprivate:\n\tTissueMachine* tissueMachine;\npublic:\n\tSoldOutState(TissueMachine* tissueMachine){ this->tissueMachine = tissueMachine; }\n\tvoid insertQuarter();\n\tvoid ejectQuarter();\n\tvoid turnCrank();\n\tvoid dispense();\n};\n\nclass TissueMachine{\nprivate:\n\tState *soldOutState, *noQuarterState, *hasQuarterState, *soldState, *state;\n\tint count;\npublic:\n\tTissueMachine(int numbers){\n\t\tsoldOutState = new SoldOutState(this);\n\t\tnoQuarterState = new NoQuarterState(this);\n\t\thasQuarterState = new HasQuarterState(this);\n\t\tsoldState = new SoldState(this);\n\t\tthis->count = numbers;\n\t\tif (count > 0)\n\t\t{\n\t\t\tthis->state = noQuarterState;\n\t\t}\n\t}\n\n\tvoid insertQuarter(){ state->insertQuarter(); }\n\tvoid ejectQuarter(){ state->ejectQuarter(); }\n\tvoid turnCrank(){\n\t\tstate->turnCrank();\n\t\tstate->dispense();\n\t}\n\tvoid setState(State* state){ this->state = state; }\n\tState* getHasQuarterState(){ return hasQuarterState; }\n\tState* getNoQuarterState(){ return noQuarterState; }\n\tState* getSoldState(){ return soldState; }\n\tState* getSoldOutState(){ return soldOutState; }\n\tvoid setCount(int numbers){ this->count = numbers; }\n\tint getCount(){ return count; }\n};\n\nvoid SoldOutState::insertQuarter(){ cout << \"机器无纸巾，已退回硬币！\" << endl; }\nvoid SoldOutState::ejectQuarter(){ cout << \"自动售货机根本没有硬币！\" << endl; }\nvoid SoldOutState::turnCrank(){ cout << \"机器无纸巾，请不要操作机器\" << endl; }\nvoid SoldOutState::dispense(){}\n\nvoid NoQuarterState::insertQuarter(){\n\ttissueMachine->setState(tissueMachine->getHasQuarterState());\n\tcout << \"已投币！\" << endl;\n}\nvoid NoQuarterState::ejectQuarter(){ cout << \"自动售货机根本没有硬币！\" << endl; }\nvoid NoQuarterState::turnCrank(){ cout << \"请投币\" << endl; }\nvoid NoQuarterState::dispense(){}\n\nvoid HasQuarterState::insertQuarter(){ cout << \"已投币！请不要重复投币！已退回重复投币！\" << endl; }\nvoid HasQuarterState::ejectQuarter(){\n\ttissueMachine->setState(tissueMachine->getNoQuarterState());\n\tcout << \"已取币！\" << endl;\n}\nvoid HasQuarterState::turnCrank(){\n\ttissueMachine->setState(tissueMachine->getSoldState());\n\tcout << \"请等待自动售货机出纸巾！\" << endl;\n}\nvoid HasQuarterState::dispense(){}\n\nvoid SoldState::insertQuarter(){ cout << \"请等待自动售货机出纸巾！请不要投币！已退回投币！\" << endl; }\nvoid SoldState::ejectQuarter(){\n\ttissueMachine->setState(tissueMachine->getNoQuarterState());\n\tcout << \"请等待自动售货机出纸巾！无法取回已消费的硬币！\" << endl;\n}\nvoid SoldState::turnCrank(){ cout << \"请等待自动售货机出纸巾！已响应你的操作！\" << endl; }\nvoid SoldState::dispense(){\n\tif (tissueMachine->getCount() > 0){\n\t\ttissueMachine->setState(tissueMachine->getNoQuarterState());\n\t\ttissueMachine->setCount(tissueMachine->getCount() - 1);\n\t\tcout << \"你的纸巾，请拿好！\" << endl;\n\t}\n\telse{\n\t\ttissueMachine->setState(tissueMachine->getSoldOutState());\n\t\tcout << \"已退回你的硬币！纸巾已卖光，等待进货！\" << endl;\n\t}\n}\n\nint main(){\n\tTissueMachine *tissueMachine = new TissueMachine(1);\n\tcout << \"纸巾数：\" << tissueMachine->getCount() << endl;\n\ttissueMachine->insertQuarter();\n\ttissueMachine->turnCrank();\n\tcout << \"纸巾数：\" << tissueMachine->getCount() << endl;\n\ttissueMachine->turnCrank();\n\tcout << \"纸巾数：\" << tissueMachine->getCount() << endl;\n\ttissueMachine->insertQuarter();\n\ttissueMachine->turnCrank();\n\treturn 0;\n}\n```\n\n### Chain of Responsibility（责任链）模式\n\n例：已知某企业的采购审批是分级进行的，即根据采购金额的不同由不同层次的主管人员来审批，主任可以审批5万元以下（不包括5万元）的采购单，副董事长可以审批5万元至10万元（不包括10万元）的采购单，董事长可以审批10万元至50万元（不包括50万元）的采购单，50万元及以上的采购单就需要开会讨论决定。\n\n采用责任链设计模式（Chain of Responsibility）对上述过程进行设计后得到的类图如图所示。\n\n![chainofresponsibilitypattern](http://ofzyomgms.bkt.clouddn.com/designpatterns/chainofresponsibility.jpg)\n\n```cpp\n/*************************************************\n* Chain of Responsibility Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 17\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\n//采购单\nclass PurchaseRequest{\npublic:\n\tdouble amount;//采购金额\n\tint number;//采购单编号\n\tstring purpose;//采购目的\n};\n\n//审批者\nclass Approver{\nprivate:\n\tApprover* successor;\npublic:\n\tApprover(){\n\t\tsuccessor = NULL;\n\t}\n\tvirtual void processRequest(PurchaseRequest aRequest){\n\t\tif (successor != NULL)\n\t\t{\n\t\t\tsuccessor->processRequest(aRequest);\n\t\t}\n\t}\n\tvoid setSuccessor(Approver* aSuccessor){\n\t\tsuccessor = aSuccessor;\n\t}\n};\n\n//例会\nclass Congress :public Approver{\npublic:\n\tvoid processRequest(PurchaseRequest aRequest){\n\t\tif (aRequest.amount >= 500000){\n\t\t\tcout << \"例会正在审批\" << endl;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tApprover::processRequest(aRequest);\n\t\t}\n\t}\n};\n\n//董事长\nclass President :public Approver{\npublic:\n\tvoid processRequest(PurchaseRequest aRequest){\n\t\tif (aRequest.amount >= 100000 && aRequest.amount < 500000)\n\t\t{\n\t\t\tcout << \"董事长正在审批\" << endl;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tApprover::processRequest(aRequest);\n\t\t}\n\t}\n};\n\n//副董事长\nclass VicePresident :public Approver{\npublic:\n\tvoid processRequest(PurchaseRequest aRequest){\n\t\tif (aRequest.amount >= 50000 && aRequest.amount < 100000)\n\t\t{\n\t\t\tcout << \"副董事长正在审批\" << endl;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tApprover::processRequest(aRequest);\n\t\t}\n\t}\n};\n\n//主任\nclass Director :public Approver{\npublic:\n\tvoid processRequest(PurchaseRequest aRequest){\n\t\tif (aRequest.amount < 50000)\n\t\t{\n\t\t\tcout << \"主任正在审批\" << endl;\n\t\t} \n\t\telse\n\t\t{\n\t\t\tApprover::processRequest(aRequest);\n\t\t}\n\t}\n};\n\nint main(){\n\tCongress meeting;\n\tPresident Tammy;\n\tVicePresident Sam;\n\tDirector Larry;\n\tmeeting.setSuccessor(NULL);\n\tTammy.setSuccessor(&meeting);\n\tSam.setSuccessor(&Tammy);\n\tLarry.setSuccessor(&Sam);\n\n\tPurchaseRequest aRequest;\n\tcin >> aRequest.amount;\n\tLarry.processRequest(aRequest);\n\treturn 0;\n}\n```\n\n### Strategy（策略）模式\n\n例：某游戏公司现欲开发一款面向儿童的模拟游戏，该游戏主要模拟现实世界中各种鸭子的发声特征、飞行特征和外观特征。游戏需要模拟的鸭子种类及其特征如表所示。\n\n|鸭子种类|发声特征|飞行特征|外观特征|\n|:--:|:--:|:--:|:--:|\n|灰鸭(MallardDuck)|发出“嘎嘎”声(Quack)|用翅膀飞行(FlyWithWings)|灰色羽毛|\n|红头鸭(RedHeadDuck)|发出“嘎嘎”声(Quack)|用翅膀飞行(FlyWithWings)|灰色羽毛、头部红色|\n|棉花鸭(CottonDuck)|不发声(QuackNoWay)|不能飞行(FlyNoWay)|白色|\n|橡皮鸭(RubberDuck)|发出橡皮与空气摩擦的声音(Squeak)|不能飞行(FlyNoWay)|黑白橡皮色|\n\n为支持将来能够模拟更多种类鸭子的特性，采用策略（Strategy）模式设计的类图如图所示。\n\n![strategy](http://ofzyomgms.bkt.clouddn.com/designpatterns/strategy.jpg)\n\n其中，Duck为抽象类，描述了抽象的鸭子，而类RubberDuck、MallardDuck、CottonDuck和RedHeadDuck分别描述具体的鸭子种类，方法fly()、quack()和display()分别表示不同种类的鸭子都具有飞行特征、发声特征和外观特征；类FlyBehavior与QuackBehavior为抽象类，分别用于表示抽象的飞行行为与发声行为；类FlyNoWay与FlyWithWings分别描述不能飞行的行为和用翅膀飞行的行为；类Quack、Squeak与QuackNoWay分别描述发出“嘎嘎”声的行为、发出橡皮与空气摩擦声的行为与不发声的行为。\n\n```cpp\n/*************************************************\n* Strategy Pattern\n* Author : robocoder\n* Date : 2016 - 11 - 17\n* HomePage : https://robocoderhan.github.io/\n* Email : robocoder@foxmail.com\n*************************************************/\n#include <iostream>\n\nusing namespace std;\n\nclass FlyBehavior{\npublic:\n\tvirtual void fly() = 0;\n};\n\nclass QuackBehavior{\npublic:\n\tvirtual void quack() = 0;\n};\n\nclass FlyWithWings :public FlyBehavior{\npublic:\n\tvoid fly(){ cout << \"使用翅膀飞行\" << endl; }\n};\n\nclass FlyNoWay :public FlyBehavior{\npublic:\n\tvoid fly(){ cout << \"不能飞行\" << endl; }\n};\n\nclass Quack :public QuackBehavior{\npublic:\n\tvoid quack(){ cout << \"发出\\'嘎嘎\\'声！\" << endl; }\n};\n\nclass Squeak :public QuackBehavior{\npublic:\n\tvoid quack(){ cout << \"发出空气与橡皮摩擦声！\" << endl; }\n};\n\nclass QuackNoWay :public QuackBehavior{\npublic:\n\tvoid quack(){ cout << \"不能发声！\" << endl; }\n};\n\nclass Duck{\nprotected:\n\tFlyBehavior* flyBehavior;\n\tQuackBehavior* quackBehavior;\npublic:\n\tvoid fly(){ flyBehavior->fly(); }\n\tvoid quack(){ quackBehavior->quack(); }\n\tvirtual void display() = 0;\n};\n\nclass RubberDuck :public Duck{\npublic:\n\tRubberDuck(){\n\t\tflyBehavior = new FlyNoWay();\n\t\tquackBehavior = new Squeak();\n\t}\n\t~RubberDuck(){\n\t\tif (!flyBehavior) delete flyBehavior;\n\t\tif (!quackBehavior) delete quackBehavior;\n\t}\n\tvoid display(){}\n};\n\nint main(){\n\tRubberDuck rubberDuck;\n\trubberDuck.fly();\n\trubberDuck.quack();\n\treturn 0;\n}\n```","slug":"设计模式示例（C-实现）","published":1,"updated":"2016-11-17T15:06:32.541Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3y5000rp4qtsd8er9x0","content":"<p>最近参加了软考，在准备考试过程中发现其中给出设计类图让通过指定的设计模式进行设计的题目对于练习C++和软件开发是一种不错的的方式，因为学校中的C++课程只讲C++语言，虽然也讲了封装、继承、多态等特性，但是缺少相应的练习，使得没有深入的认识和理解。同时类似于程序设计、软件工程的课程设计，其中概要设计、详细设计也都是文档写的很好看，最后编码从没按照设计中的内容来写。最终导致了学完C++，用的时候却不知从何下手。所以这里总结了<a href=\"http://www.ruankao.org.cn/\" target=\"_blank\" rel=\"external\">全国计算机技术与软件专业技术资格（水平）考试参考用书</a>系列中的部分题目，希望可以达到以下两个目的：</p>\n<a id=\"more\"></a>\n<ul>\n<li><p>练习C++，掌握理解更多的特性，而不是只停留在掌握语法的阶段</p>\n</li>\n<li><p>提高软件开发方面的能力，主要是熟悉、学习基本的设计模式，学会如何设计并按照设计实现相应的编码</p>\n</li>\n</ul>\n<p>但需要特别指出的是设计模式还是推荐阅读这方面的经典书籍：<a href=\"https://book.douban.com/subject/1052241/\" target=\"_blank\" rel=\"external\">设计模式 可复用面向对象软件的基础</a>。我只是总结软考中的题目是因为题目可以让我们快速的对问题有所了解，并且我暂时也只是想练习C++，但如果想要对问题有系统、详细的了解还是需要读书。</p>\n<h3 id=\"Command（命令）模式\"><a href=\"#Command（命令）模式\" class=\"headerlink\" title=\"Command（命令）模式\"></a>Command（命令）模式</h3><p>例：某灯具厂商欲生产一个灯具遥控器，该遥控器具有7个可编程的插槽，每个插槽都有开关按钮，对应着一个不同的灯。利用该遥控器能够统一控制房间内该厂商所有品牌灯具的开关，现采用Command（命令）模式实现该遥控器的软件部分。Command模式的类图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/commandpattern.jpg\" alt=\"commandpattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</span></div><div class=\"line\">* Command Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 13</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Light&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"built_in\">string</span> name;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tLight(<span class=\"built_in\">string</span> name)&#123; <span class=\"keyword\">this</span>-&gt;name = name; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">on</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; name + <span class=\"string\">\" on\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">off</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; name + <span class=\"string\">\" off\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Command&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>&#123;&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> LightOnCommand :<span class=\"keyword\">public</span> Command&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tLight* light;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tLightOnCommand(Light* light)&#123; <span class=\"keyword\">this</span>-&gt;light = light; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>&#123; light-&gt;on(); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> LightOffCommand :<span class=\"keyword\">public</span> Command&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tLight* light;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tLightOffCommand(Light* light)&#123; <span class=\"keyword\">this</span>-&gt;light = light; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>&#123; light-&gt;off(); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> RemoteControl&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tCommand* onCommands[<span class=\"number\">7</span>];</div><div class=\"line\">\tCommand* offCommands[<span class=\"number\">7</span>];</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tRemoteControl()&#123;&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setCommand</span><span class=\"params\">(<span class=\"keyword\">int</span> slot, Command* onCommand, Command* offCommand)</span></span>&#123;</div><div class=\"line\">\t\tonCommands[slot] = onCommand;</div><div class=\"line\">\t\toffCommands[slot] = offCommand;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">onButtonWasPushed</span><span class=\"params\">(<span class=\"keyword\">int</span> slot)</span></span>&#123; onCommands[slot]-&gt;execute(); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">offButtonWasPushed</span><span class=\"params\">(<span class=\"keyword\">int</span> slot)</span></span>&#123; offCommands[slot]-&gt;execute(); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">\tRemoteControl* remoteControl = <span class=\"keyword\">new</span> RemoteControl();</div><div class=\"line\">\tLight* livingRoomLight = <span class=\"keyword\">new</span> Light(<span class=\"string\">\"Living Room\"</span>);</div><div class=\"line\">\tLight* kitchenLight = <span class=\"keyword\">new</span> Light(<span class=\"string\">\"Kitchen\"</span>);</div><div class=\"line\">\tLightOnCommand* livingRoomLightOn = <span class=\"keyword\">new</span> LightOnCommand(livingRoomLight);</div><div class=\"line\">\tLightOffCommand* livingRoomLightOff = <span class=\"keyword\">new</span> LightOffCommand(livingRoomLight);</div><div class=\"line\">\tLightOnCommand* kitchenLightOn = <span class=\"keyword\">new</span> LightOnCommand(kitchenLight);</div><div class=\"line\">\tLightOffCommand* kitchenLightOff = <span class=\"keyword\">new</span> LightOffCommand(kitchenLight);</div><div class=\"line\">\tremoteControl-&gt;setCommand(<span class=\"number\">0</span>, livingRoomLightOn, livingRoomLightOff);</div><div class=\"line\">\tremoteControl-&gt;setCommand(<span class=\"number\">1</span>, kitchenLightOn, kitchenLightOff);</div><div class=\"line\">\tremoteControl-&gt;onButtonWasPushed(<span class=\"number\">0</span>);</div><div class=\"line\">\tremoteControl-&gt;offButtonWasPushed(<span class=\"number\">0</span>);</div><div class=\"line\">\tremoteControl-&gt;onButtonWasPushed(<span class=\"number\">1</span>);</div><div class=\"line\">\tremoteControl-&gt;offButtonWasPushed(<span class=\"number\">1</span>);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Observer（观察者）模式\"><a href=\"#Observer（观察者）模式\" class=\"headerlink\" title=\"Observer（观察者）模式\"></a>Observer（观察者）模式</h3><p>例：某实验室欲建立一个实验室环境监测系统，以显示实验室的温度、湿度以及洁净度等环境数据。当获取到最新的环境测量数据时，显示的环境数据能够更新。现在采用观察者（Observer）模式来开发该系统，观察者模式的类图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/observerpattern.jpg\" alt=\"observerpattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</span></div><div class=\"line\">* Observer Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 13</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;vector&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Observer&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(<span class=\"keyword\">float</span> temp, <span class=\"keyword\">float</span> humidity, <span class=\"keyword\">float</span> cleanness)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Subject&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">registerObserver</span><span class=\"params\">(Observer* o)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">removeObserver</span><span class=\"params\">(Observer* o)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">notifyObserver</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> EnvironmentData : <span class=\"keyword\">public</span> Subject&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"built_in\">vector</span>&lt;Observer*&gt; observers;</div><div class=\"line\">\t<span class=\"keyword\">float</span> temperature, humidity, cleanness;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">registerObserver</span><span class=\"params\">(Observer* o)</span></span>&#123; observers.push_back(o); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">removeObserver</span><span class=\"params\">(Observer* o)</span></span>&#123;&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">notifyObserver</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"built_in\">vector</span>&lt;Observer*&gt;::const_iterator it = observers.begin(); it != observers.end(); it++)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\t(*it)-&gt;update(temperature, humidity, cleanness);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">measurementsChanged</span><span class=\"params\">()</span></span>&#123; notifyObserver(); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setMeasurements</span><span class=\"params\">(<span class=\"keyword\">float</span> temperature, <span class=\"keyword\">float</span> humidity, <span class=\"keyword\">float</span> cleanness)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;temperature = temperature;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;humidity = humidity;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;cleanness = cleanness;</div><div class=\"line\">\t\tmeasurementsChanged();</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> CurrentConditionsDisplay : <span class=\"keyword\">public</span> Observer&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"keyword\">float</span> temperature, humidity, cleanness;</div><div class=\"line\">\tSubject* envData;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tCurrentConditionsDisplay(Subject* envData)&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;envData = envData;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;envData-&gt;registerObserver(<span class=\"keyword\">this</span>);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(<span class=\"keyword\">float</span> temperature, <span class=\"keyword\">float</span> humidity, <span class=\"keyword\">float</span> cleanness)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;temperature = temperature;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;humidity = humidity;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;cleanness = cleanness;</div><div class=\"line\">\t\tdisplay();</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">display</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; temperature &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; humidity &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; cleanness &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tEnvironmentData* envData = <span class=\"keyword\">new</span> EnvironmentData();</div><div class=\"line\">\tCurrentConditionsDisplay* currentDisplay = <span class=\"keyword\">new</span> CurrentConditionsDisplay(envData);</div><div class=\"line\">\tenvData-&gt;setMeasurements(<span class=\"number\">80</span>, <span class=\"number\">65</span>, <span class=\"number\">30.4f</span>);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Bridge（桥接）模式\"><a href=\"#Bridge（桥接）模式\" class=\"headerlink\" title=\"Bridge（桥接）模式\"></a>Bridge（桥接）模式</h3><p>例：欲开发一个绘图软件，要求使用不同的绘图程序绘制不同的图形。以绘制直线和圆形为例，对应的绘图程序如表所示。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">^-^</th>\n<th style=\"text-align:center\">DP1</th>\n<th style=\"text-align:center\">DP2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">绘制直线</td>\n<td style=\"text-align:center\">draw_a_line(x1,y1,x2,y2)</td>\n<td style=\"text-align:center\">drawline(x1,y1,x2,y2)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">绘制圆</td>\n<td style=\"text-align:center\">draw_a_circle(x,y,r)</td>\n<td style=\"text-align:center\">drawcircle(x,y,r)</td>\n</tr>\n</tbody>\n</table>\n<p>该绘制软件的扩展性要求，将不断扩充新的图形和新的绘图程序。为了避免出现类爆炸的情况，现采用桥接（Bridge）模式来实现上述要求，得到如图所示的类图。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/bridge.jpg\" alt=\"bridgepattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</span></div><div class=\"line\">* Bridge Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 15</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> DP1&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">draw_a_line</span><span class=\"params\">(<span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2)</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"DP1 draw_a_line\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">draw_a_circle</span><span class=\"params\">(<span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r)</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"DP1 draw_a_circle\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> DP2&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">drawline</span><span class=\"params\">(<span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2)</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"DP2 drawline\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">drawcircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r)</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Dp2 drawcircle\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Drawing&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> V1Drawing : <span class=\"keyword\">public</span> Drawing&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2)</span></span>&#123; DP1::draw_a_line(x1, y1, x2, y2); <span class=\"built_in\">cout</span> &lt;&lt; x1 &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; y1 &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; x2 &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; y2 &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r)</span></span>&#123; DP1::draw_a_circle(x, y, r); <span class=\"built_in\">cout</span> &lt;&lt; x &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; y &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; r &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> V2Drawing : <span class=\"keyword\">public</span> Drawing&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2)</span></span>&#123; DP2::drawline(x1, y1, x2, y2); <span class=\"built_in\">cout</span> &lt;&lt; x1 &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; y1 &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; x2 &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; y2 &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r)</span></span>&#123; DP2::drawcircle(x, y, r); <span class=\"built_in\">cout</span> &lt;&lt; x &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; y &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; r &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Shape&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tShape(Drawing* dp)&#123; _dp = dp; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2)</span></span>&#123; _dp-&gt;drawLine(x1, y1, x2, y2); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r)</span></span>&#123; _dp-&gt;drawCircle(x, y, r); &#125;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tDrawing* _dp;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Rectangle : <span class=\"keyword\">public</span> Shape&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"keyword\">double</span> _x1, _y1, _x2, _y2;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tRectangle(Drawing* dp, <span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2) : Shape(dp)&#123; _x1 = x1; _y1 = y1; _x2 = x2; _y2 = y2; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">draw</span><span class=\"params\">()</span></span>&#123; drawLine(_x1, _y1, _x2, _y2); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Circle : <span class=\"keyword\">public</span> Shape&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"keyword\">double</span> _x, _y, _r;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tCircle(Drawing* dp, <span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r) : Shape(dp)&#123; _x = x; _y = y; _r = r; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">draw</span><span class=\"params\">()</span></span>&#123; drawCircle(_x, _y, _r); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tV1Drawing* dp1 = <span class=\"keyword\">new</span> V1Drawing();</div><div class=\"line\">\tV2Drawing* dp2 = <span class=\"keyword\">new</span> V2Drawing();</div><div class=\"line\">\tRectangle* rectangle1 = <span class=\"keyword\">new</span> Rectangle(dp1, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>);</div><div class=\"line\">\trectangle1-&gt;draw();</div><div class=\"line\">\tRectangle* rectangle2 = <span class=\"keyword\">new</span> Rectangle(dp2, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>);</div><div class=\"line\">\trectangle2-&gt;draw();</div><div class=\"line\">\tCircle* circle1 = <span class=\"keyword\">new</span> Circle(dp1, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>);</div><div class=\"line\">\tcircle1-&gt;draw();</div><div class=\"line\">\tCircle* circle2 = <span class=\"keyword\">new</span> Circle(dp2, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>);</div><div class=\"line\">\tcircle2-&gt;draw();</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Prototype（原型）模式\"><a href=\"#Prototype（原型）模式\" class=\"headerlink\" title=\"Prototype（原型）模式\"></a>Prototype（原型）模式</h3><p>例：现要求实现一个能够自动生成求职简历的程序，简历的基本内容包括求职者的姓名、性别、年龄及工作经历。希望每份简历中的工作经历有所不同，并尽量减少程序中的重复代码。<br>现采用原型模式（Prototype）来实现上述要求，得到如图所示的类图。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/prototype.jpg\" alt=\"prototypepattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</span></div><div class=\"line\">* Prototype Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 15</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Cloneable&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> Cloneable* <span class=\"title\">clone</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> WorkExperience : <span class=\"keyword\">public</span> Cloneable&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"built_in\">string</span> workDate;</div><div class=\"line\">\t<span class=\"built_in\">string</span> company;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\">Cloneable* <span class=\"title\">clone</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\tWorkExperience* obj = <span class=\"keyword\">new</span> WorkExperience();</div><div class=\"line\">\t\tobj-&gt;workDate = <span class=\"keyword\">this</span>-&gt;workDate;</div><div class=\"line\">\t\tobj-&gt;company = <span class=\"keyword\">this</span>-&gt;company;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> obj;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setWorkDate</span><span class=\"params\">(<span class=\"built_in\">string</span> wd)</span></span>&#123; </div><div class=\"line\">\t\tworkDate = wd; </div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setCompany</span><span class=\"params\">(<span class=\"built_in\">string</span> comp)</span></span>&#123; </div><div class=\"line\">\t\tcompany = comp; </div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">toString</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> workDate + company;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Resume : <span class=\"keyword\">public</span> Cloneable&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"built_in\">string</span> name, sex, age;</div><div class=\"line\">\tWorkExperience* work;</div><div class=\"line\">\tResume(WorkExperience* work)&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;work = (WorkExperience*)work-&gt;clone();</div><div class=\"line\">\t&#125;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tResume(<span class=\"built_in\">string</span> name)&#123; </div><div class=\"line\">\t\twork = <span class=\"keyword\">new</span> WorkExperience(); </div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;name = name; </div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setPersonalInfo</span><span class=\"params\">(<span class=\"built_in\">string</span> sex, <span class=\"built_in\">string</span> age)</span></span>&#123; </div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;sex = sex; </div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;age = age; </div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setWorkExperience</span><span class=\"params\">(<span class=\"built_in\">string</span> workDate, <span class=\"built_in\">string</span> company)</span></span>&#123; </div><div class=\"line\">\t\twork-&gt;setWorkDate(workDate); </div><div class=\"line\">\t\twork-&gt;setCompany(company); </div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\">Cloneable* <span class=\"title\">clone</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\tResume* obj = <span class=\"keyword\">new</span> Resume(<span class=\"keyword\">this</span>-&gt;work);</div><div class=\"line\">\t\tobj-&gt;name = <span class=\"keyword\">this</span>-&gt;name;</div><div class=\"line\">\t\tobj-&gt;sex = <span class=\"keyword\">this</span>-&gt;sex;</div><div class=\"line\">\t\tobj-&gt;age = <span class=\"keyword\">this</span>-&gt;age;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> obj;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">toString</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> name + sex + age + work-&gt;toString();</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tResume* a = <span class=\"keyword\">new</span> Resume(<span class=\"string\">\"张三\"</span>);</div><div class=\"line\">\ta-&gt;setPersonalInfo(<span class=\"string\">\"男\"</span>, <span class=\"string\">\"29\"</span>);</div><div class=\"line\">\ta-&gt;setWorkExperience(<span class=\"string\">\"1998-2000\"</span>, <span class=\"string\">\"A company\"</span>);</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; a-&gt;toString() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\tResume* b = (Resume*)a-&gt;clone();</div><div class=\"line\">\tb-&gt;setWorkExperience(<span class=\"string\">\"2001-2006\"</span>, <span class=\"string\">\"B company\"</span>);</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; b-&gt;toString() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; a-&gt;toString() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Abstract-Factory（抽象工厂）模式\"><a href=\"#Abstract-Factory（抽象工厂）模式\" class=\"headerlink\" title=\"Abstract Factory（抽象工厂）模式\"></a>Abstract Factory（抽象工厂）模式</h3><p>例：现欲开发一个软件系统，要求能够同时支持多种不同的数据库，为此采用抽象工厂模式设计该系统。以SQL Server和Access两种数据库以及系统中的数据库表Department为例，其类图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/abstractfactory.jpg\" alt=\"abstractfactorypattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</span></div><div class=\"line\">* Abstract Factory Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 16</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//数据库表</span></div><div class=\"line\"><span class=\"keyword\">class</span> Department&#123;&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> IDepartment&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">insert</span><span class=\"params\">(Department* department)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> Department* <span class=\"title\">getDepartment</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> SqlserverDepartment :<span class=\"keyword\">public</span> IDepartment&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insert</span><span class=\"params\">(Department* department)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Insert a record into Department in SQL Server!\\n\"</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\">Department* <span class=\"title\">getDepartment</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span></span>&#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Department(); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> AccessDepartment :<span class=\"keyword\">public</span> IDepartment&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insert</span><span class=\"params\">(Department* department)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Insert a record into Department in ACCESS!\\n\"</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\">Department* <span class=\"title\">getDepartment</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span></span>&#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Department(); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> IFactory&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> IDepartment* <span class=\"title\">creatDepartment</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> SqlserverFactory :<span class=\"keyword\">public</span> IFactory&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\">IDepartment* <span class=\"title\">creatDepartment</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> SqlserverDepartment();</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> AccessFactory :<span class=\"keyword\">public</span> IFactory&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\">IDepartment* <span class=\"title\">creatDepartment</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> AccessDepartment();</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tSqlserverFactory* sqlFactory = <span class=\"keyword\">new</span> SqlserverFactory();</div><div class=\"line\">\tSqlserverDepartment* sqlDepartment = (SqlserverDepartment*)sqlFactory-&gt;creatDepartment();</div><div class=\"line\">\tDepartment* a = <span class=\"keyword\">new</span> Department();</div><div class=\"line\">\tsqlDepartment-&gt;insert(a);</div><div class=\"line\"></div><div class=\"line\">\tAccessFactory* accessFactory = <span class=\"keyword\">new</span> AccessFactory();</div><div class=\"line\">\tAccessDepartment* accessDepartment = (AccessDepartment*)accessFactory-&gt;creatDepartment();</div><div class=\"line\">\taccessDepartment-&gt;insert(a);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Decorator（装饰）模式\"><a href=\"#Decorator（装饰）模式\" class=\"headerlink\" title=\"Decorator（装饰）模式\"></a>Decorator（装饰）模式</h3><p>例：某咖啡店在卖咖啡时，可以根据顾客的要求在其中加入各种配料，咖啡店会根据所加入的配料来计算费用。咖啡店所供应的咖啡及配料的种类和价格如表所示。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">咖啡</th>\n<th style=\"text-align:center\">价格/杯（￥）</th>\n<th style=\"text-align:center\">配料</th>\n<th style=\"text-align:center\">价格/杯（￥）</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">蒸馏咖啡（Espresso）</td>\n<td style=\"text-align:center\">25</td>\n<td style=\"text-align:center\">摩卡（Mocha）</td>\n<td style=\"text-align:center\">10</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">深度烘焙咖啡（DarkRoast）</td>\n<td style=\"text-align:center\">20</td>\n<td style=\"text-align:center\">奶泡（Whip）</td>\n<td style=\"text-align:center\">8</td>\n</tr>\n</tbody>\n</table>\n<p>现采用装饰器（Decorator）模式来实现计算费用的功能，得到如图所示的类图。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/decorator.jpg\" alt=\"decoratorpattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</span></div><div class=\"line\">* Decorator Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 16</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> ESPRESSO_PRICE = <span class=\"number\">25</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> DARKROAST_PRICE = <span class=\"number\">20</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> MOCHA_PRICE = <span class=\"number\">10</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> WHIP_PRICE = <span class=\"number\">8</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//饮料</span></div><div class=\"line\"><span class=\"keyword\">class</span> Beverage&#123;</div><div class=\"line\"><span class=\"keyword\">protected</span>:</div><div class=\"line\">\t<span class=\"built_in\">string</span> description;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"built_in\">string</span> <span class=\"title\">getDescription</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> description;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">int</span> <span class=\"title\">cost</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//配料</span></div><div class=\"line\"><span class=\"keyword\">class</span> CondimentDecorator :<span class=\"keyword\">public</span> Beverage&#123;</div><div class=\"line\"><span class=\"keyword\">protected</span>:</div><div class=\"line\">\tBeverage* beverage;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//蒸馏咖啡</span></div><div class=\"line\"><span class=\"keyword\">class</span> Espresso :<span class=\"keyword\">public</span> Beverage&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tEspresso()</div><div class=\"line\">\t&#123;</div><div class=\"line\">\t\tdescription = <span class=\"string\">\"Espresso\"</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">cost</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> ESPRESSO_PRICE;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//深度烘焙咖啡</span></div><div class=\"line\"><span class=\"keyword\">class</span> DarkRoast :<span class=\"keyword\">public</span> Beverage&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tDarkRoast()</div><div class=\"line\">\t&#123;</div><div class=\"line\">\t\tdescription = <span class=\"string\">\"DarkRoast\"</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">cost</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> DARKROAST_PRICE;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//摩卡</span></div><div class=\"line\"><span class=\"keyword\">class</span> Mocha :<span class=\"keyword\">public</span> CondimentDecorator&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tMocha(Beverage* beverage)&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;beverage = beverage;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">getDescription</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> beverage-&gt;getDescription() + <span class=\"string\">\",Mocha\"</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">cost</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> MOCHA_PRICE + beverage-&gt;cost();</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//奶泡</span></div><div class=\"line\"><span class=\"keyword\">class</span> Whip :<span class=\"keyword\">public</span> CondimentDecorator&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tWhip(Beverage* beverage)&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;beverage = beverage;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">getDescription</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> beverage-&gt;getDescription() + <span class=\"string\">\",Whip\"</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">cost</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> WHIP_PRICE + beverage-&gt;cost();</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tBeverage* beverage = <span class=\"keyword\">new</span> DarkRoast();</div><div class=\"line\">\tbeverage = <span class=\"keyword\">new</span> Mocha(beverage);</div><div class=\"line\">\tbeverage = <span class=\"keyword\">new</span> Whip(beverage);</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; beverage-&gt;getDescription() &lt;&lt; <span class=\"string\">\"￥\"</span> &lt;&lt; beverage-&gt;cost() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Composition（组合）模式\"><a href=\"#Composition（组合）模式\" class=\"headerlink\" title=\"Composition（组合）模式\"></a>Composition（组合）模式</h3><p>例：某饭店在不同的时段提供多种不同的餐饮，其菜单的结构图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/compositionstructure.jpg\" alt=\"composition\"></p>\n<p>现在采用组合（Composition）模式来构造该饭店的菜单，使得饭店可以方便地在其中增加新的餐饮形式，得到如图所示的类图。其中MenuComposition为抽象类，定义了添加（add）新菜单和打印饭店所有菜单信息（print）的方法接口。类Menu表示饭店提供的每种餐饮形式的菜单，如煎饼屋菜单、咖啡屋菜单。每种菜单中都可以添加子菜单，例如图中的甜点菜单。类MenuItem表示菜单中的菜式。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/composition.jpg\" alt=\"compositionpattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</span></div><div class=\"line\">* Composition Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 16</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;list&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> MenuComponent&#123;</div><div class=\"line\"><span class=\"keyword\">protected</span>:</div><div class=\"line\">\t<span class=\"built_in\">string</span> name;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tMenuComponent(<span class=\"built_in\">string</span> name)&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;name = name;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">getName</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> name;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">add</span><span class=\"params\">(MenuComponent* menuComponent)</span> </span>= <span class=\"number\">0</span>; <span class=\"comment\">//添加新菜单</span></div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">print</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>; <span class=\"comment\">//打印菜单信息</span></div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> MenuItem :<span class=\"keyword\">public</span> MenuComponent&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"keyword\">double</span> price;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tMenuItem(<span class=\"built_in\">string</span> name, <span class=\"keyword\">double</span> price) :MenuComponent(name)&#123; <span class=\"keyword\">this</span>-&gt;price = price; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">double</span> <span class=\"title\">getPrice</span><span class=\"params\">()</span></span>&#123; <span class=\"keyword\">return</span> price; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">add</span><span class=\"params\">(MenuComponent* menuComponent)</span></span>&#123; <span class=\"keyword\">return</span> ; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">print</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; getName() &lt;&lt; <span class=\"string\">\",\"</span> &lt;&lt; getPrice() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Menu :<span class=\"keyword\">public</span> MenuComponent&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"built_in\">list</span>&lt;MenuComponent*&gt; menuComponents;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tMenu(<span class=\"built_in\">string</span> name) :MenuComponent(name)&#123;&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">add</span><span class=\"params\">(MenuComponent* menuComponent)</span></span>&#123;</div><div class=\"line\">\t\tmenuComponents.push_back(menuComponent); </div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">print</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"\\n\"</span> &lt;&lt; getName() &lt;&lt; <span class=\"string\">\"\\n-----------------------------\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t\t<span class=\"built_in\">std</span>::<span class=\"built_in\">list</span>&lt;MenuComponent*&gt;::iterator iter;</div><div class=\"line\">\t\t<span class=\"keyword\">for</span> (iter = menuComponents.begin(); iter != menuComponents.end();iter++)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\t(*iter)-&gt;print();</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tMenuComponent* allMenus = <span class=\"keyword\">new</span> Menu(<span class=\"string\">\"ALL MENUS\"</span>);</div><div class=\"line\">\tMenuComponent* dinerMenu = <span class=\"keyword\">new</span> Menu(<span class=\"string\">\"DINER　MENU\"</span>);</div><div class=\"line\">\tMenuComponent* coffee = <span class=\"keyword\">new</span> MenuItem(<span class=\"string\">\"Espresso\"</span>, <span class=\"number\">20</span>);</div><div class=\"line\">\tallMenus-&gt;add(coffee);</div><div class=\"line\">\tMenuComponent* dumpling = <span class=\"keyword\">new</span> MenuItem(<span class=\"string\">\"Dumpling\"</span>, <span class=\"number\">30</span>);</div><div class=\"line\">\tdinerMenu-&gt;add(dumpling);</div><div class=\"line\">\tallMenus-&gt;add(dinerMenu);</div><div class=\"line\">\tallMenus-&gt;print();</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"State（状态）模式\"><a href=\"#State（状态）模式\" class=\"headerlink\" title=\"State（状态）模式\"></a>State（状态）模式</h3><p>例：某大型商场内安装了多个简易的纸巾售卖机，自动出售2元钱一包的纸巾，且每次仅售出一包纸巾。纸巾售卖机的状态图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/state1.jpg\" alt=\"state\"></p>\n<p>采用状态（State）模式来实现该纸巾售卖机，得到如图所示的类图。其中类State为抽象类，定义了投币、退币、出纸巾等方法接口。类SoldState、SoldOutState、NoQuarterState和HasQuarterState分别对应图中纸巾售卖机的4种状态：售出纸巾、纸巾售完、没有投币、有2元钱。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/state.jpg\" alt=\"statepattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div><div class=\"line\">136</div><div class=\"line\">137</div><div class=\"line\">138</div><div class=\"line\">139</div><div class=\"line\">140</div><div class=\"line\">141</div><div class=\"line\">142</div><div class=\"line\">143</div><div class=\"line\">144</div><div class=\"line\">145</div><div class=\"line\">146</div><div class=\"line\">147</div><div class=\"line\">148</div><div class=\"line\">149</div><div class=\"line\">150</div><div class=\"line\">151</div><div class=\"line\">152</div><div class=\"line\">153</div><div class=\"line\">154</div><div class=\"line\">155</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</span></div><div class=\"line\">* State Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 17</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> TissueMachine;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> State&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">insertQuarter</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;<span class=\"comment\">//投币</span></div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">ejectQuarter</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;<span class=\"comment\">//退币</span></div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">turnCrank</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;<span class=\"comment\">//按下“出纸巾”按钮</span></div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">dispense</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;<span class=\"comment\">//出纸巾</span></div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//没有投币</span></div><div class=\"line\"><span class=\"keyword\">class</span> NoQuarterState :<span class=\"keyword\">public</span> State&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tTissueMachine* tissueMachine;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tNoQuarterState(TissueMachine* tissueMachine)&#123; <span class=\"keyword\">this</span>-&gt;tissueMachine = tissueMachine; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insertQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">ejectQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">turnCrank</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">dispense</span><span class=\"params\">()</span></span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//有2元钱（已投币）</span></div><div class=\"line\"><span class=\"keyword\">class</span> HasQuarterState :<span class=\"keyword\">public</span> State&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tTissueMachine* tissueMachine;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tHasQuarterState(TissueMachine* tissueMachine)&#123; <span class=\"keyword\">this</span>-&gt;tissueMachine = tissueMachine; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insertQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">ejectQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">turnCrank</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">dispense</span><span class=\"params\">()</span></span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//售出纸巾</span></div><div class=\"line\"><span class=\"keyword\">class</span> SoldState :<span class=\"keyword\">public</span> State&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tTissueMachine* tissueMachine;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tSoldState(TissueMachine* tissueMachine)&#123; <span class=\"keyword\">this</span>-&gt;tissueMachine = tissueMachine; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insertQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">ejectQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">turnCrank</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">dispense</span><span class=\"params\">()</span></span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//纸巾售完</span></div><div class=\"line\"><span class=\"keyword\">class</span> SoldOutState :<span class=\"keyword\">public</span> State&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tTissueMachine* tissueMachine;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tSoldOutState(TissueMachine* tissueMachine)&#123; <span class=\"keyword\">this</span>-&gt;tissueMachine = tissueMachine; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insertQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">ejectQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">turnCrank</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">dispense</span><span class=\"params\">()</span></span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> TissueMachine&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tState *soldOutState, *noQuarterState, *hasQuarterState, *soldState, *state;</div><div class=\"line\">\t<span class=\"keyword\">int</span> count;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tTissueMachine(<span class=\"keyword\">int</span> numbers)&#123;</div><div class=\"line\">\t\tsoldOutState = <span class=\"keyword\">new</span> SoldOutState(<span class=\"keyword\">this</span>);</div><div class=\"line\">\t\tnoQuarterState = <span class=\"keyword\">new</span> NoQuarterState(<span class=\"keyword\">this</span>);</div><div class=\"line\">\t\thasQuarterState = <span class=\"keyword\">new</span> HasQuarterState(<span class=\"keyword\">this</span>);</div><div class=\"line\">\t\tsoldState = <span class=\"keyword\">new</span> SoldState(<span class=\"keyword\">this</span>);</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;count = numbers;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (count &gt; <span class=\"number\">0</span>)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\t<span class=\"keyword\">this</span>-&gt;state = noQuarterState;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insertQuarter</span><span class=\"params\">()</span></span>&#123; state-&gt;insertQuarter(); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">ejectQuarter</span><span class=\"params\">()</span></span>&#123; state-&gt;ejectQuarter(); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">turnCrank</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\tstate-&gt;turnCrank();</div><div class=\"line\">\t\tstate-&gt;dispense();</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setState</span><span class=\"params\">(State* state)</span></span>&#123; <span class=\"keyword\">this</span>-&gt;state = state; &#125;</div><div class=\"line\">\t<span class=\"function\">State* <span class=\"title\">getHasQuarterState</span><span class=\"params\">()</span></span>&#123; <span class=\"keyword\">return</span> hasQuarterState; &#125;</div><div class=\"line\">\t<span class=\"function\">State* <span class=\"title\">getNoQuarterState</span><span class=\"params\">()</span></span>&#123; <span class=\"keyword\">return</span> noQuarterState; &#125;</div><div class=\"line\">\t<span class=\"function\">State* <span class=\"title\">getSoldState</span><span class=\"params\">()</span></span>&#123; <span class=\"keyword\">return</span> soldState; &#125;</div><div class=\"line\">\t<span class=\"function\">State* <span class=\"title\">getSoldOutState</span><span class=\"params\">()</span></span>&#123; <span class=\"keyword\">return</span> soldOutState; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setCount</span><span class=\"params\">(<span class=\"keyword\">int</span> numbers)</span></span>&#123; <span class=\"keyword\">this</span>-&gt;count = numbers; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">getCount</span><span class=\"params\">()</span></span>&#123; <span class=\"keyword\">return</span> count; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">void</span> SoldOutState::insertQuarter()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"机器无纸巾，已退回硬币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> SoldOutState::ejectQuarter()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"自动售货机根本没有硬币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> SoldOutState::turnCrank()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"机器无纸巾，请不要操作机器\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> SoldOutState::dispense()&#123;&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">void</span> NoQuarterState::insertQuarter()&#123;</div><div class=\"line\">\ttissueMachine-&gt;setState(tissueMachine-&gt;getHasQuarterState());</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"已投币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">void</span> NoQuarterState::ejectQuarter()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"自动售货机根本没有硬币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> NoQuarterState::turnCrank()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"请投币\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> NoQuarterState::dispense()&#123;&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">void</span> HasQuarterState::insertQuarter()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"已投币！请不要重复投币！已退回重复投币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> HasQuarterState::ejectQuarter()&#123;</div><div class=\"line\">\ttissueMachine-&gt;setState(tissueMachine-&gt;getNoQuarterState());</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"已取币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">void</span> HasQuarterState::turnCrank()&#123;</div><div class=\"line\">\ttissueMachine-&gt;setState(tissueMachine-&gt;getSoldState());</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"请等待自动售货机出纸巾！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">void</span> HasQuarterState::dispense()&#123;&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">void</span> SoldState::insertQuarter()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"请等待自动售货机出纸巾！请不要投币！已退回投币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> SoldState::ejectQuarter()&#123;</div><div class=\"line\">\ttissueMachine-&gt;setState(tissueMachine-&gt;getNoQuarterState());</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"请等待自动售货机出纸巾！无法取回已消费的硬币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">void</span> SoldState::turnCrank()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"请等待自动售货机出纸巾！已响应你的操作！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> SoldState::dispense()&#123;</div><div class=\"line\">\t<span class=\"keyword\">if</span> (tissueMachine-&gt;getCount() &gt; <span class=\"number\">0</span>)&#123;</div><div class=\"line\">\t\ttissueMachine-&gt;setState(tissueMachine-&gt;getNoQuarterState());</div><div class=\"line\">\t\ttissueMachine-&gt;setCount(tissueMachine-&gt;getCount() - <span class=\"number\">1</span>);</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"你的纸巾，请拿好！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">\t\ttissueMachine-&gt;setState(tissueMachine-&gt;getSoldOutState());</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"已退回你的硬币！纸巾已卖光，等待进货！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tTissueMachine *tissueMachine = <span class=\"keyword\">new</span> TissueMachine(<span class=\"number\">1</span>);</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"纸巾数：\"</span> &lt;&lt; tissueMachine-&gt;getCount() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\ttissueMachine-&gt;insertQuarter();</div><div class=\"line\">\ttissueMachine-&gt;turnCrank();</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"纸巾数：\"</span> &lt;&lt; tissueMachine-&gt;getCount() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\ttissueMachine-&gt;turnCrank();</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"纸巾数：\"</span> &lt;&lt; tissueMachine-&gt;getCount() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\ttissueMachine-&gt;insertQuarter();</div><div class=\"line\">\ttissueMachine-&gt;turnCrank();</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Chain-of-Responsibility（责任链）模式\"><a href=\"#Chain-of-Responsibility（责任链）模式\" class=\"headerlink\" title=\"Chain of Responsibility（责任链）模式\"></a>Chain of Responsibility（责任链）模式</h3><p>例：已知某企业的采购审批是分级进行的，即根据采购金额的不同由不同层次的主管人员来审批，主任可以审批5万元以下（不包括5万元）的采购单，副董事长可以审批5万元至10万元（不包括10万元）的采购单，董事长可以审批10万元至50万元（不包括50万元）的采购单，50万元及以上的采购单就需要开会讨论决定。</p>\n<p>采用责任链设计模式（Chain of Responsibility）对上述过程进行设计后得到的类图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/chainofresponsibility.jpg\" alt=\"chainofresponsibilitypattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</span></div><div class=\"line\">* Chain of Responsibility Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 17</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//采购单</span></div><div class=\"line\"><span class=\"keyword\">class</span> PurchaseRequest&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"keyword\">double</span> amount;<span class=\"comment\">//采购金额</span></div><div class=\"line\">\t<span class=\"keyword\">int</span> number;<span class=\"comment\">//采购单编号</span></div><div class=\"line\">\t<span class=\"built_in\">string</span> purpose;<span class=\"comment\">//采购目的</span></div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//审批者</span></div><div class=\"line\"><span class=\"keyword\">class</span> Approver&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tApprover* successor;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tApprover()&#123;</div><div class=\"line\">\t\tsuccessor = <span class=\"literal\">NULL</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">processRequest</span><span class=\"params\">(PurchaseRequest aRequest)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (successor != <span class=\"literal\">NULL</span>)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\tsuccessor-&gt;processRequest(aRequest);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setSuccessor</span><span class=\"params\">(Approver* aSuccessor)</span></span>&#123;</div><div class=\"line\">\t\tsuccessor = aSuccessor;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//例会</span></div><div class=\"line\"><span class=\"keyword\">class</span> Congress :<span class=\"keyword\">public</span> Approver&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">processRequest</span><span class=\"params\">(PurchaseRequest aRequest)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (aRequest.amount &gt;= <span class=\"number\">500000</span>)&#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"例会正在审批\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t<span class=\"keyword\">else</span></div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\tApprover::processRequest(aRequest);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//董事长</span></div><div class=\"line\"><span class=\"keyword\">class</span> President :<span class=\"keyword\">public</span> Approver&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">processRequest</span><span class=\"params\">(PurchaseRequest aRequest)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (aRequest.amount &gt;= <span class=\"number\">100000</span> &amp;&amp; aRequest.amount &lt; <span class=\"number\">500000</span>)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"董事长正在审批\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t<span class=\"keyword\">else</span></div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\tApprover::processRequest(aRequest);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//副董事长</span></div><div class=\"line\"><span class=\"keyword\">class</span> VicePresident :<span class=\"keyword\">public</span> Approver&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">processRequest</span><span class=\"params\">(PurchaseRequest aRequest)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (aRequest.amount &gt;= <span class=\"number\">50000</span> &amp;&amp; aRequest.amount &lt; <span class=\"number\">100000</span>)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"副董事长正在审批\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t<span class=\"keyword\">else</span></div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\tApprover::processRequest(aRequest);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//主任</span></div><div class=\"line\"><span class=\"keyword\">class</span> Director :<span class=\"keyword\">public</span> Approver&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">processRequest</span><span class=\"params\">(PurchaseRequest aRequest)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (aRequest.amount &lt; <span class=\"number\">50000</span>)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"主任正在审批\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t\t&#125; </div><div class=\"line\">\t\t<span class=\"keyword\">else</span></div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\tApprover::processRequest(aRequest);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tCongress meeting;</div><div class=\"line\">\tPresident Tammy;</div><div class=\"line\">\tVicePresident Sam;</div><div class=\"line\">\tDirector Larry;</div><div class=\"line\">\tmeeting.setSuccessor(<span class=\"literal\">NULL</span>);</div><div class=\"line\">\tTammy.setSuccessor(&amp;meeting);</div><div class=\"line\">\tSam.setSuccessor(&amp;Tammy);</div><div class=\"line\">\tLarry.setSuccessor(&amp;Sam);</div><div class=\"line\"></div><div class=\"line\">\tPurchaseRequest aRequest;</div><div class=\"line\">\t<span class=\"built_in\">cin</span> &gt;&gt; aRequest.amount;</div><div class=\"line\">\tLarry.processRequest(aRequest);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Strategy（策略）模式\"><a href=\"#Strategy（策略）模式\" class=\"headerlink\" title=\"Strategy（策略）模式\"></a>Strategy（策略）模式</h3><p>例：某游戏公司现欲开发一款面向儿童的模拟游戏，该游戏主要模拟现实世界中各种鸭子的发声特征、飞行特征和外观特征。游戏需要模拟的鸭子种类及其特征如表所示。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">鸭子种类</th>\n<th style=\"text-align:center\">发声特征</th>\n<th style=\"text-align:center\">飞行特征</th>\n<th style=\"text-align:center\">外观特征</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">灰鸭(MallardDuck)</td>\n<td style=\"text-align:center\">发出“嘎嘎”声(Quack)</td>\n<td style=\"text-align:center\">用翅膀飞行(FlyWithWings)</td>\n<td style=\"text-align:center\">灰色羽毛</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">红头鸭(RedHeadDuck)</td>\n<td style=\"text-align:center\">发出“嘎嘎”声(Quack)</td>\n<td style=\"text-align:center\">用翅膀飞行(FlyWithWings)</td>\n<td style=\"text-align:center\">灰色羽毛、头部红色</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">棉花鸭(CottonDuck)</td>\n<td style=\"text-align:center\">不发声(QuackNoWay)</td>\n<td style=\"text-align:center\">不能飞行(FlyNoWay)</td>\n<td style=\"text-align:center\">白色</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">橡皮鸭(RubberDuck)</td>\n<td style=\"text-align:center\">发出橡皮与空气摩擦的声音(Squeak)</td>\n<td style=\"text-align:center\">不能飞行(FlyNoWay)</td>\n<td style=\"text-align:center\">黑白橡皮色</td>\n</tr>\n</tbody>\n</table>\n<p>为支持将来能够模拟更多种类鸭子的特性，采用策略（Strategy）模式设计的类图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/strategy.jpg\" alt=\"strategy\"></p>\n<p>其中，Duck为抽象类，描述了抽象的鸭子，而类RubberDuck、MallardDuck、CottonDuck和RedHeadDuck分别描述具体的鸭子种类，方法fly()、quack()和display()分别表示不同种类的鸭子都具有飞行特征、发声特征和外观特征；类FlyBehavior与QuackBehavior为抽象类，分别用于表示抽象的飞行行为与发声行为；类FlyNoWay与FlyWithWings分别描述不能飞行的行为和用翅膀飞行的行为；类Quack、Squeak与QuackNoWay分别描述发出“嘎嘎”声的行为、发出橡皮与空气摩擦声的行为与不发声的行为。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</span></div><div class=\"line\">* Strategy Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 17</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> FlyBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">fly</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> QuackBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">quack</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> FlyWithWings :<span class=\"keyword\">public</span> FlyBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">fly</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"使用翅膀飞行\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> FlyNoWay :<span class=\"keyword\">public</span> FlyBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">fly</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"不能飞行\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Quack :<span class=\"keyword\">public</span> QuackBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">quack</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"发出\\'嘎嘎\\'声！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Squeak :<span class=\"keyword\">public</span> QuackBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">quack</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"发出空气与橡皮摩擦声！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> QuackNoWay :<span class=\"keyword\">public</span> QuackBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">quack</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"不能发声！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Duck&#123;</div><div class=\"line\"><span class=\"keyword\">protected</span>:</div><div class=\"line\">\tFlyBehavior* flyBehavior;</div><div class=\"line\">\tQuackBehavior* quackBehavior;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">fly</span><span class=\"params\">()</span></span>&#123; flyBehavior-&gt;fly(); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">quack</span><span class=\"params\">()</span></span>&#123; quackBehavior-&gt;quack(); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">display</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> RubberDuck :<span class=\"keyword\">public</span> Duck&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tRubberDuck()&#123;</div><div class=\"line\">\t\tflyBehavior = <span class=\"keyword\">new</span> FlyNoWay();</div><div class=\"line\">\t\tquackBehavior = <span class=\"keyword\">new</span> Squeak();</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t~RubberDuck()&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (!flyBehavior) <span class=\"keyword\">delete</span> flyBehavior;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (!quackBehavior) <span class=\"keyword\">delete</span> quackBehavior;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">display</span><span class=\"params\">()</span></span>&#123;&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tRubberDuck rubberDuck;</div><div class=\"line\">\trubberDuck.fly();</div><div class=\"line\">\trubberDuck.quack();</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>","excerpt":"<p>最近参加了软考，在准备考试过程中发现其中给出设计类图让通过指定的设计模式进行设计的题目对于练习C++和软件开发是一种不错的的方式，因为学校中的C++课程只讲C++语言，虽然也讲了封装、继承、多态等特性，但是缺少相应的练习，使得没有深入的认识和理解。同时类似于程序设计、软件工程的课程设计，其中概要设计、详细设计也都是文档写的很好看，最后编码从没按照设计中的内容来写。最终导致了学完C++，用的时候却不知从何下手。所以这里总结了<a href=\"http://www.ruankao.org.cn/\">全国计算机技术与软件专业技术资格（水平）考试参考用书</a>系列中的部分题目，希望可以达到以下两个目的：</p>","more":"<ul>\n<li><p>练习C++，掌握理解更多的特性，而不是只停留在掌握语法的阶段</p>\n</li>\n<li><p>提高软件开发方面的能力，主要是熟悉、学习基本的设计模式，学会如何设计并按照设计实现相应的编码</p>\n</li>\n</ul>\n<p>但需要特别指出的是设计模式还是推荐阅读这方面的经典书籍：<a href=\"https://book.douban.com/subject/1052241/\">设计模式 可复用面向对象软件的基础</a>。我只是总结软考中的题目是因为题目可以让我们快速的对问题有所了解，并且我暂时也只是想练习C++，但如果想要对问题有系统、详细的了解还是需要读书。</p>\n<h3 id=\"Command（命令）模式\"><a href=\"#Command（命令）模式\" class=\"headerlink\" title=\"Command（命令）模式\"></a>Command（命令）模式</h3><p>例：某灯具厂商欲生产一个灯具遥控器，该遥控器具有7个可编程的插槽，每个插槽都有开关按钮，对应着一个不同的灯。利用该遥控器能够统一控制房间内该厂商所有品牌灯具的开关，现采用Command（命令）模式实现该遥控器的软件部分。Command模式的类图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/commandpattern.jpg\" alt=\"commandpattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</div><div class=\"line\">* Command Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 13</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Light&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"built_in\">string</span> name;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tLight(<span class=\"built_in\">string</span> name)&#123; <span class=\"keyword\">this</span>-&gt;name = name; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">on</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; name + <span class=\"string\">\" on\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">off</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; name + <span class=\"string\">\" off\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Command&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>&#123;&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> LightOnCommand :<span class=\"keyword\">public</span> Command&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tLight* light;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tLightOnCommand(Light* light)&#123; <span class=\"keyword\">this</span>-&gt;light = light; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>&#123; light-&gt;on(); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> LightOffCommand :<span class=\"keyword\">public</span> Command&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tLight* light;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tLightOffCommand(Light* light)&#123; <span class=\"keyword\">this</span>-&gt;light = light; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">execute</span><span class=\"params\">()</span></span>&#123; light-&gt;off(); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> RemoteControl&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tCommand* onCommands[<span class=\"number\">7</span>];</div><div class=\"line\">\tCommand* offCommands[<span class=\"number\">7</span>];</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tRemoteControl()&#123;&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setCommand</span><span class=\"params\">(<span class=\"keyword\">int</span> slot, Command* onCommand, Command* offCommand)</span></span>&#123;</div><div class=\"line\">\t\tonCommands[slot] = onCommand;</div><div class=\"line\">\t\toffCommands[slot] = offCommand;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">onButtonWasPushed</span><span class=\"params\">(<span class=\"keyword\">int</span> slot)</span></span>&#123; onCommands[slot]-&gt;execute(); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">offButtonWasPushed</span><span class=\"params\">(<span class=\"keyword\">int</span> slot)</span></span>&#123; offCommands[slot]-&gt;execute(); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">\tRemoteControl* remoteControl = <span class=\"keyword\">new</span> RemoteControl();</div><div class=\"line\">\tLight* livingRoomLight = <span class=\"keyword\">new</span> Light(<span class=\"string\">\"Living Room\"</span>);</div><div class=\"line\">\tLight* kitchenLight = <span class=\"keyword\">new</span> Light(<span class=\"string\">\"Kitchen\"</span>);</div><div class=\"line\">\tLightOnCommand* livingRoomLightOn = <span class=\"keyword\">new</span> LightOnCommand(livingRoomLight);</div><div class=\"line\">\tLightOffCommand* livingRoomLightOff = <span class=\"keyword\">new</span> LightOffCommand(livingRoomLight);</div><div class=\"line\">\tLightOnCommand* kitchenLightOn = <span class=\"keyword\">new</span> LightOnCommand(kitchenLight);</div><div class=\"line\">\tLightOffCommand* kitchenLightOff = <span class=\"keyword\">new</span> LightOffCommand(kitchenLight);</div><div class=\"line\">\tremoteControl-&gt;setCommand(<span class=\"number\">0</span>, livingRoomLightOn, livingRoomLightOff);</div><div class=\"line\">\tremoteControl-&gt;setCommand(<span class=\"number\">1</span>, kitchenLightOn, kitchenLightOff);</div><div class=\"line\">\tremoteControl-&gt;onButtonWasPushed(<span class=\"number\">0</span>);</div><div class=\"line\">\tremoteControl-&gt;offButtonWasPushed(<span class=\"number\">0</span>);</div><div class=\"line\">\tremoteControl-&gt;onButtonWasPushed(<span class=\"number\">1</span>);</div><div class=\"line\">\tremoteControl-&gt;offButtonWasPushed(<span class=\"number\">1</span>);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Observer（观察者）模式\"><a href=\"#Observer（观察者）模式\" class=\"headerlink\" title=\"Observer（观察者）模式\"></a>Observer（观察者）模式</h3><p>例：某实验室欲建立一个实验室环境监测系统，以显示实验室的温度、湿度以及洁净度等环境数据。当获取到最新的环境测量数据时，显示的环境数据能够更新。现在采用观察者（Observer）模式来开发该系统，观察者模式的类图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/observerpattern.jpg\" alt=\"observerpattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</div><div class=\"line\">* Observer Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 13</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;vector&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Observer&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(<span class=\"keyword\">float</span> temp, <span class=\"keyword\">float</span> humidity, <span class=\"keyword\">float</span> cleanness)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Subject&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">registerObserver</span><span class=\"params\">(Observer* o)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">removeObserver</span><span class=\"params\">(Observer* o)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">notifyObserver</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> EnvironmentData : <span class=\"keyword\">public</span> Subject&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"built_in\">vector</span>&lt;Observer*&gt; observers;</div><div class=\"line\">\t<span class=\"keyword\">float</span> temperature, humidity, cleanness;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">registerObserver</span><span class=\"params\">(Observer* o)</span></span>&#123; observers.push_back(o); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">removeObserver</span><span class=\"params\">(Observer* o)</span></span>&#123;&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">notifyObserver</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"built_in\">vector</span>&lt;Observer*&gt;::const_iterator it = observers.begin(); it != observers.end(); it++)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\t(*it)-&gt;update(temperature, humidity, cleanness);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">measurementsChanged</span><span class=\"params\">()</span></span>&#123; notifyObserver(); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setMeasurements</span><span class=\"params\">(<span class=\"keyword\">float</span> temperature, <span class=\"keyword\">float</span> humidity, <span class=\"keyword\">float</span> cleanness)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;temperature = temperature;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;humidity = humidity;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;cleanness = cleanness;</div><div class=\"line\">\t\tmeasurementsChanged();</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> CurrentConditionsDisplay : <span class=\"keyword\">public</span> Observer&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"keyword\">float</span> temperature, humidity, cleanness;</div><div class=\"line\">\tSubject* envData;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tCurrentConditionsDisplay(Subject* envData)&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;envData = envData;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;envData-&gt;registerObserver(<span class=\"keyword\">this</span>);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(<span class=\"keyword\">float</span> temperature, <span class=\"keyword\">float</span> humidity, <span class=\"keyword\">float</span> cleanness)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;temperature = temperature;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;humidity = humidity;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;cleanness = cleanness;</div><div class=\"line\">\t\tdisplay();</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">display</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; temperature &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; humidity &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; cleanness &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tEnvironmentData* envData = <span class=\"keyword\">new</span> EnvironmentData();</div><div class=\"line\">\tCurrentConditionsDisplay* currentDisplay = <span class=\"keyword\">new</span> CurrentConditionsDisplay(envData);</div><div class=\"line\">\tenvData-&gt;setMeasurements(<span class=\"number\">80</span>, <span class=\"number\">65</span>, <span class=\"number\">30.4f</span>);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Bridge（桥接）模式\"><a href=\"#Bridge（桥接）模式\" class=\"headerlink\" title=\"Bridge（桥接）模式\"></a>Bridge（桥接）模式</h3><p>例：欲开发一个绘图软件，要求使用不同的绘图程序绘制不同的图形。以绘制直线和圆形为例，对应的绘图程序如表所示。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">^-^</th>\n<th style=\"text-align:center\">DP1</th>\n<th style=\"text-align:center\">DP2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">绘制直线</td>\n<td style=\"text-align:center\">draw_a_line(x1,y1,x2,y2)</td>\n<td style=\"text-align:center\">drawline(x1,y1,x2,y2)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">绘制圆</td>\n<td style=\"text-align:center\">draw_a_circle(x,y,r)</td>\n<td style=\"text-align:center\">drawcircle(x,y,r)</td>\n</tr>\n</tbody>\n</table>\n<p>该绘制软件的扩展性要求，将不断扩充新的图形和新的绘图程序。为了避免出现类爆炸的情况，现采用桥接（Bridge）模式来实现上述要求，得到如图所示的类图。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/bridge.jpg\" alt=\"bridgepattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</div><div class=\"line\">* Bridge Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 15</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> DP1&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">draw_a_line</span><span class=\"params\">(<span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2)</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"DP1 draw_a_line\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">draw_a_circle</span><span class=\"params\">(<span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r)</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"DP1 draw_a_circle\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> DP2&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">drawline</span><span class=\"params\">(<span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2)</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"DP2 drawline\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">drawcircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r)</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Dp2 drawcircle\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Drawing&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> V1Drawing : <span class=\"keyword\">public</span> Drawing&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2)</span></span>&#123; DP1::draw_a_line(x1, y1, x2, y2); <span class=\"built_in\">cout</span> &lt;&lt; x1 &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; y1 &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; x2 &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; y2 &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r)</span></span>&#123; DP1::draw_a_circle(x, y, r); <span class=\"built_in\">cout</span> &lt;&lt; x &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; y &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; r &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> V2Drawing : <span class=\"keyword\">public</span> Drawing&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2)</span></span>&#123; DP2::drawline(x1, y1, x2, y2); <span class=\"built_in\">cout</span> &lt;&lt; x1 &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; y1 &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; x2 &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; y2 &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r)</span></span>&#123; DP2::drawcircle(x, y, r); <span class=\"built_in\">cout</span> &lt;&lt; x &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; y &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; r &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Shape&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tShape(Drawing* dp)&#123; _dp = dp; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2)</span></span>&#123; _dp-&gt;drawLine(x1, y1, x2, y2); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r)</span></span>&#123; _dp-&gt;drawCircle(x, y, r); &#125;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tDrawing* _dp;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Rectangle : <span class=\"keyword\">public</span> Shape&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"keyword\">double</span> _x1, _y1, _x2, _y2;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tRectangle(Drawing* dp, <span class=\"keyword\">double</span> x1, <span class=\"keyword\">double</span> y1, <span class=\"keyword\">double</span> x2, <span class=\"keyword\">double</span> y2) : Shape(dp)&#123; _x1 = x1; _y1 = y1; _x2 = x2; _y2 = y2; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">draw</span><span class=\"params\">()</span></span>&#123; drawLine(_x1, _y1, _x2, _y2); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Circle : <span class=\"keyword\">public</span> Shape&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"keyword\">double</span> _x, _y, _r;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tCircle(Drawing* dp, <span class=\"keyword\">double</span> x, <span class=\"keyword\">double</span> y, <span class=\"keyword\">double</span> r) : Shape(dp)&#123; _x = x; _y = y; _r = r; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">draw</span><span class=\"params\">()</span></span>&#123; drawCircle(_x, _y, _r); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tV1Drawing* dp1 = <span class=\"keyword\">new</span> V1Drawing();</div><div class=\"line\">\tV2Drawing* dp2 = <span class=\"keyword\">new</span> V2Drawing();</div><div class=\"line\">\tRectangle* rectangle1 = <span class=\"keyword\">new</span> Rectangle(dp1, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>);</div><div class=\"line\">\trectangle1-&gt;draw();</div><div class=\"line\">\tRectangle* rectangle2 = <span class=\"keyword\">new</span> Rectangle(dp2, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>);</div><div class=\"line\">\trectangle2-&gt;draw();</div><div class=\"line\">\tCircle* circle1 = <span class=\"keyword\">new</span> Circle(dp1, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>);</div><div class=\"line\">\tcircle1-&gt;draw();</div><div class=\"line\">\tCircle* circle2 = <span class=\"keyword\">new</span> Circle(dp2, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>);</div><div class=\"line\">\tcircle2-&gt;draw();</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Prototype（原型）模式\"><a href=\"#Prototype（原型）模式\" class=\"headerlink\" title=\"Prototype（原型）模式\"></a>Prototype（原型）模式</h3><p>例：现要求实现一个能够自动生成求职简历的程序，简历的基本内容包括求职者的姓名、性别、年龄及工作经历。希望每份简历中的工作经历有所不同，并尽量减少程序中的重复代码。<br>现采用原型模式（Prototype）来实现上述要求，得到如图所示的类图。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/prototype.jpg\" alt=\"prototypepattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</div><div class=\"line\">* Prototype Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 15</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Cloneable&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> Cloneable* <span class=\"title\">clone</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> WorkExperience : <span class=\"keyword\">public</span> Cloneable&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"built_in\">string</span> workDate;</div><div class=\"line\">\t<span class=\"built_in\">string</span> company;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\">Cloneable* <span class=\"title\">clone</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\tWorkExperience* obj = <span class=\"keyword\">new</span> WorkExperience();</div><div class=\"line\">\t\tobj-&gt;workDate = <span class=\"keyword\">this</span>-&gt;workDate;</div><div class=\"line\">\t\tobj-&gt;company = <span class=\"keyword\">this</span>-&gt;company;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> obj;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setWorkDate</span><span class=\"params\">(<span class=\"built_in\">string</span> wd)</span></span>&#123; </div><div class=\"line\">\t\tworkDate = wd; </div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setCompany</span><span class=\"params\">(<span class=\"built_in\">string</span> comp)</span></span>&#123; </div><div class=\"line\">\t\tcompany = comp; </div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">toString</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> workDate + company;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Resume : <span class=\"keyword\">public</span> Cloneable&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"built_in\">string</span> name, sex, age;</div><div class=\"line\">\tWorkExperience* work;</div><div class=\"line\">\tResume(WorkExperience* work)&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;work = (WorkExperience*)work-&gt;clone();</div><div class=\"line\">\t&#125;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tResume(<span class=\"built_in\">string</span> name)&#123; </div><div class=\"line\">\t\twork = <span class=\"keyword\">new</span> WorkExperience(); </div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;name = name; </div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setPersonalInfo</span><span class=\"params\">(<span class=\"built_in\">string</span> sex, <span class=\"built_in\">string</span> age)</span></span>&#123; </div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;sex = sex; </div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;age = age; </div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setWorkExperience</span><span class=\"params\">(<span class=\"built_in\">string</span> workDate, <span class=\"built_in\">string</span> company)</span></span>&#123; </div><div class=\"line\">\t\twork-&gt;setWorkDate(workDate); </div><div class=\"line\">\t\twork-&gt;setCompany(company); </div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\">Cloneable* <span class=\"title\">clone</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\tResume* obj = <span class=\"keyword\">new</span> Resume(<span class=\"keyword\">this</span>-&gt;work);</div><div class=\"line\">\t\tobj-&gt;name = <span class=\"keyword\">this</span>-&gt;name;</div><div class=\"line\">\t\tobj-&gt;sex = <span class=\"keyword\">this</span>-&gt;sex;</div><div class=\"line\">\t\tobj-&gt;age = <span class=\"keyword\">this</span>-&gt;age;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> obj;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">toString</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> name + sex + age + work-&gt;toString();</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tResume* a = <span class=\"keyword\">new</span> Resume(<span class=\"string\">\"张三\"</span>);</div><div class=\"line\">\ta-&gt;setPersonalInfo(<span class=\"string\">\"男\"</span>, <span class=\"string\">\"29\"</span>);</div><div class=\"line\">\ta-&gt;setWorkExperience(<span class=\"string\">\"1998-2000\"</span>, <span class=\"string\">\"A company\"</span>);</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; a-&gt;toString() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\tResume* b = (Resume*)a-&gt;clone();</div><div class=\"line\">\tb-&gt;setWorkExperience(<span class=\"string\">\"2001-2006\"</span>, <span class=\"string\">\"B company\"</span>);</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; b-&gt;toString() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; a-&gt;toString() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Abstract-Factory（抽象工厂）模式\"><a href=\"#Abstract-Factory（抽象工厂）模式\" class=\"headerlink\" title=\"Abstract Factory（抽象工厂）模式\"></a>Abstract Factory（抽象工厂）模式</h3><p>例：现欲开发一个软件系统，要求能够同时支持多种不同的数据库，为此采用抽象工厂模式设计该系统。以SQL Server和Access两种数据库以及系统中的数据库表Department为例，其类图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/abstractfactory.jpg\" alt=\"abstractfactorypattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</div><div class=\"line\">* Abstract Factory Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 16</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//数据库表</span></div><div class=\"line\"><span class=\"keyword\">class</span> Department&#123;&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> IDepartment&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">insert</span><span class=\"params\">(Department* department)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> Department* <span class=\"title\">getDepartment</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> SqlserverDepartment :<span class=\"keyword\">public</span> IDepartment&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insert</span><span class=\"params\">(Department* department)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Insert a record into Department in SQL Server!\\n\"</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\">Department* <span class=\"title\">getDepartment</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span></span>&#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Department(); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> AccessDepartment :<span class=\"keyword\">public</span> IDepartment&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insert</span><span class=\"params\">(Department* department)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Insert a record into Department in ACCESS!\\n\"</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\">Department* <span class=\"title\">getDepartment</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span></span>&#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Department(); &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> IFactory&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> IDepartment* <span class=\"title\">creatDepartment</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> SqlserverFactory :<span class=\"keyword\">public</span> IFactory&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\">IDepartment* <span class=\"title\">creatDepartment</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> SqlserverDepartment();</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> AccessFactory :<span class=\"keyword\">public</span> IFactory&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\">IDepartment* <span class=\"title\">creatDepartment</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> AccessDepartment();</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tSqlserverFactory* sqlFactory = <span class=\"keyword\">new</span> SqlserverFactory();</div><div class=\"line\">\tSqlserverDepartment* sqlDepartment = (SqlserverDepartment*)sqlFactory-&gt;creatDepartment();</div><div class=\"line\">\tDepartment* a = <span class=\"keyword\">new</span> Department();</div><div class=\"line\">\tsqlDepartment-&gt;insert(a);</div><div class=\"line\"></div><div class=\"line\">\tAccessFactory* accessFactory = <span class=\"keyword\">new</span> AccessFactory();</div><div class=\"line\">\tAccessDepartment* accessDepartment = (AccessDepartment*)accessFactory-&gt;creatDepartment();</div><div class=\"line\">\taccessDepartment-&gt;insert(a);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Decorator（装饰）模式\"><a href=\"#Decorator（装饰）模式\" class=\"headerlink\" title=\"Decorator（装饰）模式\"></a>Decorator（装饰）模式</h3><p>例：某咖啡店在卖咖啡时，可以根据顾客的要求在其中加入各种配料，咖啡店会根据所加入的配料来计算费用。咖啡店所供应的咖啡及配料的种类和价格如表所示。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">咖啡</th>\n<th style=\"text-align:center\">价格/杯（￥）</th>\n<th style=\"text-align:center\">配料</th>\n<th style=\"text-align:center\">价格/杯（￥）</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">蒸馏咖啡（Espresso）</td>\n<td style=\"text-align:center\">25</td>\n<td style=\"text-align:center\">摩卡（Mocha）</td>\n<td style=\"text-align:center\">10</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">深度烘焙咖啡（DarkRoast）</td>\n<td style=\"text-align:center\">20</td>\n<td style=\"text-align:center\">奶泡（Whip）</td>\n<td style=\"text-align:center\">8</td>\n</tr>\n</tbody>\n</table>\n<p>现采用装饰器（Decorator）模式来实现计算费用的功能，得到如图所示的类图。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/decorator.jpg\" alt=\"decoratorpattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</div><div class=\"line\">* Decorator Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 16</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> ESPRESSO_PRICE = <span class=\"number\">25</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> DARKROAST_PRICE = <span class=\"number\">20</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> MOCHA_PRICE = <span class=\"number\">10</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> WHIP_PRICE = <span class=\"number\">8</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//饮料</span></div><div class=\"line\"><span class=\"keyword\">class</span> Beverage&#123;</div><div class=\"line\"><span class=\"keyword\">protected</span>:</div><div class=\"line\">\t<span class=\"built_in\">string</span> description;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"built_in\">string</span> <span class=\"title\">getDescription</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> description;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">int</span> <span class=\"title\">cost</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//配料</span></div><div class=\"line\"><span class=\"keyword\">class</span> CondimentDecorator :<span class=\"keyword\">public</span> Beverage&#123;</div><div class=\"line\"><span class=\"keyword\">protected</span>:</div><div class=\"line\">\tBeverage* beverage;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//蒸馏咖啡</span></div><div class=\"line\"><span class=\"keyword\">class</span> Espresso :<span class=\"keyword\">public</span> Beverage&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tEspresso()</div><div class=\"line\">\t&#123;</div><div class=\"line\">\t\tdescription = <span class=\"string\">\"Espresso\"</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">cost</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> ESPRESSO_PRICE;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//深度烘焙咖啡</span></div><div class=\"line\"><span class=\"keyword\">class</span> DarkRoast :<span class=\"keyword\">public</span> Beverage&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tDarkRoast()</div><div class=\"line\">\t&#123;</div><div class=\"line\">\t\tdescription = <span class=\"string\">\"DarkRoast\"</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">cost</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> DARKROAST_PRICE;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//摩卡</span></div><div class=\"line\"><span class=\"keyword\">class</span> Mocha :<span class=\"keyword\">public</span> CondimentDecorator&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tMocha(Beverage* beverage)&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;beverage = beverage;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">getDescription</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> beverage-&gt;getDescription() + <span class=\"string\">\",Mocha\"</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">cost</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> MOCHA_PRICE + beverage-&gt;cost();</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//奶泡</span></div><div class=\"line\"><span class=\"keyword\">class</span> Whip :<span class=\"keyword\">public</span> CondimentDecorator&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tWhip(Beverage* beverage)&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;beverage = beverage;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">getDescription</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> beverage-&gt;getDescription() + <span class=\"string\">\",Whip\"</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">cost</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> WHIP_PRICE + beverage-&gt;cost();</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tBeverage* beverage = <span class=\"keyword\">new</span> DarkRoast();</div><div class=\"line\">\tbeverage = <span class=\"keyword\">new</span> Mocha(beverage);</div><div class=\"line\">\tbeverage = <span class=\"keyword\">new</span> Whip(beverage);</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; beverage-&gt;getDescription() &lt;&lt; <span class=\"string\">\"￥\"</span> &lt;&lt; beverage-&gt;cost() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Composition（组合）模式\"><a href=\"#Composition（组合）模式\" class=\"headerlink\" title=\"Composition（组合）模式\"></a>Composition（组合）模式</h3><p>例：某饭店在不同的时段提供多种不同的餐饮，其菜单的结构图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/compositionstructure.jpg\" alt=\"composition\"></p>\n<p>现在采用组合（Composition）模式来构造该饭店的菜单，使得饭店可以方便地在其中增加新的餐饮形式，得到如图所示的类图。其中MenuComposition为抽象类，定义了添加（add）新菜单和打印饭店所有菜单信息（print）的方法接口。类Menu表示饭店提供的每种餐饮形式的菜单，如煎饼屋菜单、咖啡屋菜单。每种菜单中都可以添加子菜单，例如图中的甜点菜单。类MenuItem表示菜单中的菜式。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/composition.jpg\" alt=\"compositionpattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</div><div class=\"line\">* Composition Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 16</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;list&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> MenuComponent&#123;</div><div class=\"line\"><span class=\"keyword\">protected</span>:</div><div class=\"line\">\t<span class=\"built_in\">string</span> name;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tMenuComponent(<span class=\"built_in\">string</span> name)&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;name = name;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">getName</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">return</span> name;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">add</span><span class=\"params\">(MenuComponent* menuComponent)</span> </span>= <span class=\"number\">0</span>; <span class=\"comment\">//添加新菜单</span></div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">print</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>; <span class=\"comment\">//打印菜单信息</span></div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> MenuItem :<span class=\"keyword\">public</span> MenuComponent&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"keyword\">double</span> price;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tMenuItem(<span class=\"built_in\">string</span> name, <span class=\"keyword\">double</span> price) :MenuComponent(name)&#123; <span class=\"keyword\">this</span>-&gt;price = price; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">double</span> <span class=\"title\">getPrice</span><span class=\"params\">()</span></span>&#123; <span class=\"keyword\">return</span> price; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">add</span><span class=\"params\">(MenuComponent* menuComponent)</span></span>&#123; <span class=\"keyword\">return</span> ; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">print</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; getName() &lt;&lt; <span class=\"string\">\",\"</span> &lt;&lt; getPrice() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Menu :<span class=\"keyword\">public</span> MenuComponent&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\t<span class=\"built_in\">list</span>&lt;MenuComponent*&gt; menuComponents;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tMenu(<span class=\"built_in\">string</span> name) :MenuComponent(name)&#123;&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">add</span><span class=\"params\">(MenuComponent* menuComponent)</span></span>&#123;</div><div class=\"line\">\t\tmenuComponents.push_back(menuComponent); </div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">print</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"\\n\"</span> &lt;&lt; getName() &lt;&lt; <span class=\"string\">\"\\n-----------------------------\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t\t<span class=\"built_in\">std</span>::<span class=\"built_in\">list</span>&lt;MenuComponent*&gt;::iterator iter;</div><div class=\"line\">\t\t<span class=\"keyword\">for</span> (iter = menuComponents.begin(); iter != menuComponents.end();iter++)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\t(*iter)-&gt;print();</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tMenuComponent* allMenus = <span class=\"keyword\">new</span> Menu(<span class=\"string\">\"ALL MENUS\"</span>);</div><div class=\"line\">\tMenuComponent* dinerMenu = <span class=\"keyword\">new</span> Menu(<span class=\"string\">\"DINER　MENU\"</span>);</div><div class=\"line\">\tMenuComponent* coffee = <span class=\"keyword\">new</span> MenuItem(<span class=\"string\">\"Espresso\"</span>, <span class=\"number\">20</span>);</div><div class=\"line\">\tallMenus-&gt;add(coffee);</div><div class=\"line\">\tMenuComponent* dumpling = <span class=\"keyword\">new</span> MenuItem(<span class=\"string\">\"Dumpling\"</span>, <span class=\"number\">30</span>);</div><div class=\"line\">\tdinerMenu-&gt;add(dumpling);</div><div class=\"line\">\tallMenus-&gt;add(dinerMenu);</div><div class=\"line\">\tallMenus-&gt;print();</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"State（状态）模式\"><a href=\"#State（状态）模式\" class=\"headerlink\" title=\"State（状态）模式\"></a>State（状态）模式</h3><p>例：某大型商场内安装了多个简易的纸巾售卖机，自动出售2元钱一包的纸巾，且每次仅售出一包纸巾。纸巾售卖机的状态图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/state1.jpg\" alt=\"state\"></p>\n<p>采用状态（State）模式来实现该纸巾售卖机，得到如图所示的类图。其中类State为抽象类，定义了投币、退币、出纸巾等方法接口。类SoldState、SoldOutState、NoQuarterState和HasQuarterState分别对应图中纸巾售卖机的4种状态：售出纸巾、纸巾售完、没有投币、有2元钱。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/state.jpg\" alt=\"statepattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div><div class=\"line\">136</div><div class=\"line\">137</div><div class=\"line\">138</div><div class=\"line\">139</div><div class=\"line\">140</div><div class=\"line\">141</div><div class=\"line\">142</div><div class=\"line\">143</div><div class=\"line\">144</div><div class=\"line\">145</div><div class=\"line\">146</div><div class=\"line\">147</div><div class=\"line\">148</div><div class=\"line\">149</div><div class=\"line\">150</div><div class=\"line\">151</div><div class=\"line\">152</div><div class=\"line\">153</div><div class=\"line\">154</div><div class=\"line\">155</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</div><div class=\"line\">* State Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 17</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> TissueMachine;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> State&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">insertQuarter</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;<span class=\"comment\">//投币</span></div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">ejectQuarter</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;<span class=\"comment\">//退币</span></div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">turnCrank</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;<span class=\"comment\">//按下“出纸巾”按钮</span></div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">dispense</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;<span class=\"comment\">//出纸巾</span></div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//没有投币</span></div><div class=\"line\"><span class=\"keyword\">class</span> NoQuarterState :<span class=\"keyword\">public</span> State&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tTissueMachine* tissueMachine;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tNoQuarterState(TissueMachine* tissueMachine)&#123; <span class=\"keyword\">this</span>-&gt;tissueMachine = tissueMachine; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insertQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">ejectQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">turnCrank</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">dispense</span><span class=\"params\">()</span></span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//有2元钱（已投币）</span></div><div class=\"line\"><span class=\"keyword\">class</span> HasQuarterState :<span class=\"keyword\">public</span> State&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tTissueMachine* tissueMachine;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tHasQuarterState(TissueMachine* tissueMachine)&#123; <span class=\"keyword\">this</span>-&gt;tissueMachine = tissueMachine; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insertQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">ejectQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">turnCrank</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">dispense</span><span class=\"params\">()</span></span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//售出纸巾</span></div><div class=\"line\"><span class=\"keyword\">class</span> SoldState :<span class=\"keyword\">public</span> State&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tTissueMachine* tissueMachine;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tSoldState(TissueMachine* tissueMachine)&#123; <span class=\"keyword\">this</span>-&gt;tissueMachine = tissueMachine; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insertQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">ejectQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">turnCrank</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">dispense</span><span class=\"params\">()</span></span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//纸巾售完</span></div><div class=\"line\"><span class=\"keyword\">class</span> SoldOutState :<span class=\"keyword\">public</span> State&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tTissueMachine* tissueMachine;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tSoldOutState(TissueMachine* tissueMachine)&#123; <span class=\"keyword\">this</span>-&gt;tissueMachine = tissueMachine; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insertQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">ejectQuarter</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">turnCrank</span><span class=\"params\">()</span></span>;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">dispense</span><span class=\"params\">()</span></span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> TissueMachine&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tState *soldOutState, *noQuarterState, *hasQuarterState, *soldState, *state;</div><div class=\"line\">\t<span class=\"keyword\">int</span> count;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tTissueMachine(<span class=\"keyword\">int</span> numbers)&#123;</div><div class=\"line\">\t\tsoldOutState = <span class=\"keyword\">new</span> SoldOutState(<span class=\"keyword\">this</span>);</div><div class=\"line\">\t\tnoQuarterState = <span class=\"keyword\">new</span> NoQuarterState(<span class=\"keyword\">this</span>);</div><div class=\"line\">\t\thasQuarterState = <span class=\"keyword\">new</span> HasQuarterState(<span class=\"keyword\">this</span>);</div><div class=\"line\">\t\tsoldState = <span class=\"keyword\">new</span> SoldState(<span class=\"keyword\">this</span>);</div><div class=\"line\">\t\t<span class=\"keyword\">this</span>-&gt;count = numbers;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (count &gt; <span class=\"number\">0</span>)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\t<span class=\"keyword\">this</span>-&gt;state = noQuarterState;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">insertQuarter</span><span class=\"params\">()</span></span>&#123; state-&gt;insertQuarter(); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">ejectQuarter</span><span class=\"params\">()</span></span>&#123; state-&gt;ejectQuarter(); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">turnCrank</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\t\tstate-&gt;turnCrank();</div><div class=\"line\">\t\tstate-&gt;dispense();</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setState</span><span class=\"params\">(State* state)</span></span>&#123; <span class=\"keyword\">this</span>-&gt;state = state; &#125;</div><div class=\"line\">\t<span class=\"function\">State* <span class=\"title\">getHasQuarterState</span><span class=\"params\">()</span></span>&#123; <span class=\"keyword\">return</span> hasQuarterState; &#125;</div><div class=\"line\">\t<span class=\"function\">State* <span class=\"title\">getNoQuarterState</span><span class=\"params\">()</span></span>&#123; <span class=\"keyword\">return</span> noQuarterState; &#125;</div><div class=\"line\">\t<span class=\"function\">State* <span class=\"title\">getSoldState</span><span class=\"params\">()</span></span>&#123; <span class=\"keyword\">return</span> soldState; &#125;</div><div class=\"line\">\t<span class=\"function\">State* <span class=\"title\">getSoldOutState</span><span class=\"params\">()</span></span>&#123; <span class=\"keyword\">return</span> soldOutState; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setCount</span><span class=\"params\">(<span class=\"keyword\">int</span> numbers)</span></span>&#123; <span class=\"keyword\">this</span>-&gt;count = numbers; &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">getCount</span><span class=\"params\">()</span></span>&#123; <span class=\"keyword\">return</span> count; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">void</span> SoldOutState::insertQuarter()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"机器无纸巾，已退回硬币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> SoldOutState::ejectQuarter()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"自动售货机根本没有硬币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> SoldOutState::turnCrank()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"机器无纸巾，请不要操作机器\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> SoldOutState::dispense()&#123;&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">void</span> NoQuarterState::insertQuarter()&#123;</div><div class=\"line\">\ttissueMachine-&gt;setState(tissueMachine-&gt;getHasQuarterState());</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"已投币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">void</span> NoQuarterState::ejectQuarter()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"自动售货机根本没有硬币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> NoQuarterState::turnCrank()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"请投币\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> NoQuarterState::dispense()&#123;&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">void</span> HasQuarterState::insertQuarter()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"已投币！请不要重复投币！已退回重复投币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> HasQuarterState::ejectQuarter()&#123;</div><div class=\"line\">\ttissueMachine-&gt;setState(tissueMachine-&gt;getNoQuarterState());</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"已取币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">void</span> HasQuarterState::turnCrank()&#123;</div><div class=\"line\">\ttissueMachine-&gt;setState(tissueMachine-&gt;getSoldState());</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"请等待自动售货机出纸巾！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">void</span> HasQuarterState::dispense()&#123;&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">void</span> SoldState::insertQuarter()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"请等待自动售货机出纸巾！请不要投币！已退回投币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> SoldState::ejectQuarter()&#123;</div><div class=\"line\">\ttissueMachine-&gt;setState(tissueMachine-&gt;getNoQuarterState());</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"请等待自动售货机出纸巾！无法取回已消费的硬币！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">void</span> SoldState::turnCrank()&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"请等待自动售货机出纸巾！已响应你的操作！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\"><span class=\"keyword\">void</span> SoldState::dispense()&#123;</div><div class=\"line\">\t<span class=\"keyword\">if</span> (tissueMachine-&gt;getCount() &gt; <span class=\"number\">0</span>)&#123;</div><div class=\"line\">\t\ttissueMachine-&gt;setState(tissueMachine-&gt;getNoQuarterState());</div><div class=\"line\">\t\ttissueMachine-&gt;setCount(tissueMachine-&gt;getCount() - <span class=\"number\">1</span>);</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"你的纸巾，请拿好！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">\t\ttissueMachine-&gt;setState(tissueMachine-&gt;getSoldOutState());</div><div class=\"line\">\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"已退回你的硬币！纸巾已卖光，等待进货！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tTissueMachine *tissueMachine = <span class=\"keyword\">new</span> TissueMachine(<span class=\"number\">1</span>);</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"纸巾数：\"</span> &lt;&lt; tissueMachine-&gt;getCount() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\ttissueMachine-&gt;insertQuarter();</div><div class=\"line\">\ttissueMachine-&gt;turnCrank();</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"纸巾数：\"</span> &lt;&lt; tissueMachine-&gt;getCount() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\ttissueMachine-&gt;turnCrank();</div><div class=\"line\">\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"纸巾数：\"</span> &lt;&lt; tissueMachine-&gt;getCount() &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\ttissueMachine-&gt;insertQuarter();</div><div class=\"line\">\ttissueMachine-&gt;turnCrank();</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Chain-of-Responsibility（责任链）模式\"><a href=\"#Chain-of-Responsibility（责任链）模式\" class=\"headerlink\" title=\"Chain of Responsibility（责任链）模式\"></a>Chain of Responsibility（责任链）模式</h3><p>例：已知某企业的采购审批是分级进行的，即根据采购金额的不同由不同层次的主管人员来审批，主任可以审批5万元以下（不包括5万元）的采购单，副董事长可以审批5万元至10万元（不包括10万元）的采购单，董事长可以审批10万元至50万元（不包括50万元）的采购单，50万元及以上的采购单就需要开会讨论决定。</p>\n<p>采用责任链设计模式（Chain of Responsibility）对上述过程进行设计后得到的类图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/chainofresponsibility.jpg\" alt=\"chainofresponsibilitypattern\"></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</div><div class=\"line\">* Chain of Responsibility Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 17</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//采购单</span></div><div class=\"line\"><span class=\"keyword\">class</span> PurchaseRequest&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"keyword\">double</span> amount;<span class=\"comment\">//采购金额</span></div><div class=\"line\">\t<span class=\"keyword\">int</span> number;<span class=\"comment\">//采购单编号</span></div><div class=\"line\">\t<span class=\"built_in\">string</span> purpose;<span class=\"comment\">//采购目的</span></div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//审批者</span></div><div class=\"line\"><span class=\"keyword\">class</span> Approver&#123;</div><div class=\"line\"><span class=\"keyword\">private</span>:</div><div class=\"line\">\tApprover* successor;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tApprover()&#123;</div><div class=\"line\">\t\tsuccessor = <span class=\"literal\">NULL</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">processRequest</span><span class=\"params\">(PurchaseRequest aRequest)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (successor != <span class=\"literal\">NULL</span>)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\tsuccessor-&gt;processRequest(aRequest);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setSuccessor</span><span class=\"params\">(Approver* aSuccessor)</span></span>&#123;</div><div class=\"line\">\t\tsuccessor = aSuccessor;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//例会</span></div><div class=\"line\"><span class=\"keyword\">class</span> Congress :<span class=\"keyword\">public</span> Approver&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">processRequest</span><span class=\"params\">(PurchaseRequest aRequest)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (aRequest.amount &gt;= <span class=\"number\">500000</span>)&#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"例会正在审批\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t<span class=\"keyword\">else</span></div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\tApprover::processRequest(aRequest);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//董事长</span></div><div class=\"line\"><span class=\"keyword\">class</span> President :<span class=\"keyword\">public</span> Approver&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">processRequest</span><span class=\"params\">(PurchaseRequest aRequest)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (aRequest.amount &gt;= <span class=\"number\">100000</span> &amp;&amp; aRequest.amount &lt; <span class=\"number\">500000</span>)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"董事长正在审批\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t<span class=\"keyword\">else</span></div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\tApprover::processRequest(aRequest);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//副董事长</span></div><div class=\"line\"><span class=\"keyword\">class</span> VicePresident :<span class=\"keyword\">public</span> Approver&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">processRequest</span><span class=\"params\">(PurchaseRequest aRequest)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (aRequest.amount &gt;= <span class=\"number\">50000</span> &amp;&amp; aRequest.amount &lt; <span class=\"number\">100000</span>)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"副董事长正在审批\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t<span class=\"keyword\">else</span></div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\tApprover::processRequest(aRequest);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//主任</span></div><div class=\"line\"><span class=\"keyword\">class</span> Director :<span class=\"keyword\">public</span> Approver&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">processRequest</span><span class=\"params\">(PurchaseRequest aRequest)</span></span>&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (aRequest.amount &lt; <span class=\"number\">50000</span>)</div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"主任正在审批\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</div><div class=\"line\">\t\t&#125; </div><div class=\"line\">\t\t<span class=\"keyword\">else</span></div><div class=\"line\">\t\t&#123;</div><div class=\"line\">\t\t\tApprover::processRequest(aRequest);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tCongress meeting;</div><div class=\"line\">\tPresident Tammy;</div><div class=\"line\">\tVicePresident Sam;</div><div class=\"line\">\tDirector Larry;</div><div class=\"line\">\tmeeting.setSuccessor(<span class=\"literal\">NULL</span>);</div><div class=\"line\">\tTammy.setSuccessor(&amp;meeting);</div><div class=\"line\">\tSam.setSuccessor(&amp;Tammy);</div><div class=\"line\">\tLarry.setSuccessor(&amp;Sam);</div><div class=\"line\"></div><div class=\"line\">\tPurchaseRequest aRequest;</div><div class=\"line\">\t<span class=\"built_in\">cin</span> &gt;&gt; aRequest.amount;</div><div class=\"line\">\tLarry.processRequest(aRequest);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Strategy（策略）模式\"><a href=\"#Strategy（策略）模式\" class=\"headerlink\" title=\"Strategy（策略）模式\"></a>Strategy（策略）模式</h3><p>例：某游戏公司现欲开发一款面向儿童的模拟游戏，该游戏主要模拟现实世界中各种鸭子的发声特征、飞行特征和外观特征。游戏需要模拟的鸭子种类及其特征如表所示。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">鸭子种类</th>\n<th style=\"text-align:center\">发声特征</th>\n<th style=\"text-align:center\">飞行特征</th>\n<th style=\"text-align:center\">外观特征</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">灰鸭(MallardDuck)</td>\n<td style=\"text-align:center\">发出“嘎嘎”声(Quack)</td>\n<td style=\"text-align:center\">用翅膀飞行(FlyWithWings)</td>\n<td style=\"text-align:center\">灰色羽毛</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">红头鸭(RedHeadDuck)</td>\n<td style=\"text-align:center\">发出“嘎嘎”声(Quack)</td>\n<td style=\"text-align:center\">用翅膀飞行(FlyWithWings)</td>\n<td style=\"text-align:center\">灰色羽毛、头部红色</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">棉花鸭(CottonDuck)</td>\n<td style=\"text-align:center\">不发声(QuackNoWay)</td>\n<td style=\"text-align:center\">不能飞行(FlyNoWay)</td>\n<td style=\"text-align:center\">白色</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">橡皮鸭(RubberDuck)</td>\n<td style=\"text-align:center\">发出橡皮与空气摩擦的声音(Squeak)</td>\n<td style=\"text-align:center\">不能飞行(FlyNoWay)</td>\n<td style=\"text-align:center\">黑白橡皮色</td>\n</tr>\n</tbody>\n</table>\n<p>为支持将来能够模拟更多种类鸭子的特性，采用策略（Strategy）模式设计的类图如图所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/designpatterns/strategy.jpg\" alt=\"strategy\"></p>\n<p>其中，Duck为抽象类，描述了抽象的鸭子，而类RubberDuck、MallardDuck、CottonDuck和RedHeadDuck分别描述具体的鸭子种类，方法fly()、quack()和display()分别表示不同种类的鸭子都具有飞行特征、发声特征和外观特征；类FlyBehavior与QuackBehavior为抽象类，分别用于表示抽象的飞行行为与发声行为；类FlyNoWay与FlyWithWings分别描述不能飞行的行为和用翅膀飞行的行为；类Quack、Squeak与QuackNoWay分别描述发出“嘎嘎”声的行为、发出橡皮与空气摩擦声的行为与不发声的行为。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*************************************************</div><div class=\"line\">* Strategy Pattern</div><div class=\"line\">* Author : robocoder</div><div class=\"line\">* Date : 2016 - 11 - 17</div><div class=\"line\">* HomePage : https://robocoderhan.github.io/</div><div class=\"line\">* Email : robocoder@foxmail.com</div><div class=\"line\">*************************************************/</span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> <span class=\"built_in\">std</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> FlyBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">fly</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> QuackBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">quack</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> FlyWithWings :<span class=\"keyword\">public</span> FlyBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">fly</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"使用翅膀飞行\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> FlyNoWay :<span class=\"keyword\">public</span> FlyBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">fly</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"不能飞行\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Quack :<span class=\"keyword\">public</span> QuackBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">quack</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"发出\\'嘎嘎\\'声！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Squeak :<span class=\"keyword\">public</span> QuackBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">quack</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"发出空气与橡皮摩擦声！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> QuackNoWay :<span class=\"keyword\">public</span> QuackBehavior&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">quack</span><span class=\"params\">()</span></span>&#123; <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"不能发声！\"</span> &lt;&lt; <span class=\"built_in\">endl</span>; &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> Duck&#123;</div><div class=\"line\"><span class=\"keyword\">protected</span>:</div><div class=\"line\">\tFlyBehavior* flyBehavior;</div><div class=\"line\">\tQuackBehavior* quackBehavior;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">fly</span><span class=\"params\">()</span></span>&#123; flyBehavior-&gt;fly(); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">quack</span><span class=\"params\">()</span></span>&#123; quackBehavior-&gt;quack(); &#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">virtual</span> <span class=\"keyword\">void</span> <span class=\"title\">display</span><span class=\"params\">()</span> </span>= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">class</span> RubberDuck :<span class=\"keyword\">public</span> Duck&#123;</div><div class=\"line\"><span class=\"keyword\">public</span>:</div><div class=\"line\">\tRubberDuck()&#123;</div><div class=\"line\">\t\tflyBehavior = <span class=\"keyword\">new</span> FlyNoWay();</div><div class=\"line\">\t\tquackBehavior = <span class=\"keyword\">new</span> Squeak();</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t~RubberDuck()&#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (!flyBehavior) <span class=\"keyword\">delete</span> flyBehavior;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (!quackBehavior) <span class=\"keyword\">delete</span> quackBehavior;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">display</span><span class=\"params\">()</span></span>&#123;&#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">\tRubberDuck rubberDuck;</div><div class=\"line\">\trubberDuck.fly();</div><div class=\"line\">\trubberDuck.quack();</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"},{"title":"统计学习方法读书笔记","date":"2016-11-03T01:35:53.000Z","_content":"\n> [统计学习方法](https://book.douban.com/subject/10590856/)的读书总结，详细的推导和一些证明均没做总结，建议阅读原书。\n\n<!--more-->\n\n## 第一章统计学习方法概论\n\n![第一章统计学习方法概论](http://ofzyomgms.bkt.clouddn.com/statisticlearningnotes/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95%E6%A6%82%E8%AE%BA.png)\n\n## 第二章感知机\n\n![第二章感知机](http://ofzyomgms.bkt.clouddn.com/statisticlearningnotes/%E6%84%9F%E7%9F%A5%E6%9C%BA.jpg)\n\n## 第三章k近邻法\n\n![第三章k近邻法](http://ofzyomgms.bkt.clouddn.com/statisticlearningnotes/k%E8%BF%91%E9%82%BB%E6%B3%95.jpg)\n\n## 第四章朴素贝叶斯法\n\n利用训练数据学习条件概率$P(X|Y)$和先验概率$P(Y)$，得到联合概率分布$P(X,Y)=P(Y)P(X|Y)$，然后求得后验概率分布$P(Y|X)$\n\n在假设特征条件独立的前提下，条件概率分布为：\n\n$$\n \\begin{align}\n P(X = x|Y = {c_k}) &  = P({X^{(1)}} = {x^{(1)}}, \\cdots ,{X^{(n)}} = {x^{(n)}}|Y = {c_k})\\\\\n  &  = \\prod\\limits_{j = 1}^n {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} \n \\end{align}\n $$\n\n根据贝叶斯定理求得后验概率：\n\n$$P(Y = {c_k}|X = x) = \\frac{P(X = x|Y = {c_k})P(Y = {c_k})}{\\sum\\nolimits_k {P(X = x|Y = {c_k})P(Y = {c_k})} }$$\n\n将条件概率代入得：\n\n$$P(Y = {c_k}|X = x) = \\frac{P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} }{\\sum\\nolimits_k {P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} } },k = 1,2, \\cdots ,K$$\n\n所以朴素贝叶斯分类器可表示为\n\n$$y = f(x) = \\arg \\mathop {\\max }\\limits_{c_k} \\frac{P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} }{\\sum\\nolimits_k {P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} } },k = 1,2, \\cdots ,K$$\n\n在上式中分母对所有$c_k$都是相同的，所以：\n\n$$y = \\arg \\mathop {\\max }\\limits_{c_k} P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} $$\n\n朴素贝叶斯算法：\n\n输入：训练数据$T = \\lbrace ({x_1},{y_1}),({x_2},{y_2}), \\cdots ,({x_N},{y_N})\\rbrace $；实例$x$；\n\n输出：实例$x$的分类\n\n1.计算先验概率及条件概率\n\n$$P(Y = {c_k}) = \\frac{\\sum\\limits_{i = 1}^N {I({y_i} = {c_k})} }{N},k = 1,2, \\cdots K$$\n\n$$P({X^{(j)}} = {a_{jl}}|Y = {c_k}) = \\frac{\\sum\\limits_{i = 1}^N {I(x_i^{(j)} = {a_{jl}},{y_i} = {c_k})} }{\\sum\\limits_{i = 1}^N {I({y_i} = {c_k})} }$$\n\n$$j = 1,2, \\cdots n;l = 1,2, \\cdots s;k = 1,2, \\cdots K$$\n\n2.对于给定的实例$x = {({x^{(1)}},{x^{(2)}}, \\cdots ,{x^{(n)}})^{\\rm{T}}}$，计算\n\n$$P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} ,k = 1,2, \\cdots ,K$$\n\n3.确定实例$x$的类\n\n$$y = \\arg \\mathop {\\max }\\limits_{c_k} P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} $$","source":"_posts/统计学习方法读书笔记.md","raw":"---\ntitle: 统计学习方法读书笔记\ndate: 2016-11-03 09:35:53\ntags: 统计学习\ncategories:\n- notes\n- 统计学习方法\n---\n\n> [统计学习方法](https://book.douban.com/subject/10590856/)的读书总结，详细的推导和一些证明均没做总结，建议阅读原书。\n\n<!--more-->\n\n## 第一章统计学习方法概论\n\n![第一章统计学习方法概论](http://ofzyomgms.bkt.clouddn.com/statisticlearningnotes/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95%E6%A6%82%E8%AE%BA.png)\n\n## 第二章感知机\n\n![第二章感知机](http://ofzyomgms.bkt.clouddn.com/statisticlearningnotes/%E6%84%9F%E7%9F%A5%E6%9C%BA.jpg)\n\n## 第三章k近邻法\n\n![第三章k近邻法](http://ofzyomgms.bkt.clouddn.com/statisticlearningnotes/k%E8%BF%91%E9%82%BB%E6%B3%95.jpg)\n\n## 第四章朴素贝叶斯法\n\n利用训练数据学习条件概率$P(X|Y)$和先验概率$P(Y)$，得到联合概率分布$P(X,Y)=P(Y)P(X|Y)$，然后求得后验概率分布$P(Y|X)$\n\n在假设特征条件独立的前提下，条件概率分布为：\n\n$$\n \\begin{align}\n P(X = x|Y = {c_k}) &  = P({X^{(1)}} = {x^{(1)}}, \\cdots ,{X^{(n)}} = {x^{(n)}}|Y = {c_k})\\\\\n  &  = \\prod\\limits_{j = 1}^n {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} \n \\end{align}\n $$\n\n根据贝叶斯定理求得后验概率：\n\n$$P(Y = {c_k}|X = x) = \\frac{P(X = x|Y = {c_k})P(Y = {c_k})}{\\sum\\nolimits_k {P(X = x|Y = {c_k})P(Y = {c_k})} }$$\n\n将条件概率代入得：\n\n$$P(Y = {c_k}|X = x) = \\frac{P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} }{\\sum\\nolimits_k {P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} } },k = 1,2, \\cdots ,K$$\n\n所以朴素贝叶斯分类器可表示为\n\n$$y = f(x) = \\arg \\mathop {\\max }\\limits_{c_k} \\frac{P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} }{\\sum\\nolimits_k {P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} } },k = 1,2, \\cdots ,K$$\n\n在上式中分母对所有$c_k$都是相同的，所以：\n\n$$y = \\arg \\mathop {\\max }\\limits_{c_k} P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} $$\n\n朴素贝叶斯算法：\n\n输入：训练数据$T = \\lbrace ({x_1},{y_1}),({x_2},{y_2}), \\cdots ,({x_N},{y_N})\\rbrace $；实例$x$；\n\n输出：实例$x$的分类\n\n1.计算先验概率及条件概率\n\n$$P(Y = {c_k}) = \\frac{\\sum\\limits_{i = 1}^N {I({y_i} = {c_k})} }{N},k = 1,2, \\cdots K$$\n\n$$P({X^{(j)}} = {a_{jl}}|Y = {c_k}) = \\frac{\\sum\\limits_{i = 1}^N {I(x_i^{(j)} = {a_{jl}},{y_i} = {c_k})} }{\\sum\\limits_{i = 1}^N {I({y_i} = {c_k})} }$$\n\n$$j = 1,2, \\cdots n;l = 1,2, \\cdots s;k = 1,2, \\cdots K$$\n\n2.对于给定的实例$x = {({x^{(1)}},{x^{(2)}}, \\cdots ,{x^{(n)}})^{\\rm{T}}}$，计算\n\n$$P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} ,k = 1,2, \\cdots ,K$$\n\n3.确定实例$x$的类\n\n$$y = \\arg \\mathop {\\max }\\limits_{c_k} P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} $$","slug":"统计学习方法读书笔记","published":1,"updated":"2016-11-19T14:17:49.062Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3ya000tp4qtgk6opfmk","content":"<blockquote>\n<p><a href=\"https://book.douban.com/subject/10590856/\" target=\"_blank\" rel=\"external\">统计学习方法</a>的读书总结，详细的推导和一些证明均没做总结，建议阅读原书。</p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"第一章统计学习方法概论\"><a href=\"#第一章统计学习方法概论\" class=\"headerlink\" title=\"第一章统计学习方法概论\"></a>第一章统计学习方法概论</h2><p><img src=\"http://ofzyomgms.bkt.clouddn.com/statisticlearningnotes/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95%E6%A6%82%E8%AE%BA.png\" alt=\"第一章统计学习方法概论\"></p>\n<h2 id=\"第二章感知机\"><a href=\"#第二章感知机\" class=\"headerlink\" title=\"第二章感知机\"></a>第二章感知机</h2><p><img src=\"http://ofzyomgms.bkt.clouddn.com/statisticlearningnotes/%E6%84%9F%E7%9F%A5%E6%9C%BA.jpg\" alt=\"第二章感知机\"></p>\n<h2 id=\"第三章k近邻法\"><a href=\"#第三章k近邻法\" class=\"headerlink\" title=\"第三章k近邻法\"></a>第三章k近邻法</h2><p><img src=\"http://ofzyomgms.bkt.clouddn.com/statisticlearningnotes/k%E8%BF%91%E9%82%BB%E6%B3%95.jpg\" alt=\"第三章k近邻法\"></p>\n<h2 id=\"第四章朴素贝叶斯法\"><a href=\"#第四章朴素贝叶斯法\" class=\"headerlink\" title=\"第四章朴素贝叶斯法\"></a>第四章朴素贝叶斯法</h2><p>利用训练数据学习条件概率$P(X|Y)$和先验概率$P(Y)$，得到联合概率分布$P(X,Y)=P(Y)P(X|Y)$，然后求得后验概率分布$P(Y|X)$</p>\n<p>在假设特征条件独立的前提下，条件概率分布为：</p>\n<p>$$<br> \\begin{align}<br> P(X = x|Y = {c_k}) &amp;  = P({X^{(1)}} = {x^{(1)}}, \\cdots ,{X^{(n)}} = {x^{(n)}}|Y = {c<em>k})\\<br>  &amp;  = \\prod\\limits</em>{j = 1}^n {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})}<br> \\end{align}<br> $$</p>\n<p>根据贝叶斯定理求得后验概率：</p>\n<p>$$P(Y = {c_k}|X = x) = \\frac{P(X = x|Y = {c_k})P(Y = {c_k})}{\\sum\\nolimits_k {P(X = x|Y = {c_k})P(Y = {c_k})} }$$</p>\n<p>将条件概率代入得：</p>\n<p>$$P(Y = {c_k}|X = x) = \\frac{P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} }{\\sum\\nolimits_k {P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} } },k = 1,2, \\cdots ,K$$</p>\n<p>所以朴素贝叶斯分类器可表示为</p>\n<p>$$y = f(x) = \\arg \\mathop {\\max }\\limits_{c_k} \\frac{P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} }{\\sum\\nolimits_k {P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} } },k = 1,2, \\cdots ,K$$</p>\n<p>在上式中分母对所有$c_k$都是相同的，所以：</p>\n<p>$$y = \\arg \\mathop {\\max }\\limits_{c_k} P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} $$</p>\n<p>朴素贝叶斯算法：</p>\n<p>输入：训练数据$T = \\lbrace ({x_1},{y_1}),({x_2},{y_2}), \\cdots ,({x_N},{y_N})\\rbrace $；实例$x$；</p>\n<p>输出：实例$x$的分类</p>\n<p>1.计算先验概率及条件概率</p>\n<p>$$P(Y = {c<em>k}) = \\frac{\\sum\\limits</em>{i = 1}^N {I({y_i} = {c_k})} }{N},k = 1,2, \\cdots K$$</p>\n<p>$$P({X^{(j)}} = {a_{jl}}|Y = {c<em>k}) = \\frac{\\sum\\limits</em>{i = 1}^N {I(x<em>i^{(j)} = {a</em>{jl}},{y_i} = {c<em>k})} }{\\sum\\limits</em>{i = 1}^N {I({y_i} = {c_k})} }$$</p>\n<p>$$j = 1,2, \\cdots n;l = 1,2, \\cdots s;k = 1,2, \\cdots K$$</p>\n<p>2.对于给定的实例$x = {({x^{(1)}},{x^{(2)}}, \\cdots ,{x^{(n)}})^{\\rm{T}}}$，计算</p>\n<p>$$P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} ,k = 1,2, \\cdots ,K$$</p>\n<p>3.确定实例$x$的类</p>\n<p>$$y = \\arg \\mathop {\\max }\\limits_{c_k} P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} $$</p>\n","excerpt":"<blockquote>\n<p><a href=\"https://book.douban.com/subject/10590856/\">统计学习方法</a>的读书总结，详细的推导和一些证明均没做总结，建议阅读原书。</p>\n</blockquote>","more":"<h2 id=\"第一章统计学习方法概论\"><a href=\"#第一章统计学习方法概论\" class=\"headerlink\" title=\"第一章统计学习方法概论\"></a>第一章统计学习方法概论</h2><p><img src=\"http://ofzyomgms.bkt.clouddn.com/statisticlearningnotes/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95%E6%A6%82%E8%AE%BA.png\" alt=\"第一章统计学习方法概论\"></p>\n<h2 id=\"第二章感知机\"><a href=\"#第二章感知机\" class=\"headerlink\" title=\"第二章感知机\"></a>第二章感知机</h2><p><img src=\"http://ofzyomgms.bkt.clouddn.com/statisticlearningnotes/%E6%84%9F%E7%9F%A5%E6%9C%BA.jpg\" alt=\"第二章感知机\"></p>\n<h2 id=\"第三章k近邻法\"><a href=\"#第三章k近邻法\" class=\"headerlink\" title=\"第三章k近邻法\"></a>第三章k近邻法</h2><p><img src=\"http://ofzyomgms.bkt.clouddn.com/statisticlearningnotes/k%E8%BF%91%E9%82%BB%E6%B3%95.jpg\" alt=\"第三章k近邻法\"></p>\n<h2 id=\"第四章朴素贝叶斯法\"><a href=\"#第四章朴素贝叶斯法\" class=\"headerlink\" title=\"第四章朴素贝叶斯法\"></a>第四章朴素贝叶斯法</h2><p>利用训练数据学习条件概率$P(X|Y)$和先验概率$P(Y)$，得到联合概率分布$P(X,Y)=P(Y)P(X|Y)$，然后求得后验概率分布$P(Y|X)$</p>\n<p>在假设特征条件独立的前提下，条件概率分布为：</p>\n<p>$$<br> \\begin{align}<br> P(X = x|Y = {c_k}) &amp;  = P({X^{(1)}} = {x^{(1)}}, \\cdots ,{X^{(n)}} = {x^{(n)}}|Y = {c<em>k})\\<br>  &amp;  = \\prod\\limits</em>{j = 1}^n {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})}<br> \\end{align}<br> $$</p>\n<p>根据贝叶斯定理求得后验概率：</p>\n<p>$$P(Y = {c_k}|X = x) = \\frac{P(X = x|Y = {c_k})P(Y = {c_k})}{\\sum\\nolimits_k {P(X = x|Y = {c_k})P(Y = {c_k})} }$$</p>\n<p>将条件概率代入得：</p>\n<p>$$P(Y = {c_k}|X = x) = \\frac{P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} }{\\sum\\nolimits_k {P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} } },k = 1,2, \\cdots ,K$$</p>\n<p>所以朴素贝叶斯分类器可表示为</p>\n<p>$$y = f(x) = \\arg \\mathop {\\max }\\limits_{c_k} \\frac{P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} }{\\sum\\nolimits_k {P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} } },k = 1,2, \\cdots ,K$$</p>\n<p>在上式中分母对所有$c_k$都是相同的，所以：</p>\n<p>$$y = \\arg \\mathop {\\max }\\limits_{c_k} P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} $$</p>\n<p>朴素贝叶斯算法：</p>\n<p>输入：训练数据$T = \\lbrace ({x_1},{y_1}),({x_2},{y_2}), \\cdots ,({x_N},{y_N})\\rbrace $；实例$x$；</p>\n<p>输出：实例$x$的分类</p>\n<p>1.计算先验概率及条件概率</p>\n<p>$$P(Y = {c<em>k}) = \\frac{\\sum\\limits</em>{i = 1}^N {I({y_i} = {c_k})} }{N},k = 1,2, \\cdots K$$</p>\n<p>$$P({X^{(j)}} = {a_{jl}}|Y = {c<em>k}) = \\frac{\\sum\\limits</em>{i = 1}^N {I(x<em>i^{(j)} = {a</em>{jl}},{y_i} = {c<em>k})} }{\\sum\\limits</em>{i = 1}^N {I({y_i} = {c_k})} }$$</p>\n<p>$$j = 1,2, \\cdots n;l = 1,2, \\cdots s;k = 1,2, \\cdots K$$</p>\n<p>2.对于给定的实例$x = {({x^{(1)}},{x^{(2)}}, \\cdots ,{x^{(n)}})^{\\rm{T}}}$，计算</p>\n<p>$$P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} ,k = 1,2, \\cdots ,K$$</p>\n<p>3.确定实例$x$的类</p>\n<p>$$y = \\arg \\mathop {\\max }\\limits_{c_k} P(Y = {c_k})\\prod\\nolimits_j {P({X^{(j)}} = {x^{(j)}}|Y = {c_k})} $$</p>"},{"title":"翻译 Duckietown an Open, Inexpensive and Flexible Platform for Autonomy Education and Research","date":"2016-11-08T15:35:42.000Z","_content":"\n> [Duckietown](http://duckietown.mit.edu/)是MIT的一个课程项目，该文是翻译自该小组向[International Conference on Robotics and Automation (ICRA) 2017](http://icra2017.org/)的论文。\n\n摘要--Duckietown对自动化的教学和研究来说是一个开源的、廉价而且扩展性好的平台。这个平台由自主机器人小车（“Duckiebots”）和城市（“Duckietowns”）组成，自主小车用现成组件组装成而成，城市包含了道路、引导标示、交通信号灯障碍物和需要运输的居民（duckies）。Duckietown平台的优势是利用利用少量的投入可以实现很广泛的功能。一个Duckiebot仅仅利用一个单目摄像头来感知整个世界和一个机载的树莓派二代来执行所有的处理，到目前为止已经具备以下功能：追随车道线并且避开障碍物、行人（duckies）和其它的Duckietown；在全局地图中进行定位；在城市中导航；以及和其它的Duckiebots协作以避免发生碰撞。Duckietown对于教学来说是一个非常有用的工具，不需要开发所有与所需课程相关的基础设施和工具，这样对教育机构来说可以节省大量的资金和时间。所有的资源都是开源、可获得的，目的是为了其它的团体也可以把这个平台应用于教育和研究。到目前为止已经有另外的四个机构使用了Duckietown平台。\n\n<!--more-->\n\n# 简介\n\n自动驾驶小车定位成为一项普遍并且可用的自动化应用。但是，还有很多挑战存在在实现广泛的使用前，这其中相关的更多的是整体系统方面的，而不只是单个组成部分。如包括硬件和算法的一体化设计，感知和控制的解耦和，在并发过程中最佳的处理资源分配以及多agent系统的安全。\n\n一个现代的自动化方面的课程应该可以同时训练学生在单个系统以及系统级的方面。但是仍然存在一些挑战，第一，构建一个全尺寸的车对大多数的机构来说太昂贵的并且增加了难度和安全方面的问题。第二，构建所有的组件和结构需要大量的时间，并且多数浪费在与希望的目的不同上的任务上的。\n\n![图1](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2001.jpg)\n\n为了解决这个问题，我们意将Duckietown（图1）做成一个自动化方面教育和研究的开源平台。这个平台包括了一个叫做“Duckiebots”的小车。最小化系统仅仅只是用了一个树莓派二代做所有的计算和一个单目摄像头做感知，而且已经具备了完整的但系统和多系统机器人的功能。Duckiebots住在用模块化的组件拼装而成的丰富的“Duckietowns”微模型里。这个项目里异想天开和引人注目的外观是考虑到功能上延伸性的深思熟虑的选择。Duckietowns和Duckiebots是很容易进行复制并且花费低廉，每辆小车大概只需要花费150美元，场地模型每平方的造价仅仅在2美元左右。\n\n为了使Duckietown能满足在感知、规划和控制等不等难度程度下的使用，它的设计经过了认真的考虑，使得这个平台可以适应非常广泛的应用，覆盖了从本科生教育到进行研究阶段的问题。比如说，单个的Duckiebot仅仅通过进行车道线检测和对控制信号做出反应就可以顺利的在场地中行驶，同时也可以通过识别道路信号进行点到点的导航。在转弯处，既可以通过贴在信号灯上的标志物（AprilTags[^1]）也可以通过物体检测进行信号检测的模拟。实现一些更加复杂的功能，例如基于视觉的多机器人协调，尤其是计算能力方面的限制，使其可以达到了研究层面的挑战。\n\nDuckietown平台突出的优势是它是有一个复杂的软件架构作支持，包含了标定、可配置、初级的感知、物体检测、非线性估计、全局定位、顶层的规划和分散协调模块。我们的目标提供一个可以与复杂的大规模的实现（如[^2]）媲美的完善的教科书式的架构,并且同时对初学者保证了可读性和易理解性。\n\nDuckietown主要的用途是为自动化班的本科生或毕业年级的同学提供帮助。Duckietown尤其适为了完善不同子系统而需要一起工作的同学进行小组学习。这就是它在MIT2016春季学年[^3]的使用方式。同时，Duckietown也非常适合只需要专注于其中一个单独的方向或子系统（比如计算机视觉或非线性控制）的人。利用这种方式可以明显的看到子系统在整个系统中的作用和产生的影响。这是NCTU[^4]的使用方式。Duckietown通过利用已知的设定好的环境方面的先验知识（例如已知的尺寸、颜色、标志物的方位、标志上的基准、允许的网络拓扑等）使得它成为一个更加可用的研究平台。作者使用Duckietown作为研究计算性能不高的情况下的感知[^5]、协同设计[^6]和可以安全相互协调驾驶的合适方案[^7]等课题的平台。\n\n概述：第二部分介绍了使用现成的组件搭建的Duckiebot平台。另外的部分介绍了体系的构建。针对每一个功能模块，我们会介绍基础的实现，一些用到该功能某块的课题，和一些可扩展的可能方式。按照功能的复杂性介绍这个体系架构。第三部分介绍了单系统机器人进行车道线追随的流程。第四部分介绍了涉及到单系统机器人定位，规划和导航的相关子系统。第五部分介绍了涉及到多系统机器人交换信息和协调的方式。最后，我们在第六部分中针对系统级的资源管理做了讨论，在第七部分中进行了总结和结束。 \n\n# Duckie机器人\n\nDuckiebots是为了实现一个经济上可承受、模块化并且易于搭建的自动化小车而设计的。我们提供了三种配置：\n\n* 最小自动化配置能够满足所有单系统机器人的功能实现。\n* 扩展配置加入了一些“奢侈”的特性，以便可以更方便的进行开发，比如操纵杆和板载的无线模块。\n* 集群配置包括了LED灯以作为Duckiebot信息交换并使多机器人可以相互协调。\n\n![表一](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2021.jpg)\n\n## 最小系统配置\n\n1) 最小自动化配置：在最小配置方案里使用到的组件在表1中列出。这些都是非常容易可替换的现成组件。每一个机器人根据能力的不同需要15分钟左右的焊接工作和大约半个小时到一个半小时的专配工作 。\n\n a) 计算：所有的计算处理都依靠树莓派2，它具有900MHz的ARM和1GB的RAM。操作系统是安装了ROS Indigo的Ubuntu14.04。\n\n b) 运动：Duckiebot的设计是基于非常容易找到的差分驱动底盘套件，10-20美元左右就可以在网上买到。马达是通过树莓派上自带的直流电机驱动接口控制。我们使用里程计做估计，所以底盘是易于替换的部分，可以使用任意通过差分方式配置的直流电机替代。\n\n c) 感知：唯一用来感知的模块是一个鱼眼镜头的摄像头。摄像头通过专用的并行接口与树莓派相连。\n\n d) 信息交换：这个版本中的Duckiebot是通过WiFi模块进行交流（用于安装，调试，通过键盘手动控制）。\n\n## 扩展配置\n\n2) 扩展配置：在需要大型团队开发的教学和研究工作中，最好的方式是在网络覆盖的环境中每一个Duckiebot都配备一个板载的网络模块。这些移动热点为每一个机器人构建了一个专用的5GHz的网络，并且通过以太网直接与树莓派相连。作为可选的，使用USB接口的无线模块可以使更加方便的控制。最后，可以使用一个32GB的USB扩展外存，这样可以存储大量的数据日志文件。增加这个配置需要额外的花费75美元。\n\n## 集群配置\n\n3) 集群配置：这个版本的Duckiebot配备了使用PWM波控制的五个RGB LED灯。这些LED灯通过显示Duckiebot的状态和意图以达到和其它的机器人小车进行信息交换的目的。LED灯在基础版本平台的基础上增加了大约30美元的花费。\n\n![表二](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2022.jpg)\n\n[^8] [^9] [^10] [^11] [^12] [^13] [^14] [^15] [^16] [^17] [^18] [^19] [^20] [^21]\n\n在表二中我们将基础版的Duckiebot与其它的一些流行的用于教育和研究的机器人做了一个比较。特别值得注意的是很少有价格低廉的机器人能够使用视觉作为首要的传感器。使用摄像头而不是深度或者红外传感器使得我们的系统更真实的表示了全规模平台。\n\n# 车道线追随\n\nDuckiebot最基础的功能是车道线追随。我们通过图2中的计算机视觉流程实现了车道线追随的功能，流程包含以下步骤：\n\n* 光照变化补偿\n* 道路标志物检测\n* 从图像空间到现实世界的映射，基于外在和内部的校准\n* 基于非参数贝叶斯过滤的车道线定位\n* 车道线控制\n\n![图2](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2002.jpg)\n\n## 基础设施 - Duckie城道路层\n\nDuckietowns的设计是想实现一个易于理解的形式规范的例子，如果环境可以很好的满足这个规范，那么Duckiebot就可以保证正常行驶。\nDuckietowns有两层：道路层和信号层。车道线追随仅仅依赖于道路层。道路层的构建是通过对图3中的五种拼接模块进行组合实现的。道路标志物颜色和位置的精确是用来感知的规范和重要的先验的一部分。\n\n![图3](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2003.jpg)\n\n## 亮度补偿\n\n光照变化是计算机视觉的一个挑战。我们通过以下步骤来描述：\n\n* 如何将机器学习运用到自动机器人的循环当中。\n* 使用先验知识的重要性。正因为此，才在Duckietowns的道路层的规范当中才规定了先验的颜色。\n\n![图4](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2004.jpg)\n\n这个功能的基本实现中，我们使用k-means算法在重采样的道路像素图上检测出主要的集合，我们将它们和先验的期望的红色，黄色，白色，灰色集合进行匹配。然后我们在RGB彩色空间得到一个检测到的集合和将它们平衡后的颜色映射变换。正规化表示出我们关照条件下的先验知识和道路的颜色。通道分离变换：\n\n$$\n\\begin{equation}\nI_{obs}^{(i)} = {a_i}I_{orig}^{(i)} + b_i + n \\text{, } i \\in \\{R,G,B\\}\n\\label{eq:e1}\n\\end{equation}\n$$\n\n$n$表示高斯噪声，而且为了正规化我们假设高斯先验的参数$a\\_{i},b_{i}$。等式的结果是一个6 X 6的线性系统\n\n$$\n\\begin{equation}\n\\begin{pmatrix} A_{data} \\\\ A_{reg} \\\\ \\end{pmatrix}p_I = \\begin{pmatrix} b_{data} \\\\ b_{reg} \\\\ \\end{pmatrix}\n\\label{eq:e2}\n\\end{equation}\n$$\n\n这里的$A\\_{data},b\\_{data}$是从观测模型(1)中得到的结果，$A\\_{reg},b\\_{reg}$是从正规化中得到的结果。向量$p_I$是光照的参数向量。式(2)中的平方剩余误差是拟合程度的估计值和允许的检测错误值。\n\n## 道路标志物检测\n\n在Duckiebots的基本实现中，通过提取沿着道路线标志物边界的定向线段实现道路上的定位，然后运行一个无参数的贝叶斯过滤器。由于贝叶斯过滤引起的鲁棒性，定向线段的检测可能产生许多假阳性。\n\n![图5](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2005.jpg)\n\n定向线段检测的大致流程如图5所示。当每一个颜色被检测以后这个流程被运行一次。当图像被采集以后，并行执行以下两个滤波算法：Canny滤波检测边缘，HSV彩色空间阀值检测给定的颜色。结果通过与门融合。独立的线段通过概率Hough变换[^22]提取。\n\n## 图像到道路的转换\n\n下一步将在图像空间中检测到的定向线段变换到三维坐标中。使用先验的平面图，建立一个从图像空间到三维空间的一一对应关系图是可能的。首先，使用相机内部的标定了的点是没有失序的。同时，变换由一个单应$x_i \\simeq Hx_g$表示，这里$x_i$和$x_g$是图像中和地平面上的点，$H \\in {\\mathbb {R}}^{3x3}$是单应矩阵，$ \\simeq $表示规模等价。\n\n![图6](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2006.jpg)\n\nDuckietown有标定工具使得可以估计相机的特性和外在。\n\n## 车道相对估计\n\n为了执行车道线追随功能，我们必须获取Duckiebot侧面与车道线的距离和方向的预测。不过我们不需要知道纵坐标（沿${\\cal x}$方向）。这是一个用最小充分统计量实现控制任务的很好的例子。\n\n因为随机的很高的认知的异常值（正如图2中看到的检测直线标志物）的存在和处理模型的非线性性使得常用的参数估计方法（如使用了高斯估计的卡尔曼滤波）在这里失效了。因此，在基本的实现中我们使用了非线性、非参数的直方图滤波[^23]。\n\n![图7](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2007.jpg)\n\n小车$t$时刻在道路中的的状态通过降维的状态：${\\cal x} := \\langle d_{t},{\\phi}_t \\rangle$，$d_t \\in [d_min,d_max]$表示侧面和道路线的横向位移（$d = 0$时表示直线是道路线的中线），$ {\\phi}_t \\in [{\\phi}_min,{\\phi}_max]$表示如图七中表示的一样代表和原点的角度。从定义的规范中我们知道了道路线的宽度$w$，以及右边（白色）和左边（黄色）分别的宽度$l_W$和$l_Y$，我们综合使用这些信息，并通过使用道路标志物检测获得的每一个线段就可以得到对状态的预测。\n\n对于每个线段的序列都进行一次计算。我们用每个线段进行一次投票。这些投票放入直方图中，所有的直方图表示了一种计算的可能性（图7）。\n\n当所有的线段都被运算过以后，将直方图规范化并且作为用来测量校准的概率分布函数。\n\n## 车道控制\n\n当我们有了Duckiebot在道路中位置和方向的估计后，就可以用来产生控制信号使它沿着车道行驶。我们明确的设计了曲线也就使得Duckiebot在转弯处（图3(e)）表现出的相对误差非常小，仍然收敛于简单线性跟踪控制。这样就减少了涉及到轨迹的参数化的工作。\n\n我们使用了比例-微分（PD）控制，控制命令形如$u(t)=k\\_{y}d(t)+k\\_{\\phi}{\\phi}(t)$。道路线追踪实际的效果演示可以参考附件第一部分。\n\n![图8](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2008.jpg)\n\n我们评估了车道线追随在有圆角的方形轨道面上（图8）的表现。在理想的光照条件下，Duckiebot车道线追随表现的鲁棒性很好，平均故障时间大于30分钟，交叉轨迹误差始终在0.15m以内。\n\n# 导航\n\n基本的道路线追随流程作为内部的嵌套使得更复杂和有趣的功能得以实现。比如，图9中的导航流程概述。\n\n![图9](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2009.jpg)\n\n## 基础设施 - 第二层 - 信号层\n\nDuckietown的第二层是信号层。这样的信号灯有两种：信号和交通灯。这一部分我们只描述指示信号，有两种类型：交通信号，道路名称。交通信号使得在十字路口可通过成为可能，图10中包含了十字路口的类型（交通信号灯和停止信号）和一些其它重要的道路信息。这些信号包含了所有的用于定位和导航的必要信息。每一个信号都另外添加了一个AprilTag[1]，可以将检测标示与检测引发的功能相互分离。我们限制性的将这些信号放置在八种固定的姿态中的一种，这样可以保证当Duckiebot停在停止线上时这些信号可以在摄像头的视野当中，并且可以使得能够自动生成指示特征图。\n\n![图10](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2010.jpg)\n\n## 地图表示\n\n因为Duckietowns是用模块的拼图组合成的，可以使用一个拼图矩阵（如图3所示）完整的表示出地图。另外，我们指定了在拼图上的信号的存在、类型和位置。因此，这个矩阵可以用来自动的生成两种形式的地图，特征地图用于定位，拓扑网络图用于规划。图十一展示了这两种图。\n\n![图11](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2011.jpg)\n\n## 全局定位\n\n全局定位包括Duckiebot姿态相对于全局参考系的的估计。在全局参考系中的姿态的信息对于其它功能的实现是一个关键，例如到某点的线路规划。\n\n对于人来说，交通信号灯和道路名称对于定位提供了有用的信息。在基本的定位中我们假定自动地图生成模块（图11(a)）已经提供了地图。然而，实时定位和地图构建（SLAM）是必要的扩展。使用已知的标示的尺寸，每当一个标示被检测到时，我们可以就可以获得摄像头相对于标示的相对姿态。因为标示的姿态是已知的，每次检测都可以测量出Duckiebot的绝对位置。在图12(a)中展示了Duckiebot在Duckietown中的十字交叉路口的情况。通过内部的摄像头（图12(c)）可以定位自己在地图中的位置，如图12(b)所示。\n\n![图12](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2012.jpg)\n\n这个基本的算法保证无论何时检测到标示以后都可以准确的定位。在我们的测试中，Duckiebot能够以3Hz的频率进行位置估计，并且当至少有三个标示在可视范围时定位延迟大约在0.1m内。\n\n## 决策规划\n\n为了完成导航的任务，Duckiebot需要一个从由全局定位模型的位置到拓扑道路网络图的映射，通过它才可以搜索得到一个连接可行的路线（图11(b)）。\n\n当图生成以后并且起始位置和目标位置确定以后我们通过$A^*$搜索算法可以生成得到最佳规划路线。一个有趣的扩展是这个可以用来同时模拟一组管理系统来为多个Duckiebot规划线路。\n\n## 有穷状态机\n\n从宏观层面操作Duckiebot的是通过有穷状态机（FSM）进行的，图13展示了简化的版本。有穷状态机中的转换是通过异步的基于事件的感知产生的，例如检测到了停止线。\n\n![图13](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2013.jpg)\n\n这种模式用于混合（离散连续）系统配置下[^24]的Duckiebot控制。根据不同的期望动作开发了一系列的控制，图13中的模式用来选择哪种控制被触发同时将其与实际的轮子驱动相连。\n\n![图14](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2014.jpg)\n\n## 路径遍历\n\n当规划生成以后，需要根据每个交叉路口正确的转弯序列进行。比如图11-(b)中的序列对应[s,f,s,f,r,f,s,f]，这里的f，s，r，l分别对应追随道路线，直走，右转，左转，使得Duckiebot从节点21到节点31。\n\n每一个交叉路口的行驶是通过执行序列状态“LANE_FOLLOWING”$\\to$“INTERSECTION_TRAVERSAL”的循环直到到达某个结束态（在该点我们通过忽略“COORDINATION”行为和假设路口总是可通过的来简化这个过程）实现的。从LANE_FOLLOWING到INTERSECTION_TRAVERSAL的转换是因为到达了停止线引发的。从INTERSECTION_TRAVERSAL再回到LANE_FOLLOWING的转换是由道路线预测超过了某个阀值引起的。\n\n做规划的时间从初始化到进行平均需要8.38秒，包括了将拼图的地图规范文件到图形表示转换，对于用于规划的道路网络包含了大致30个节点。手工选择路线，规划算法返回可视化的反馈时间大致在2.34秒以内。如果存在网络延迟的话需要更多的时间。\n\nDuckiebot实际行驶很大程度上取决于存在小车交汇的交叉路口的数量。\n\n# 多机器人协同\n\n高级的功能包括多Duckiebot同时在一个Duckietown中进行交互。这种情况下，Duckiebot必须相互协调分配共有的资源。\n\n我们考虑其中两种交互模式：交通信号灯和停止线，如图15所示。交通信号灯交互是一种简化并且集中地的交互解决方案（仅仅使用交通信号灯交互就足以构建和测试多机器人算法）。停止信号需要Duckiebot的信息交流。交流是分布式并且基于感知。我们使用LED表示目的和状态。当Duckiebot停在停止线上时情况会变得复杂，它的左侧是在摄像头视野之外。\n\n![图15](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2015.jpg)\n\n## 基础设施 - 交通信号灯\n\n第二层上的第二种信号是交通信号灯。交通信号灯单元是在每条将要出现的道路正面装配的LED灯。\n\n交通信号灯实际上是为Duckiebot建立一个无线网络。\n\n## LED灯检测和翻译\n\n基于LED灯的信息交换系统有两个单独的组成部分：一个是用于捕捉图像流和决定场地中所有LED灯位置和频率的检测器，另一个是接收信息和对每一个检测器标记物理对象（小车或交交通信号灯）和协调消息的解释器。\n\n图16展示了LED信息交流的模式。图17上半部分和下半部分分别展示了LED检测器和解释器的详细情况。\n\n![图16](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2016.jpg)\n\n![图17](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2017.jpg)\n\n解释器利用假设分辨检测出的LED灯在水平线以上的属于交通信号灯，水平线以下的属于Duckiebot的信息交换灯。\n\n## 协调 - 信号灯\n\n交通信号灯十字路口有交通信号灯盒子，朝着每一个方向都有一个LED灯。交通信号灯盒子循环的一次朝一个方向发出通行信号，这样当多个Duckiebot从不同的方向驶来的时候不会在交汇路口的中央相遇（图15）。这种交通信号灯十字路口的处理方式是很直接的：当一个Duckiebot到达停止线时，它就开始检测视野内的LED灯的闪烁频率，当检测到与通行信号相对应的频率时，就启动通过交汇路口。\n\n## 协调 - 交叉路口\n\n停止信号十字路口没有任何的中心建筑，因此，Duckiebot需要通过安装在它们上面的LED灯进行信息交换进而协调通过十字路口的顺序。如图15所示，每个Duckiebot只能够看到它们自己右面和前面的Duckiebot，不能看到十字路口左面的Duckiebot。并且，其它Duckiebot发出的检测信号需要一个明显的时间（约2秒），个别Duckiebot的检测时间是不同步的。基础的协调算法已经使得传感的局限到可控范围。直观地讲，协议遵守以下几条规则：(a)每个Duckiebot需要服从于右边的Duckiebot（因为它位于它右边Duckiebot的可视范围之外），(b)当两个相向而来的Duckiebot到达交互路口时，先到的那个先行驶通过，(c)当相向而来的两个Duckiebot根据检测精度几乎同时到达时，通过等待一个随机的时间间隔再尝试与另一个Duckiebot协调沟通来解决这个问题。\n\n协调的模式是通过一系列图13中的状态进行处理。处于AT_STOP_CLEARING时，Duckiebot需要等待预设的时间以保证交汇路口是可通行的，处于AT_STOP_CLEAR时，Duckiebot需要等待到没有其它的Duckiebot在交汇路口，以此保证确实是可以前进的，当处于RESERVING时，Duckiebot是表示（通过它的LED灯）它将要尝试行驶通过，CONFLICT表示两个Duckiebot同时试图通过路口，直到到GO时Duckiebot才开始行驶通过交汇路口。\n\n## 评估\n\n我们对两种类型下的协调行为进行了测试并实际连续进行了几个小时。当预想的算法出现时，比如，小车停在了沿着道路方向的停止线上，协调行为可以可靠地安排每次一辆小车行驶通过交汇路口因此避免碰撞。在停止信号交汇路口的协调结果如图18所示。信号A，B和C分别对应绿色，红色和黄色LED灯。\n\n![图18](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2018.jpg)\n\n# 资源管理\n\n我们的目的是搭建一个不昂贵但是可用的自动化教育和研究的平台。但是，当成本降低的同时可用的资源，如传感器、计算性能、内存、电源以及带宽也会被降低。\n\n为了达到我们的目的就需要在软件架构上开发增加的算法。我们已经在设计中使用了两种基础的策略来减少资源开销：基于事件的计算和驱动模式感知。\n\n## 基于事件的计算\n\n1)基于事件的计算：在我们的实现中我们利用了机器人操作系统(ROS)，它重要使用了发布-订阅模式用于数据交换。\n\n因为平台计算资源的限制，程序（节点）使用基于事件和限制频率的处理和发布模式：一个节点只当输出与上次发布的输出有明显的不同并且在发布频率以内时才发布。\n\n### 模型 - 驱动型感知\n\n2)驱动模式的感知：最多的计算集中在与感知有关的任务上，尤其是我们只使用视觉作为传感模块。为了实现多机器人最为复杂的功能就需要机器人处理很多的感知任务（直线检测、道路线滤波、停止线滤波、信号检测、LED检测、LED解码、小车检测）不过不是同时的。因此我们利用一些开关。这些开关被所有节点订阅并且允许它们只选择订阅那些只有当它们应该作用时的模式下的必要的输入（图像）。表3展示了在每一种FSM模式中哪种感知模块会起作用的概况。\n\n![表三](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2023.jpg)\n\n我们使用了与之相似的办法在根据给出任务的请求来控制摄像头图像的分辨率。\n\n# 结论\n\n我们展示了一个可扩展的用于自动化教育和研究的平台Duckietown。我们在开发这个系统中通过精确地规范和资源管理使其得以实现。\n\nDuckietown已经（或计划在下个学期使用）被五个机构使用：清华大学（中国）、国立交通大学（台湾）、麻省理工大学MIT、伦斯勒理工学院、罗格斯大学（美国）。\n\n所有的资料都是基于开源/免费软件协议的；资料可以在<http://duckietown.mit.edu>网站找到。我们希望其他机器人团体的人可以使用这个平台并且帮助它成长。\n\n# 致谢\n\nThis work was supported by the National Science Foundation, with National Robotics Initiative award IIS-1405259, and with Robust Intelligence award IIS-1318392. Additional support was given by the Toyota Research Institute and the Ford Motor Company. We would also like to acknowledge the contributions made by the studens during the Spring 2016 semester of the MIT 2.166 class.\n\n# 引用\n\n[^1]: E. Olson, “AprilTag: A robust and flexible visual fiducial system,” in 2011 IEEE International Conference on Robotics and Automation. Institute of Electrical & Electronics Engineers (IEEE), may 2011. [Online]. Available: http://dx.doi.org/10.1109/icra.2011.5979561\n[^2]: P. Furgale, U. Schwesinger et al., “Toward automated driving in cities using close-to-market sensors: An overview of the v-charge project,” in 2013 IEEE Intelligent Vehicles Symposium (IV). Institute of Electrical & Electronics Engineers (IEEE), jun 2013. [Online]. Available: http://dx.doi.org/10.1109/ivs.2013.6629566\n[^3]: J. Tani, L. Paull et al. (2016) Duckietown: an innovative way to teach autonomy, submitted to EDUROBOTICS 2016. [Online]. Available: http://tiny.cc/9vduey\n[^4]: H.-C. Wang. (2016) Icn9005 robotic vision. [Online]. Available: duckietown.nctu.edu.tw\n[^5]: L. Paull, G. Huang, and J. J. Leonard, “A unified resource-constrained framework for graph SLAM,” in 2016 IEEE International Conference on Robotics and Automation (ICRA), May 2016, pp. 1346–1353.\n[^6]: A. Censi, “A mathematical theory of co-design,” CoRR, vol. abs/1512.08055, 2015. [Online]. Available: http://arxiv.org/abs/1512.08055\n[^7]: D. Hoehener, G. Huang, and D. D. Vecchio, “Design of a lane departure driver-assist system under safety specifications,” in Conference on Decision and Control, 2016.\n[^8]: M. Rubenstein, B. Cimino et al., “AERobot: An affordable one-robotper-student system for early robotics education,” in IEEE International Conference on Robotics and Automation (ICRA), 2015, pp. 6107–6113.\n[^9]: M. Rubenstein, C. Ahler, and R. Nagpal, “Kilobot: A low cost scalable robot system for collective behaviors,” in 2012 IEEE International Conference on Robotics and Automation. Institute of Electrical & Electronics Engineers (IEEE), may 2012.\n[^10]: B. Thursk`y and G. Gaˇspar, “Using Pololu’s 3pi robot in the education process.” [Online]. Available: http://tiny.cc/zfluey\n[^11]: S. Kernbach, “Swarmrobot.org - Open-hardware microrobotic project for large-scale artificial swarms,” arXiv preprint arXiv:1110.5762,2011. [Online]. Available: http://arxiv.org/pdf/1110.5762v1.pdf\n[^12]: P. Robinette, R. Meuth et al., “LabratTM: Miniature robot for students, researchers, and hobbyists,” in 2009 IEEE/RSJ International Conference on Intelligent Robots and Systems, Oct 2009, pp. 1007–1012.\n[^13]: F. Riedo, M. Chevalier et al., “Thymio II, a robot that grows wiser with children,” in 2013 IEEE Workshop on Advanced Robotics and its Social Impacts. Institute of Electrical & Electronics Engineers (IEEE), nov 2013. [Online]. Available: http://dx.doi.org/10.1109/arso.2013.6705527\n[^14]: P. Inc. (2016) Scribbler s3 robot. [Online]. Available: https://www.parallax.com/product/28333\n[^15]: R. K. Cole, “STEM outreach with the Boe-Bot,” Robots in K-12 Education: A New Technology for Learning: A New Technology for Learning, p. 245, 2012.\n[^16]: Parallax. (2016) Activitybot robot kit. [Online]. Available: https://www.parallax.com/product/32500\n[^17]: M. Dekan, F. Duchoˇn et al., “iRobot create used in education,” Journal of Mechanics Engineering and Automation, vol. 3, no. 4, pp. 197–202,2013.\n[^18]: Bot’n Roll. (2016) Bot’n roll ONE A. [Online]. Available: http://botnroll.com/onea en/\n[^19]: J. McLurkin, A. McMullen et al., “A robot system design for low-cost multi-robot manipulation,” in 2014 IEEE/RSJ International Conference on Intelligent Robots and Systems. IEEE, 2014, pp. 912–918.\n[^20]: Robots in Course. (2016) Hemission. [Online]. Available: http://www.robotsinsearch.com/products/hemisson\n[^21]: S. Wilson, R. Gameros et al., “Pheeno, a versatile swarm robotic research and education platform,” IEEE Robotics and Automation Letters, vol. 1, no. 2, pp. 884–891, July 2016.\n[^22]: D. H. Ballard, “Generalizing the Hough transform to detect arbitrary shapes,” Pattern recognition, vol. 13, no. 2, pp. 111–122, 1981.\n[^23]: S. Thrun, W. Burgard, and D. Fox, Probabilistic Robotics, 2005.\n[^24]: T. A. Henzinger, “The theory of hybrid automata,” in Logic in Computer Science, 1996. LICS ’96. Proceedings., Eleventh Annual IEEE Symposium on, Jul 1996, pp. 278–292.\n\n","source":"_posts/翻译-Duckietownan-Open-Inexpensive-and-Flexible-Platform-for-Autonomy-Education-and-Research.md","raw":"---\ntitle: 翻译 Duckietown an Open, Inexpensive and Flexible Platform for Autonomy Education and Research\ndate: 2016-11-08 23:35:42\ntags: \n- Robotics\ncategories:\n- Duckietown\n---\n\n> [Duckietown](http://duckietown.mit.edu/)是MIT的一个课程项目，该文是翻译自该小组向[International Conference on Robotics and Automation (ICRA) 2017](http://icra2017.org/)的论文。\n\n摘要--Duckietown对自动化的教学和研究来说是一个开源的、廉价而且扩展性好的平台。这个平台由自主机器人小车（“Duckiebots”）和城市（“Duckietowns”）组成，自主小车用现成组件组装成而成，城市包含了道路、引导标示、交通信号灯障碍物和需要运输的居民（duckies）。Duckietown平台的优势是利用利用少量的投入可以实现很广泛的功能。一个Duckiebot仅仅利用一个单目摄像头来感知整个世界和一个机载的树莓派二代来执行所有的处理，到目前为止已经具备以下功能：追随车道线并且避开障碍物、行人（duckies）和其它的Duckietown；在全局地图中进行定位；在城市中导航；以及和其它的Duckiebots协作以避免发生碰撞。Duckietown对于教学来说是一个非常有用的工具，不需要开发所有与所需课程相关的基础设施和工具，这样对教育机构来说可以节省大量的资金和时间。所有的资源都是开源、可获得的，目的是为了其它的团体也可以把这个平台应用于教育和研究。到目前为止已经有另外的四个机构使用了Duckietown平台。\n\n<!--more-->\n\n# 简介\n\n自动驾驶小车定位成为一项普遍并且可用的自动化应用。但是，还有很多挑战存在在实现广泛的使用前，这其中相关的更多的是整体系统方面的，而不只是单个组成部分。如包括硬件和算法的一体化设计，感知和控制的解耦和，在并发过程中最佳的处理资源分配以及多agent系统的安全。\n\n一个现代的自动化方面的课程应该可以同时训练学生在单个系统以及系统级的方面。但是仍然存在一些挑战，第一，构建一个全尺寸的车对大多数的机构来说太昂贵的并且增加了难度和安全方面的问题。第二，构建所有的组件和结构需要大量的时间，并且多数浪费在与希望的目的不同上的任务上的。\n\n![图1](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2001.jpg)\n\n为了解决这个问题，我们意将Duckietown（图1）做成一个自动化方面教育和研究的开源平台。这个平台包括了一个叫做“Duckiebots”的小车。最小化系统仅仅只是用了一个树莓派二代做所有的计算和一个单目摄像头做感知，而且已经具备了完整的但系统和多系统机器人的功能。Duckiebots住在用模块化的组件拼装而成的丰富的“Duckietowns”微模型里。这个项目里异想天开和引人注目的外观是考虑到功能上延伸性的深思熟虑的选择。Duckietowns和Duckiebots是很容易进行复制并且花费低廉，每辆小车大概只需要花费150美元，场地模型每平方的造价仅仅在2美元左右。\n\n为了使Duckietown能满足在感知、规划和控制等不等难度程度下的使用，它的设计经过了认真的考虑，使得这个平台可以适应非常广泛的应用，覆盖了从本科生教育到进行研究阶段的问题。比如说，单个的Duckiebot仅仅通过进行车道线检测和对控制信号做出反应就可以顺利的在场地中行驶，同时也可以通过识别道路信号进行点到点的导航。在转弯处，既可以通过贴在信号灯上的标志物（AprilTags[^1]）也可以通过物体检测进行信号检测的模拟。实现一些更加复杂的功能，例如基于视觉的多机器人协调，尤其是计算能力方面的限制，使其可以达到了研究层面的挑战。\n\nDuckietown平台突出的优势是它是有一个复杂的软件架构作支持，包含了标定、可配置、初级的感知、物体检测、非线性估计、全局定位、顶层的规划和分散协调模块。我们的目标提供一个可以与复杂的大规模的实现（如[^2]）媲美的完善的教科书式的架构,并且同时对初学者保证了可读性和易理解性。\n\nDuckietown主要的用途是为自动化班的本科生或毕业年级的同学提供帮助。Duckietown尤其适为了完善不同子系统而需要一起工作的同学进行小组学习。这就是它在MIT2016春季学年[^3]的使用方式。同时，Duckietown也非常适合只需要专注于其中一个单独的方向或子系统（比如计算机视觉或非线性控制）的人。利用这种方式可以明显的看到子系统在整个系统中的作用和产生的影响。这是NCTU[^4]的使用方式。Duckietown通过利用已知的设定好的环境方面的先验知识（例如已知的尺寸、颜色、标志物的方位、标志上的基准、允许的网络拓扑等）使得它成为一个更加可用的研究平台。作者使用Duckietown作为研究计算性能不高的情况下的感知[^5]、协同设计[^6]和可以安全相互协调驾驶的合适方案[^7]等课题的平台。\n\n概述：第二部分介绍了使用现成的组件搭建的Duckiebot平台。另外的部分介绍了体系的构建。针对每一个功能模块，我们会介绍基础的实现，一些用到该功能某块的课题，和一些可扩展的可能方式。按照功能的复杂性介绍这个体系架构。第三部分介绍了单系统机器人进行车道线追随的流程。第四部分介绍了涉及到单系统机器人定位，规划和导航的相关子系统。第五部分介绍了涉及到多系统机器人交换信息和协调的方式。最后，我们在第六部分中针对系统级的资源管理做了讨论，在第七部分中进行了总结和结束。 \n\n# Duckie机器人\n\nDuckiebots是为了实现一个经济上可承受、模块化并且易于搭建的自动化小车而设计的。我们提供了三种配置：\n\n* 最小自动化配置能够满足所有单系统机器人的功能实现。\n* 扩展配置加入了一些“奢侈”的特性，以便可以更方便的进行开发，比如操纵杆和板载的无线模块。\n* 集群配置包括了LED灯以作为Duckiebot信息交换并使多机器人可以相互协调。\n\n![表一](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2021.jpg)\n\n## 最小系统配置\n\n1) 最小自动化配置：在最小配置方案里使用到的组件在表1中列出。这些都是非常容易可替换的现成组件。每一个机器人根据能力的不同需要15分钟左右的焊接工作和大约半个小时到一个半小时的专配工作 。\n\n a) 计算：所有的计算处理都依靠树莓派2，它具有900MHz的ARM和1GB的RAM。操作系统是安装了ROS Indigo的Ubuntu14.04。\n\n b) 运动：Duckiebot的设计是基于非常容易找到的差分驱动底盘套件，10-20美元左右就可以在网上买到。马达是通过树莓派上自带的直流电机驱动接口控制。我们使用里程计做估计，所以底盘是易于替换的部分，可以使用任意通过差分方式配置的直流电机替代。\n\n c) 感知：唯一用来感知的模块是一个鱼眼镜头的摄像头。摄像头通过专用的并行接口与树莓派相连。\n\n d) 信息交换：这个版本中的Duckiebot是通过WiFi模块进行交流（用于安装，调试，通过键盘手动控制）。\n\n## 扩展配置\n\n2) 扩展配置：在需要大型团队开发的教学和研究工作中，最好的方式是在网络覆盖的环境中每一个Duckiebot都配备一个板载的网络模块。这些移动热点为每一个机器人构建了一个专用的5GHz的网络，并且通过以太网直接与树莓派相连。作为可选的，使用USB接口的无线模块可以使更加方便的控制。最后，可以使用一个32GB的USB扩展外存，这样可以存储大量的数据日志文件。增加这个配置需要额外的花费75美元。\n\n## 集群配置\n\n3) 集群配置：这个版本的Duckiebot配备了使用PWM波控制的五个RGB LED灯。这些LED灯通过显示Duckiebot的状态和意图以达到和其它的机器人小车进行信息交换的目的。LED灯在基础版本平台的基础上增加了大约30美元的花费。\n\n![表二](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2022.jpg)\n\n[^8] [^9] [^10] [^11] [^12] [^13] [^14] [^15] [^16] [^17] [^18] [^19] [^20] [^21]\n\n在表二中我们将基础版的Duckiebot与其它的一些流行的用于教育和研究的机器人做了一个比较。特别值得注意的是很少有价格低廉的机器人能够使用视觉作为首要的传感器。使用摄像头而不是深度或者红外传感器使得我们的系统更真实的表示了全规模平台。\n\n# 车道线追随\n\nDuckiebot最基础的功能是车道线追随。我们通过图2中的计算机视觉流程实现了车道线追随的功能，流程包含以下步骤：\n\n* 光照变化补偿\n* 道路标志物检测\n* 从图像空间到现实世界的映射，基于外在和内部的校准\n* 基于非参数贝叶斯过滤的车道线定位\n* 车道线控制\n\n![图2](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2002.jpg)\n\n## 基础设施 - Duckie城道路层\n\nDuckietowns的设计是想实现一个易于理解的形式规范的例子，如果环境可以很好的满足这个规范，那么Duckiebot就可以保证正常行驶。\nDuckietowns有两层：道路层和信号层。车道线追随仅仅依赖于道路层。道路层的构建是通过对图3中的五种拼接模块进行组合实现的。道路标志物颜色和位置的精确是用来感知的规范和重要的先验的一部分。\n\n![图3](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2003.jpg)\n\n## 亮度补偿\n\n光照变化是计算机视觉的一个挑战。我们通过以下步骤来描述：\n\n* 如何将机器学习运用到自动机器人的循环当中。\n* 使用先验知识的重要性。正因为此，才在Duckietowns的道路层的规范当中才规定了先验的颜色。\n\n![图4](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2004.jpg)\n\n这个功能的基本实现中，我们使用k-means算法在重采样的道路像素图上检测出主要的集合，我们将它们和先验的期望的红色，黄色，白色，灰色集合进行匹配。然后我们在RGB彩色空间得到一个检测到的集合和将它们平衡后的颜色映射变换。正规化表示出我们关照条件下的先验知识和道路的颜色。通道分离变换：\n\n$$\n\\begin{equation}\nI_{obs}^{(i)} = {a_i}I_{orig}^{(i)} + b_i + n \\text{, } i \\in \\{R,G,B\\}\n\\label{eq:e1}\n\\end{equation}\n$$\n\n$n$表示高斯噪声，而且为了正规化我们假设高斯先验的参数$a\\_{i},b_{i}$。等式的结果是一个6 X 6的线性系统\n\n$$\n\\begin{equation}\n\\begin{pmatrix} A_{data} \\\\ A_{reg} \\\\ \\end{pmatrix}p_I = \\begin{pmatrix} b_{data} \\\\ b_{reg} \\\\ \\end{pmatrix}\n\\label{eq:e2}\n\\end{equation}\n$$\n\n这里的$A\\_{data},b\\_{data}$是从观测模型(1)中得到的结果，$A\\_{reg},b\\_{reg}$是从正规化中得到的结果。向量$p_I$是光照的参数向量。式(2)中的平方剩余误差是拟合程度的估计值和允许的检测错误值。\n\n## 道路标志物检测\n\n在Duckiebots的基本实现中，通过提取沿着道路线标志物边界的定向线段实现道路上的定位，然后运行一个无参数的贝叶斯过滤器。由于贝叶斯过滤引起的鲁棒性，定向线段的检测可能产生许多假阳性。\n\n![图5](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2005.jpg)\n\n定向线段检测的大致流程如图5所示。当每一个颜色被检测以后这个流程被运行一次。当图像被采集以后，并行执行以下两个滤波算法：Canny滤波检测边缘，HSV彩色空间阀值检测给定的颜色。结果通过与门融合。独立的线段通过概率Hough变换[^22]提取。\n\n## 图像到道路的转换\n\n下一步将在图像空间中检测到的定向线段变换到三维坐标中。使用先验的平面图，建立一个从图像空间到三维空间的一一对应关系图是可能的。首先，使用相机内部的标定了的点是没有失序的。同时，变换由一个单应$x_i \\simeq Hx_g$表示，这里$x_i$和$x_g$是图像中和地平面上的点，$H \\in {\\mathbb {R}}^{3x3}$是单应矩阵，$ \\simeq $表示规模等价。\n\n![图6](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2006.jpg)\n\nDuckietown有标定工具使得可以估计相机的特性和外在。\n\n## 车道相对估计\n\n为了执行车道线追随功能，我们必须获取Duckiebot侧面与车道线的距离和方向的预测。不过我们不需要知道纵坐标（沿${\\cal x}$方向）。这是一个用最小充分统计量实现控制任务的很好的例子。\n\n因为随机的很高的认知的异常值（正如图2中看到的检测直线标志物）的存在和处理模型的非线性性使得常用的参数估计方法（如使用了高斯估计的卡尔曼滤波）在这里失效了。因此，在基本的实现中我们使用了非线性、非参数的直方图滤波[^23]。\n\n![图7](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2007.jpg)\n\n小车$t$时刻在道路中的的状态通过降维的状态：${\\cal x} := \\langle d_{t},{\\phi}_t \\rangle$，$d_t \\in [d_min,d_max]$表示侧面和道路线的横向位移（$d = 0$时表示直线是道路线的中线），$ {\\phi}_t \\in [{\\phi}_min,{\\phi}_max]$表示如图七中表示的一样代表和原点的角度。从定义的规范中我们知道了道路线的宽度$w$，以及右边（白色）和左边（黄色）分别的宽度$l_W$和$l_Y$，我们综合使用这些信息，并通过使用道路标志物检测获得的每一个线段就可以得到对状态的预测。\n\n对于每个线段的序列都进行一次计算。我们用每个线段进行一次投票。这些投票放入直方图中，所有的直方图表示了一种计算的可能性（图7）。\n\n当所有的线段都被运算过以后，将直方图规范化并且作为用来测量校准的概率分布函数。\n\n## 车道控制\n\n当我们有了Duckiebot在道路中位置和方向的估计后，就可以用来产生控制信号使它沿着车道行驶。我们明确的设计了曲线也就使得Duckiebot在转弯处（图3(e)）表现出的相对误差非常小，仍然收敛于简单线性跟踪控制。这样就减少了涉及到轨迹的参数化的工作。\n\n我们使用了比例-微分（PD）控制，控制命令形如$u(t)=k\\_{y}d(t)+k\\_{\\phi}{\\phi}(t)$。道路线追踪实际的效果演示可以参考附件第一部分。\n\n![图8](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2008.jpg)\n\n我们评估了车道线追随在有圆角的方形轨道面上（图8）的表现。在理想的光照条件下，Duckiebot车道线追随表现的鲁棒性很好，平均故障时间大于30分钟，交叉轨迹误差始终在0.15m以内。\n\n# 导航\n\n基本的道路线追随流程作为内部的嵌套使得更复杂和有趣的功能得以实现。比如，图9中的导航流程概述。\n\n![图9](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2009.jpg)\n\n## 基础设施 - 第二层 - 信号层\n\nDuckietown的第二层是信号层。这样的信号灯有两种：信号和交通灯。这一部分我们只描述指示信号，有两种类型：交通信号，道路名称。交通信号使得在十字路口可通过成为可能，图10中包含了十字路口的类型（交通信号灯和停止信号）和一些其它重要的道路信息。这些信号包含了所有的用于定位和导航的必要信息。每一个信号都另外添加了一个AprilTag[1]，可以将检测标示与检测引发的功能相互分离。我们限制性的将这些信号放置在八种固定的姿态中的一种，这样可以保证当Duckiebot停在停止线上时这些信号可以在摄像头的视野当中，并且可以使得能够自动生成指示特征图。\n\n![图10](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2010.jpg)\n\n## 地图表示\n\n因为Duckietowns是用模块的拼图组合成的，可以使用一个拼图矩阵（如图3所示）完整的表示出地图。另外，我们指定了在拼图上的信号的存在、类型和位置。因此，这个矩阵可以用来自动的生成两种形式的地图，特征地图用于定位，拓扑网络图用于规划。图十一展示了这两种图。\n\n![图11](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2011.jpg)\n\n## 全局定位\n\n全局定位包括Duckiebot姿态相对于全局参考系的的估计。在全局参考系中的姿态的信息对于其它功能的实现是一个关键，例如到某点的线路规划。\n\n对于人来说，交通信号灯和道路名称对于定位提供了有用的信息。在基本的定位中我们假定自动地图生成模块（图11(a)）已经提供了地图。然而，实时定位和地图构建（SLAM）是必要的扩展。使用已知的标示的尺寸，每当一个标示被检测到时，我们可以就可以获得摄像头相对于标示的相对姿态。因为标示的姿态是已知的，每次检测都可以测量出Duckiebot的绝对位置。在图12(a)中展示了Duckiebot在Duckietown中的十字交叉路口的情况。通过内部的摄像头（图12(c)）可以定位自己在地图中的位置，如图12(b)所示。\n\n![图12](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2012.jpg)\n\n这个基本的算法保证无论何时检测到标示以后都可以准确的定位。在我们的测试中，Duckiebot能够以3Hz的频率进行位置估计，并且当至少有三个标示在可视范围时定位延迟大约在0.1m内。\n\n## 决策规划\n\n为了完成导航的任务，Duckiebot需要一个从由全局定位模型的位置到拓扑道路网络图的映射，通过它才可以搜索得到一个连接可行的路线（图11(b)）。\n\n当图生成以后并且起始位置和目标位置确定以后我们通过$A^*$搜索算法可以生成得到最佳规划路线。一个有趣的扩展是这个可以用来同时模拟一组管理系统来为多个Duckiebot规划线路。\n\n## 有穷状态机\n\n从宏观层面操作Duckiebot的是通过有穷状态机（FSM）进行的，图13展示了简化的版本。有穷状态机中的转换是通过异步的基于事件的感知产生的，例如检测到了停止线。\n\n![图13](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2013.jpg)\n\n这种模式用于混合（离散连续）系统配置下[^24]的Duckiebot控制。根据不同的期望动作开发了一系列的控制，图13中的模式用来选择哪种控制被触发同时将其与实际的轮子驱动相连。\n\n![图14](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2014.jpg)\n\n## 路径遍历\n\n当规划生成以后，需要根据每个交叉路口正确的转弯序列进行。比如图11-(b)中的序列对应[s,f,s,f,r,f,s,f]，这里的f，s，r，l分别对应追随道路线，直走，右转，左转，使得Duckiebot从节点21到节点31。\n\n每一个交叉路口的行驶是通过执行序列状态“LANE_FOLLOWING”$\\to$“INTERSECTION_TRAVERSAL”的循环直到到达某个结束态（在该点我们通过忽略“COORDINATION”行为和假设路口总是可通过的来简化这个过程）实现的。从LANE_FOLLOWING到INTERSECTION_TRAVERSAL的转换是因为到达了停止线引发的。从INTERSECTION_TRAVERSAL再回到LANE_FOLLOWING的转换是由道路线预测超过了某个阀值引起的。\n\n做规划的时间从初始化到进行平均需要8.38秒，包括了将拼图的地图规范文件到图形表示转换，对于用于规划的道路网络包含了大致30个节点。手工选择路线，规划算法返回可视化的反馈时间大致在2.34秒以内。如果存在网络延迟的话需要更多的时间。\n\nDuckiebot实际行驶很大程度上取决于存在小车交汇的交叉路口的数量。\n\n# 多机器人协同\n\n高级的功能包括多Duckiebot同时在一个Duckietown中进行交互。这种情况下，Duckiebot必须相互协调分配共有的资源。\n\n我们考虑其中两种交互模式：交通信号灯和停止线，如图15所示。交通信号灯交互是一种简化并且集中地的交互解决方案（仅仅使用交通信号灯交互就足以构建和测试多机器人算法）。停止信号需要Duckiebot的信息交流。交流是分布式并且基于感知。我们使用LED表示目的和状态。当Duckiebot停在停止线上时情况会变得复杂，它的左侧是在摄像头视野之外。\n\n![图15](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2015.jpg)\n\n## 基础设施 - 交通信号灯\n\n第二层上的第二种信号是交通信号灯。交通信号灯单元是在每条将要出现的道路正面装配的LED灯。\n\n交通信号灯实际上是为Duckiebot建立一个无线网络。\n\n## LED灯检测和翻译\n\n基于LED灯的信息交换系统有两个单独的组成部分：一个是用于捕捉图像流和决定场地中所有LED灯位置和频率的检测器，另一个是接收信息和对每一个检测器标记物理对象（小车或交交通信号灯）和协调消息的解释器。\n\n图16展示了LED信息交流的模式。图17上半部分和下半部分分别展示了LED检测器和解释器的详细情况。\n\n![图16](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2016.jpg)\n\n![图17](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2017.jpg)\n\n解释器利用假设分辨检测出的LED灯在水平线以上的属于交通信号灯，水平线以下的属于Duckiebot的信息交换灯。\n\n## 协调 - 信号灯\n\n交通信号灯十字路口有交通信号灯盒子，朝着每一个方向都有一个LED灯。交通信号灯盒子循环的一次朝一个方向发出通行信号，这样当多个Duckiebot从不同的方向驶来的时候不会在交汇路口的中央相遇（图15）。这种交通信号灯十字路口的处理方式是很直接的：当一个Duckiebot到达停止线时，它就开始检测视野内的LED灯的闪烁频率，当检测到与通行信号相对应的频率时，就启动通过交汇路口。\n\n## 协调 - 交叉路口\n\n停止信号十字路口没有任何的中心建筑，因此，Duckiebot需要通过安装在它们上面的LED灯进行信息交换进而协调通过十字路口的顺序。如图15所示，每个Duckiebot只能够看到它们自己右面和前面的Duckiebot，不能看到十字路口左面的Duckiebot。并且，其它Duckiebot发出的检测信号需要一个明显的时间（约2秒），个别Duckiebot的检测时间是不同步的。基础的协调算法已经使得传感的局限到可控范围。直观地讲，协议遵守以下几条规则：(a)每个Duckiebot需要服从于右边的Duckiebot（因为它位于它右边Duckiebot的可视范围之外），(b)当两个相向而来的Duckiebot到达交互路口时，先到的那个先行驶通过，(c)当相向而来的两个Duckiebot根据检测精度几乎同时到达时，通过等待一个随机的时间间隔再尝试与另一个Duckiebot协调沟通来解决这个问题。\n\n协调的模式是通过一系列图13中的状态进行处理。处于AT_STOP_CLEARING时，Duckiebot需要等待预设的时间以保证交汇路口是可通行的，处于AT_STOP_CLEAR时，Duckiebot需要等待到没有其它的Duckiebot在交汇路口，以此保证确实是可以前进的，当处于RESERVING时，Duckiebot是表示（通过它的LED灯）它将要尝试行驶通过，CONFLICT表示两个Duckiebot同时试图通过路口，直到到GO时Duckiebot才开始行驶通过交汇路口。\n\n## 评估\n\n我们对两种类型下的协调行为进行了测试并实际连续进行了几个小时。当预想的算法出现时，比如，小车停在了沿着道路方向的停止线上，协调行为可以可靠地安排每次一辆小车行驶通过交汇路口因此避免碰撞。在停止信号交汇路口的协调结果如图18所示。信号A，B和C分别对应绿色，红色和黄色LED灯。\n\n![图18](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2018.jpg)\n\n# 资源管理\n\n我们的目的是搭建一个不昂贵但是可用的自动化教育和研究的平台。但是，当成本降低的同时可用的资源，如传感器、计算性能、内存、电源以及带宽也会被降低。\n\n为了达到我们的目的就需要在软件架构上开发增加的算法。我们已经在设计中使用了两种基础的策略来减少资源开销：基于事件的计算和驱动模式感知。\n\n## 基于事件的计算\n\n1)基于事件的计算：在我们的实现中我们利用了机器人操作系统(ROS)，它重要使用了发布-订阅模式用于数据交换。\n\n因为平台计算资源的限制，程序（节点）使用基于事件和限制频率的处理和发布模式：一个节点只当输出与上次发布的输出有明显的不同并且在发布频率以内时才发布。\n\n### 模型 - 驱动型感知\n\n2)驱动模式的感知：最多的计算集中在与感知有关的任务上，尤其是我们只使用视觉作为传感模块。为了实现多机器人最为复杂的功能就需要机器人处理很多的感知任务（直线检测、道路线滤波、停止线滤波、信号检测、LED检测、LED解码、小车检测）不过不是同时的。因此我们利用一些开关。这些开关被所有节点订阅并且允许它们只选择订阅那些只有当它们应该作用时的模式下的必要的输入（图像）。表3展示了在每一种FSM模式中哪种感知模块会起作用的概况。\n\n![表三](http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2023.jpg)\n\n我们使用了与之相似的办法在根据给出任务的请求来控制摄像头图像的分辨率。\n\n# 结论\n\n我们展示了一个可扩展的用于自动化教育和研究的平台Duckietown。我们在开发这个系统中通过精确地规范和资源管理使其得以实现。\n\nDuckietown已经（或计划在下个学期使用）被五个机构使用：清华大学（中国）、国立交通大学（台湾）、麻省理工大学MIT、伦斯勒理工学院、罗格斯大学（美国）。\n\n所有的资料都是基于开源/免费软件协议的；资料可以在<http://duckietown.mit.edu>网站找到。我们希望其他机器人团体的人可以使用这个平台并且帮助它成长。\n\n# 致谢\n\nThis work was supported by the National Science Foundation, with National Robotics Initiative award IIS-1405259, and with Robust Intelligence award IIS-1318392. Additional support was given by the Toyota Research Institute and the Ford Motor Company. We would also like to acknowledge the contributions made by the studens during the Spring 2016 semester of the MIT 2.166 class.\n\n# 引用\n\n[^1]: E. Olson, “AprilTag: A robust and flexible visual fiducial system,” in 2011 IEEE International Conference on Robotics and Automation. Institute of Electrical & Electronics Engineers (IEEE), may 2011. [Online]. Available: http://dx.doi.org/10.1109/icra.2011.5979561\n[^2]: P. Furgale, U. Schwesinger et al., “Toward automated driving in cities using close-to-market sensors: An overview of the v-charge project,” in 2013 IEEE Intelligent Vehicles Symposium (IV). Institute of Electrical & Electronics Engineers (IEEE), jun 2013. [Online]. Available: http://dx.doi.org/10.1109/ivs.2013.6629566\n[^3]: J. Tani, L. Paull et al. (2016) Duckietown: an innovative way to teach autonomy, submitted to EDUROBOTICS 2016. [Online]. Available: http://tiny.cc/9vduey\n[^4]: H.-C. Wang. (2016) Icn9005 robotic vision. [Online]. Available: duckietown.nctu.edu.tw\n[^5]: L. Paull, G. Huang, and J. J. Leonard, “A unified resource-constrained framework for graph SLAM,” in 2016 IEEE International Conference on Robotics and Automation (ICRA), May 2016, pp. 1346–1353.\n[^6]: A. Censi, “A mathematical theory of co-design,” CoRR, vol. abs/1512.08055, 2015. [Online]. Available: http://arxiv.org/abs/1512.08055\n[^7]: D. Hoehener, G. Huang, and D. D. Vecchio, “Design of a lane departure driver-assist system under safety specifications,” in Conference on Decision and Control, 2016.\n[^8]: M. Rubenstein, B. Cimino et al., “AERobot: An affordable one-robotper-student system for early robotics education,” in IEEE International Conference on Robotics and Automation (ICRA), 2015, pp. 6107–6113.\n[^9]: M. Rubenstein, C. Ahler, and R. Nagpal, “Kilobot: A low cost scalable robot system for collective behaviors,” in 2012 IEEE International Conference on Robotics and Automation. Institute of Electrical & Electronics Engineers (IEEE), may 2012.\n[^10]: B. Thursk`y and G. Gaˇspar, “Using Pololu’s 3pi robot in the education process.” [Online]. Available: http://tiny.cc/zfluey\n[^11]: S. Kernbach, “Swarmrobot.org - Open-hardware microrobotic project for large-scale artificial swarms,” arXiv preprint arXiv:1110.5762,2011. [Online]. Available: http://arxiv.org/pdf/1110.5762v1.pdf\n[^12]: P. Robinette, R. Meuth et al., “LabratTM: Miniature robot for students, researchers, and hobbyists,” in 2009 IEEE/RSJ International Conference on Intelligent Robots and Systems, Oct 2009, pp. 1007–1012.\n[^13]: F. Riedo, M. Chevalier et al., “Thymio II, a robot that grows wiser with children,” in 2013 IEEE Workshop on Advanced Robotics and its Social Impacts. Institute of Electrical & Electronics Engineers (IEEE), nov 2013. [Online]. Available: http://dx.doi.org/10.1109/arso.2013.6705527\n[^14]: P. Inc. (2016) Scribbler s3 robot. [Online]. Available: https://www.parallax.com/product/28333\n[^15]: R. K. Cole, “STEM outreach with the Boe-Bot,” Robots in K-12 Education: A New Technology for Learning: A New Technology for Learning, p. 245, 2012.\n[^16]: Parallax. (2016) Activitybot robot kit. [Online]. Available: https://www.parallax.com/product/32500\n[^17]: M. Dekan, F. Duchoˇn et al., “iRobot create used in education,” Journal of Mechanics Engineering and Automation, vol. 3, no. 4, pp. 197–202,2013.\n[^18]: Bot’n Roll. (2016) Bot’n roll ONE A. [Online]. Available: http://botnroll.com/onea en/\n[^19]: J. McLurkin, A. McMullen et al., “A robot system design for low-cost multi-robot manipulation,” in 2014 IEEE/RSJ International Conference on Intelligent Robots and Systems. IEEE, 2014, pp. 912–918.\n[^20]: Robots in Course. (2016) Hemission. [Online]. Available: http://www.robotsinsearch.com/products/hemisson\n[^21]: S. Wilson, R. Gameros et al., “Pheeno, a versatile swarm robotic research and education platform,” IEEE Robotics and Automation Letters, vol. 1, no. 2, pp. 884–891, July 2016.\n[^22]: D. H. Ballard, “Generalizing the Hough transform to detect arbitrary shapes,” Pattern recognition, vol. 13, no. 2, pp. 111–122, 1981.\n[^23]: S. Thrun, W. Burgard, and D. Fox, Probabilistic Robotics, 2005.\n[^24]: T. A. Henzinger, “The theory of hybrid automata,” in Logic in Computer Science, 1996. LICS ’96. Proceedings., Eleventh Annual IEEE Symposium on, Jul 1996, pp. 278–292.\n\n","slug":"翻译-Duckietownan-Open-Inexpensive-and-Flexible-Platform-for-Autonomy-Education-and-Research","published":1,"updated":"2016-11-09T06:36:39.633Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3ye000yp4qtcd5tsvw1","content":"<blockquote>\n<p><a href=\"http://duckietown.mit.edu/\" target=\"_blank\" rel=\"external\">Duckietown</a>是MIT的一个课程项目，该文是翻译自该小组向<a href=\"http://icra2017.org/\" target=\"_blank\" rel=\"external\">International Conference on Robotics and Automation (ICRA) 2017</a>的论文。</p>\n</blockquote>\n<p>摘要–Duckietown对自动化的教学和研究来说是一个开源的、廉价而且扩展性好的平台。这个平台由自主机器人小车（“Duckiebots”）和城市（“Duckietowns”）组成，自主小车用现成组件组装成而成，城市包含了道路、引导标示、交通信号灯障碍物和需要运输的居民（duckies）。Duckietown平台的优势是利用利用少量的投入可以实现很广泛的功能。一个Duckiebot仅仅利用一个单目摄像头来感知整个世界和一个机载的树莓派二代来执行所有的处理，到目前为止已经具备以下功能：追随车道线并且避开障碍物、行人（duckies）和其它的Duckietown；在全局地图中进行定位；在城市中导航；以及和其它的Duckiebots协作以避免发生碰撞。Duckietown对于教学来说是一个非常有用的工具，不需要开发所有与所需课程相关的基础设施和工具，这样对教育机构来说可以节省大量的资金和时间。所有的资源都是开源、可获得的，目的是为了其它的团体也可以把这个平台应用于教育和研究。到目前为止已经有另外的四个机构使用了Duckietown平台。</p>\n<a id=\"more\"></a>\n<h1 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h1><p>自动驾驶小车定位成为一项普遍并且可用的自动化应用。但是，还有很多挑战存在在实现广泛的使用前，这其中相关的更多的是整体系统方面的，而不只是单个组成部分。如包括硬件和算法的一体化设计，感知和控制的解耦和，在并发过程中最佳的处理资源分配以及多agent系统的安全。</p>\n<p>一个现代的自动化方面的课程应该可以同时训练学生在单个系统以及系统级的方面。但是仍然存在一些挑战，第一，构建一个全尺寸的车对大多数的机构来说太昂贵的并且增加了难度和安全方面的问题。第二，构建所有的组件和结构需要大量的时间，并且多数浪费在与希望的目的不同上的任务上的。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2001.jpg\" alt=\"图1\"></p>\n<p>为了解决这个问题，我们意将Duckietown（图1）做成一个自动化方面教育和研究的开源平台。这个平台包括了一个叫做“Duckiebots”的小车。最小化系统仅仅只是用了一个树莓派二代做所有的计算和一个单目摄像头做感知，而且已经具备了完整的但系统和多系统机器人的功能。Duckiebots住在用模块化的组件拼装而成的丰富的“Duckietowns”微模型里。这个项目里异想天开和引人注目的外观是考虑到功能上延伸性的深思熟虑的选择。Duckietowns和Duckiebots是很容易进行复制并且花费低廉，每辆小车大概只需要花费150美元，场地模型每平方的造价仅仅在2美元左右。</p>\n<p>为了使Duckietown能满足在感知、规划和控制等不等难度程度下的使用，它的设计经过了认真的考虑，使得这个平台可以适应非常广泛的应用，覆盖了从本科生教育到进行研究阶段的问题。比如说，单个的Duckiebot仅仅通过进行车道线检测和对控制信号做出反应就可以顺利的在场地中行驶，同时也可以通过识别道路信号进行点到点的导航。在转弯处，既可以通过贴在信号灯上的标志物（AprilTags[^1]）也可以通过物体检测进行信号检测的模拟。实现一些更加复杂的功能，例如基于视觉的多机器人协调，尤其是计算能力方面的限制，使其可以达到了研究层面的挑战。</p>\n<p>Duckietown平台突出的优势是它是有一个复杂的软件架构作支持，包含了标定、可配置、初级的感知、物体检测、非线性估计、全局定位、顶层的规划和分散协调模块。我们的目标提供一个可以与复杂的大规模的实现（如[^2]）媲美的完善的教科书式的架构,并且同时对初学者保证了可读性和易理解性。</p>\n<p>Duckietown主要的用途是为自动化班的本科生或毕业年级的同学提供帮助。Duckietown尤其适为了完善不同子系统而需要一起工作的同学进行小组学习。这就是它在MIT2016春季学年[^3]的使用方式。同时，Duckietown也非常适合只需要专注于其中一个单独的方向或子系统（比如计算机视觉或非线性控制）的人。利用这种方式可以明显的看到子系统在整个系统中的作用和产生的影响。这是NCTU[^4]的使用方式。Duckietown通过利用已知的设定好的环境方面的先验知识（例如已知的尺寸、颜色、标志物的方位、标志上的基准、允许的网络拓扑等）使得它成为一个更加可用的研究平台。作者使用Duckietown作为研究计算性能不高的情况下的感知[^5]、协同设计[^6]和可以安全相互协调驾驶的合适方案[^7]等课题的平台。</p>\n<p>概述：第二部分介绍了使用现成的组件搭建的Duckiebot平台。另外的部分介绍了体系的构建。针对每一个功能模块，我们会介绍基础的实现，一些用到该功能某块的课题，和一些可扩展的可能方式。按照功能的复杂性介绍这个体系架构。第三部分介绍了单系统机器人进行车道线追随的流程。第四部分介绍了涉及到单系统机器人定位，规划和导航的相关子系统。第五部分介绍了涉及到多系统机器人交换信息和协调的方式。最后，我们在第六部分中针对系统级的资源管理做了讨论，在第七部分中进行了总结和结束。 </p>\n<h1 id=\"Duckie机器人\"><a href=\"#Duckie机器人\" class=\"headerlink\" title=\"Duckie机器人\"></a>Duckie机器人</h1><p>Duckiebots是为了实现一个经济上可承受、模块化并且易于搭建的自动化小车而设计的。我们提供了三种配置：</p>\n<ul>\n<li>最小自动化配置能够满足所有单系统机器人的功能实现。</li>\n<li>扩展配置加入了一些“奢侈”的特性，以便可以更方便的进行开发，比如操纵杆和板载的无线模块。</li>\n<li>集群配置包括了LED灯以作为Duckiebot信息交换并使多机器人可以相互协调。</li>\n</ul>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2021.jpg\" alt=\"表一\"></p>\n<h2 id=\"最小系统配置\"><a href=\"#最小系统配置\" class=\"headerlink\" title=\"最小系统配置\"></a>最小系统配置</h2><p>1) 最小自动化配置：在最小配置方案里使用到的组件在表1中列出。这些都是非常容易可替换的现成组件。每一个机器人根据能力的不同需要15分钟左右的焊接工作和大约半个小时到一个半小时的专配工作 。</p>\n<p> a) 计算：所有的计算处理都依靠树莓派2，它具有900MHz的ARM和1GB的RAM。操作系统是安装了ROS Indigo的Ubuntu14.04。</p>\n<p> b) 运动：Duckiebot的设计是基于非常容易找到的差分驱动底盘套件，10-20美元左右就可以在网上买到。马达是通过树莓派上自带的直流电机驱动接口控制。我们使用里程计做估计，所以底盘是易于替换的部分，可以使用任意通过差分方式配置的直流电机替代。</p>\n<p> c) 感知：唯一用来感知的模块是一个鱼眼镜头的摄像头。摄像头通过专用的并行接口与树莓派相连。</p>\n<p> d) 信息交换：这个版本中的Duckiebot是通过WiFi模块进行交流（用于安装，调试，通过键盘手动控制）。</p>\n<h2 id=\"扩展配置\"><a href=\"#扩展配置\" class=\"headerlink\" title=\"扩展配置\"></a>扩展配置</h2><p>2) 扩展配置：在需要大型团队开发的教学和研究工作中，最好的方式是在网络覆盖的环境中每一个Duckiebot都配备一个板载的网络模块。这些移动热点为每一个机器人构建了一个专用的5GHz的网络，并且通过以太网直接与树莓派相连。作为可选的，使用USB接口的无线模块可以使更加方便的控制。最后，可以使用一个32GB的USB扩展外存，这样可以存储大量的数据日志文件。增加这个配置需要额外的花费75美元。</p>\n<h2 id=\"集群配置\"><a href=\"#集群配置\" class=\"headerlink\" title=\"集群配置\"></a>集群配置</h2><p>3) 集群配置：这个版本的Duckiebot配备了使用PWM波控制的五个RGB LED灯。这些LED灯通过显示Duckiebot的状态和意图以达到和其它的机器人小车进行信息交换的目的。LED灯在基础版本平台的基础上增加了大约30美元的花费。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2022.jpg\" alt=\"表二\"></p>\n<p>[^8] [^9] [^10] [^11] [^12] [^13] [^14] [^15] [^16] [^17] [^18] [^19] [^20] [^21]</p>\n<p>在表二中我们将基础版的Duckiebot与其它的一些流行的用于教育和研究的机器人做了一个比较。特别值得注意的是很少有价格低廉的机器人能够使用视觉作为首要的传感器。使用摄像头而不是深度或者红外传感器使得我们的系统更真实的表示了全规模平台。</p>\n<h1 id=\"车道线追随\"><a href=\"#车道线追随\" class=\"headerlink\" title=\"车道线追随\"></a>车道线追随</h1><p>Duckiebot最基础的功能是车道线追随。我们通过图2中的计算机视觉流程实现了车道线追随的功能，流程包含以下步骤：</p>\n<ul>\n<li>光照变化补偿</li>\n<li>道路标志物检测</li>\n<li>从图像空间到现实世界的映射，基于外在和内部的校准</li>\n<li>基于非参数贝叶斯过滤的车道线定位</li>\n<li>车道线控制</li>\n</ul>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2002.jpg\" alt=\"图2\"></p>\n<h2 id=\"基础设施-Duckie城道路层\"><a href=\"#基础设施-Duckie城道路层\" class=\"headerlink\" title=\"基础设施 - Duckie城道路层\"></a>基础设施 - Duckie城道路层</h2><p>Duckietowns的设计是想实现一个易于理解的形式规范的例子，如果环境可以很好的满足这个规范，那么Duckiebot就可以保证正常行驶。<br>Duckietowns有两层：道路层和信号层。车道线追随仅仅依赖于道路层。道路层的构建是通过对图3中的五种拼接模块进行组合实现的。道路标志物颜色和位置的精确是用来感知的规范和重要的先验的一部分。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2003.jpg\" alt=\"图3\"></p>\n<h2 id=\"亮度补偿\"><a href=\"#亮度补偿\" class=\"headerlink\" title=\"亮度补偿\"></a>亮度补偿</h2><p>光照变化是计算机视觉的一个挑战。我们通过以下步骤来描述：</p>\n<ul>\n<li>如何将机器学习运用到自动机器人的循环当中。</li>\n<li>使用先验知识的重要性。正因为此，才在Duckietowns的道路层的规范当中才规定了先验的颜色。</li>\n</ul>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2004.jpg\" alt=\"图4\"></p>\n<p>这个功能的基本实现中，我们使用k-means算法在重采样的道路像素图上检测出主要的集合，我们将它们和先验的期望的红色，黄色，白色，灰色集合进行匹配。然后我们在RGB彩色空间得到一个检测到的集合和将它们平衡后的颜色映射变换。正规化表示出我们关照条件下的先验知识和道路的颜色。通道分离变换：</p>\n<p>$$<br>\\begin{equation}<br>I_{obs}^{(i)} = {a<em>i}I</em>{orig}^{(i)} + b_i + n \\text{, } i \\in {R,G,B}<br>\\label{eq:e1}<br>\\end{equation}<br>$$</p>\n<p>$n$表示高斯噪声，而且为了正规化我们假设高斯先验的参数$a_{i},b_{i}$。等式的结果是一个6 X 6的线性系统</p>\n<p>$$<br>\\begin{equation}<br>\\begin{pmatrix} A<em>{data} \\ A</em>{reg} \\ \\end{pmatrix}p<em>I = \\begin{pmatrix} b</em>{data} \\ b_{reg} \\ \\end{pmatrix}<br>\\label{eq:e2}<br>\\end{equation}<br>$$</p>\n<p>这里的$A_{data},b_{data}$是从观测模型(1)中得到的结果，$A_{reg},b_{reg}$是从正规化中得到的结果。向量$p_I$是光照的参数向量。式(2)中的平方剩余误差是拟合程度的估计值和允许的检测错误值。</p>\n<h2 id=\"道路标志物检测\"><a href=\"#道路标志物检测\" class=\"headerlink\" title=\"道路标志物检测\"></a>道路标志物检测</h2><p>在Duckiebots的基本实现中，通过提取沿着道路线标志物边界的定向线段实现道路上的定位，然后运行一个无参数的贝叶斯过滤器。由于贝叶斯过滤引起的鲁棒性，定向线段的检测可能产生许多假阳性。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2005.jpg\" alt=\"图5\"></p>\n<p>定向线段检测的大致流程如图5所示。当每一个颜色被检测以后这个流程被运行一次。当图像被采集以后，并行执行以下两个滤波算法：Canny滤波检测边缘，HSV彩色空间阀值检测给定的颜色。结果通过与门融合。独立的线段通过概率Hough变换[^22]提取。</p>\n<h2 id=\"图像到道路的转换\"><a href=\"#图像到道路的转换\" class=\"headerlink\" title=\"图像到道路的转换\"></a>图像到道路的转换</h2><p>下一步将在图像空间中检测到的定向线段变换到三维坐标中。使用先验的平面图，建立一个从图像空间到三维空间的一一对应关系图是可能的。首先，使用相机内部的标定了的点是没有失序的。同时，变换由一个单应$x_i \\simeq Hx_g$表示，这里$x_i$和$x_g$是图像中和地平面上的点，$H \\in {\\mathbb {R}}^{3x3}$是单应矩阵，$ \\simeq $表示规模等价。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2006.jpg\" alt=\"图6\"></p>\n<p>Duckietown有标定工具使得可以估计相机的特性和外在。</p>\n<h2 id=\"车道相对估计\"><a href=\"#车道相对估计\" class=\"headerlink\" title=\"车道相对估计\"></a>车道相对估计</h2><p>为了执行车道线追随功能，我们必须获取Duckiebot侧面与车道线的距离和方向的预测。不过我们不需要知道纵坐标（沿${\\cal x}$方向）。这是一个用最小充分统计量实现控制任务的很好的例子。</p>\n<p>因为随机的很高的认知的异常值（正如图2中看到的检测直线标志物）的存在和处理模型的非线性性使得常用的参数估计方法（如使用了高斯估计的卡尔曼滤波）在这里失效了。因此，在基本的实现中我们使用了非线性、非参数的直方图滤波[^23]。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2007.jpg\" alt=\"图7\"></p>\n<p>小车$t$时刻在道路中的的状态通过降维的状态：${\\cal x} := \\langle d_{t},{\\phi}_t \\rangle$，$d_t \\in [d_min,d_max]$表示侧面和道路线的横向位移（$d = 0$时表示直线是道路线的中线），$ {\\phi}_t \\in [{\\phi}_min,{\\phi}_max]$表示如图七中表示的一样代表和原点的角度。从定义的规范中我们知道了道路线的宽度$w$，以及右边（白色）和左边（黄色）分别的宽度$l_W$和$l_Y$，我们综合使用这些信息，并通过使用道路标志物检测获得的每一个线段就可以得到对状态的预测。</p>\n<p>对于每个线段的序列都进行一次计算。我们用每个线段进行一次投票。这些投票放入直方图中，所有的直方图表示了一种计算的可能性（图7）。</p>\n<p>当所有的线段都被运算过以后，将直方图规范化并且作为用来测量校准的概率分布函数。</p>\n<h2 id=\"车道控制\"><a href=\"#车道控制\" class=\"headerlink\" title=\"车道控制\"></a>车道控制</h2><p>当我们有了Duckiebot在道路中位置和方向的估计后，就可以用来产生控制信号使它沿着车道行驶。我们明确的设计了曲线也就使得Duckiebot在转弯处（图3(e)）表现出的相对误差非常小，仍然收敛于简单线性跟踪控制。这样就减少了涉及到轨迹的参数化的工作。</p>\n<p>我们使用了比例-微分（PD）控制，控制命令形如$u(t)=k_{y}d(t)+k_{\\phi}{\\phi}(t)$。道路线追踪实际的效果演示可以参考附件第一部分。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2008.jpg\" alt=\"图8\"></p>\n<p>我们评估了车道线追随在有圆角的方形轨道面上（图8）的表现。在理想的光照条件下，Duckiebot车道线追随表现的鲁棒性很好，平均故障时间大于30分钟，交叉轨迹误差始终在0.15m以内。</p>\n<h1 id=\"导航\"><a href=\"#导航\" class=\"headerlink\" title=\"导航\"></a>导航</h1><p>基本的道路线追随流程作为内部的嵌套使得更复杂和有趣的功能得以实现。比如，图9中的导航流程概述。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2009.jpg\" alt=\"图9\"></p>\n<h2 id=\"基础设施-第二层-信号层\"><a href=\"#基础设施-第二层-信号层\" class=\"headerlink\" title=\"基础设施 - 第二层 - 信号层\"></a>基础设施 - 第二层 - 信号层</h2><p>Duckietown的第二层是信号层。这样的信号灯有两种：信号和交通灯。这一部分我们只描述指示信号，有两种类型：交通信号，道路名称。交通信号使得在十字路口可通过成为可能，图10中包含了十字路口的类型（交通信号灯和停止信号）和一些其它重要的道路信息。这些信号包含了所有的用于定位和导航的必要信息。每一个信号都另外添加了一个AprilTag[1]，可以将检测标示与检测引发的功能相互分离。我们限制性的将这些信号放置在八种固定的姿态中的一种，这样可以保证当Duckiebot停在停止线上时这些信号可以在摄像头的视野当中，并且可以使得能够自动生成指示特征图。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2010.jpg\" alt=\"图10\"></p>\n<h2 id=\"地图表示\"><a href=\"#地图表示\" class=\"headerlink\" title=\"地图表示\"></a>地图表示</h2><p>因为Duckietowns是用模块的拼图组合成的，可以使用一个拼图矩阵（如图3所示）完整的表示出地图。另外，我们指定了在拼图上的信号的存在、类型和位置。因此，这个矩阵可以用来自动的生成两种形式的地图，特征地图用于定位，拓扑网络图用于规划。图十一展示了这两种图。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2011.jpg\" alt=\"图11\"></p>\n<h2 id=\"全局定位\"><a href=\"#全局定位\" class=\"headerlink\" title=\"全局定位\"></a>全局定位</h2><p>全局定位包括Duckiebot姿态相对于全局参考系的的估计。在全局参考系中的姿态的信息对于其它功能的实现是一个关键，例如到某点的线路规划。</p>\n<p>对于人来说，交通信号灯和道路名称对于定位提供了有用的信息。在基本的定位中我们假定自动地图生成模块（图11(a)）已经提供了地图。然而，实时定位和地图构建（SLAM）是必要的扩展。使用已知的标示的尺寸，每当一个标示被检测到时，我们可以就可以获得摄像头相对于标示的相对姿态。因为标示的姿态是已知的，每次检测都可以测量出Duckiebot的绝对位置。在图12(a)中展示了Duckiebot在Duckietown中的十字交叉路口的情况。通过内部的摄像头（图12(c)）可以定位自己在地图中的位置，如图12(b)所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2012.jpg\" alt=\"图12\"></p>\n<p>这个基本的算法保证无论何时检测到标示以后都可以准确的定位。在我们的测试中，Duckiebot能够以3Hz的频率进行位置估计，并且当至少有三个标示在可视范围时定位延迟大约在0.1m内。</p>\n<h2 id=\"决策规划\"><a href=\"#决策规划\" class=\"headerlink\" title=\"决策规划\"></a>决策规划</h2><p>为了完成导航的任务，Duckiebot需要一个从由全局定位模型的位置到拓扑道路网络图的映射，通过它才可以搜索得到一个连接可行的路线（图11(b)）。</p>\n<p>当图生成以后并且起始位置和目标位置确定以后我们通过$A^*$搜索算法可以生成得到最佳规划路线。一个有趣的扩展是这个可以用来同时模拟一组管理系统来为多个Duckiebot规划线路。</p>\n<h2 id=\"有穷状态机\"><a href=\"#有穷状态机\" class=\"headerlink\" title=\"有穷状态机\"></a>有穷状态机</h2><p>从宏观层面操作Duckiebot的是通过有穷状态机（FSM）进行的，图13展示了简化的版本。有穷状态机中的转换是通过异步的基于事件的感知产生的，例如检测到了停止线。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2013.jpg\" alt=\"图13\"></p>\n<p>这种模式用于混合（离散连续）系统配置下[^24]的Duckiebot控制。根据不同的期望动作开发了一系列的控制，图13中的模式用来选择哪种控制被触发同时将其与实际的轮子驱动相连。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2014.jpg\" alt=\"图14\"></p>\n<h2 id=\"路径遍历\"><a href=\"#路径遍历\" class=\"headerlink\" title=\"路径遍历\"></a>路径遍历</h2><p>当规划生成以后，需要根据每个交叉路口正确的转弯序列进行。比如图11-(b)中的序列对应[s,f,s,f,r,f,s,f]，这里的f，s，r，l分别对应追随道路线，直走，右转，左转，使得Duckiebot从节点21到节点31。</p>\n<p>每一个交叉路口的行驶是通过执行序列状态“LANE_FOLLOWING”$\\to$“INTERSECTION_TRAVERSAL”的循环直到到达某个结束态（在该点我们通过忽略“COORDINATION”行为和假设路口总是可通过的来简化这个过程）实现的。从LANE_FOLLOWING到INTERSECTION_TRAVERSAL的转换是因为到达了停止线引发的。从INTERSECTION_TRAVERSAL再回到LANE_FOLLOWING的转换是由道路线预测超过了某个阀值引起的。</p>\n<p>做规划的时间从初始化到进行平均需要8.38秒，包括了将拼图的地图规范文件到图形表示转换，对于用于规划的道路网络包含了大致30个节点。手工选择路线，规划算法返回可视化的反馈时间大致在2.34秒以内。如果存在网络延迟的话需要更多的时间。</p>\n<p>Duckiebot实际行驶很大程度上取决于存在小车交汇的交叉路口的数量。</p>\n<h1 id=\"多机器人协同\"><a href=\"#多机器人协同\" class=\"headerlink\" title=\"多机器人协同\"></a>多机器人协同</h1><p>高级的功能包括多Duckiebot同时在一个Duckietown中进行交互。这种情况下，Duckiebot必须相互协调分配共有的资源。</p>\n<p>我们考虑其中两种交互模式：交通信号灯和停止线，如图15所示。交通信号灯交互是一种简化并且集中地的交互解决方案（仅仅使用交通信号灯交互就足以构建和测试多机器人算法）。停止信号需要Duckiebot的信息交流。交流是分布式并且基于感知。我们使用LED表示目的和状态。当Duckiebot停在停止线上时情况会变得复杂，它的左侧是在摄像头视野之外。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2015.jpg\" alt=\"图15\"></p>\n<h2 id=\"基础设施-交通信号灯\"><a href=\"#基础设施-交通信号灯\" class=\"headerlink\" title=\"基础设施 - 交通信号灯\"></a>基础设施 - 交通信号灯</h2><p>第二层上的第二种信号是交通信号灯。交通信号灯单元是在每条将要出现的道路正面装配的LED灯。</p>\n<p>交通信号灯实际上是为Duckiebot建立一个无线网络。</p>\n<h2 id=\"LED灯检测和翻译\"><a href=\"#LED灯检测和翻译\" class=\"headerlink\" title=\"LED灯检测和翻译\"></a>LED灯检测和翻译</h2><p>基于LED灯的信息交换系统有两个单独的组成部分：一个是用于捕捉图像流和决定场地中所有LED灯位置和频率的检测器，另一个是接收信息和对每一个检测器标记物理对象（小车或交交通信号灯）和协调消息的解释器。</p>\n<p>图16展示了LED信息交流的模式。图17上半部分和下半部分分别展示了LED检测器和解释器的详细情况。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2016.jpg\" alt=\"图16\"></p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2017.jpg\" alt=\"图17\"></p>\n<p>解释器利用假设分辨检测出的LED灯在水平线以上的属于交通信号灯，水平线以下的属于Duckiebot的信息交换灯。</p>\n<h2 id=\"协调-信号灯\"><a href=\"#协调-信号灯\" class=\"headerlink\" title=\"协调 - 信号灯\"></a>协调 - 信号灯</h2><p>交通信号灯十字路口有交通信号灯盒子，朝着每一个方向都有一个LED灯。交通信号灯盒子循环的一次朝一个方向发出通行信号，这样当多个Duckiebot从不同的方向驶来的时候不会在交汇路口的中央相遇（图15）。这种交通信号灯十字路口的处理方式是很直接的：当一个Duckiebot到达停止线时，它就开始检测视野内的LED灯的闪烁频率，当检测到与通行信号相对应的频率时，就启动通过交汇路口。</p>\n<h2 id=\"协调-交叉路口\"><a href=\"#协调-交叉路口\" class=\"headerlink\" title=\"协调 - 交叉路口\"></a>协调 - 交叉路口</h2><p>停止信号十字路口没有任何的中心建筑，因此，Duckiebot需要通过安装在它们上面的LED灯进行信息交换进而协调通过十字路口的顺序。如图15所示，每个Duckiebot只能够看到它们自己右面和前面的Duckiebot，不能看到十字路口左面的Duckiebot。并且，其它Duckiebot发出的检测信号需要一个明显的时间（约2秒），个别Duckiebot的检测时间是不同步的。基础的协调算法已经使得传感的局限到可控范围。直观地讲，协议遵守以下几条规则：(a)每个Duckiebot需要服从于右边的Duckiebot（因为它位于它右边Duckiebot的可视范围之外），(b)当两个相向而来的Duckiebot到达交互路口时，先到的那个先行驶通过，(c)当相向而来的两个Duckiebot根据检测精度几乎同时到达时，通过等待一个随机的时间间隔再尝试与另一个Duckiebot协调沟通来解决这个问题。</p>\n<p>协调的模式是通过一系列图13中的状态进行处理。处于AT_STOP_CLEARING时，Duckiebot需要等待预设的时间以保证交汇路口是可通行的，处于AT_STOP_CLEAR时，Duckiebot需要等待到没有其它的Duckiebot在交汇路口，以此保证确实是可以前进的，当处于RESERVING时，Duckiebot是表示（通过它的LED灯）它将要尝试行驶通过，CONFLICT表示两个Duckiebot同时试图通过路口，直到到GO时Duckiebot才开始行驶通过交汇路口。</p>\n<h2 id=\"评估\"><a href=\"#评估\" class=\"headerlink\" title=\"评估\"></a>评估</h2><p>我们对两种类型下的协调行为进行了测试并实际连续进行了几个小时。当预想的算法出现时，比如，小车停在了沿着道路方向的停止线上，协调行为可以可靠地安排每次一辆小车行驶通过交汇路口因此避免碰撞。在停止信号交汇路口的协调结果如图18所示。信号A，B和C分别对应绿色，红色和黄色LED灯。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2018.jpg\" alt=\"图18\"></p>\n<h1 id=\"资源管理\"><a href=\"#资源管理\" class=\"headerlink\" title=\"资源管理\"></a>资源管理</h1><p>我们的目的是搭建一个不昂贵但是可用的自动化教育和研究的平台。但是，当成本降低的同时可用的资源，如传感器、计算性能、内存、电源以及带宽也会被降低。</p>\n<p>为了达到我们的目的就需要在软件架构上开发增加的算法。我们已经在设计中使用了两种基础的策略来减少资源开销：基于事件的计算和驱动模式感知。</p>\n<h2 id=\"基于事件的计算\"><a href=\"#基于事件的计算\" class=\"headerlink\" title=\"基于事件的计算\"></a>基于事件的计算</h2><p>1)基于事件的计算：在我们的实现中我们利用了机器人操作系统(ROS)，它重要使用了发布-订阅模式用于数据交换。</p>\n<p>因为平台计算资源的限制，程序（节点）使用基于事件和限制频率的处理和发布模式：一个节点只当输出与上次发布的输出有明显的不同并且在发布频率以内时才发布。</p>\n<h3 id=\"模型-驱动型感知\"><a href=\"#模型-驱动型感知\" class=\"headerlink\" title=\"模型 - 驱动型感知\"></a>模型 - 驱动型感知</h3><p>2)驱动模式的感知：最多的计算集中在与感知有关的任务上，尤其是我们只使用视觉作为传感模块。为了实现多机器人最为复杂的功能就需要机器人处理很多的感知任务（直线检测、道路线滤波、停止线滤波、信号检测、LED检测、LED解码、小车检测）不过不是同时的。因此我们利用一些开关。这些开关被所有节点订阅并且允许它们只选择订阅那些只有当它们应该作用时的模式下的必要的输入（图像）。表3展示了在每一种FSM模式中哪种感知模块会起作用的概况。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2023.jpg\" alt=\"表三\"></p>\n<p>我们使用了与之相似的办法在根据给出任务的请求来控制摄像头图像的分辨率。</p>\n<h1 id=\"结论\"><a href=\"#结论\" class=\"headerlink\" title=\"结论\"></a>结论</h1><p>我们展示了一个可扩展的用于自动化教育和研究的平台Duckietown。我们在开发这个系统中通过精确地规范和资源管理使其得以实现。</p>\n<p>Duckietown已经（或计划在下个学期使用）被五个机构使用：清华大学（中国）、国立交通大学（台湾）、麻省理工大学MIT、伦斯勒理工学院、罗格斯大学（美国）。</p>\n<p>所有的资料都是基于开源/免费软件协议的；资料可以在<a href=\"http://duckietown.mit.edu\" target=\"_blank\" rel=\"external\">http://duckietown.mit.edu</a>网站找到。我们希望其他机器人团体的人可以使用这个平台并且帮助它成长。</p>\n<h1 id=\"致谢\"><a href=\"#致谢\" class=\"headerlink\" title=\"致谢\"></a>致谢</h1><p>This work was supported by the National Science Foundation, with National Robotics Initiative award IIS-1405259, and with Robust Intelligence award IIS-1318392. Additional support was given by the Toyota Research Institute and the Ford Motor Company. We would also like to acknowledge the contributions made by the studens during the Spring 2016 semester of the MIT 2.166 class.</p>\n<h1 id=\"引用\"><a href=\"#引用\" class=\"headerlink\" title=\"引用\"></a>引用</h1><p>[^1]: E. Olson, “AprilTag: A robust and flexible visual fiducial system,” in 2011 IEEE International Conference on Robotics and Automation. Institute of Electrical &amp; Electronics Engineers (IEEE), may 2011. [Online]. Available: <a href=\"http://dx.doi.org/10.1109/icra.2011.5979561\" target=\"_blank\" rel=\"external\">http://dx.doi.org/10.1109/icra.2011.5979561</a><br>[^2]: P. Furgale, U. Schwesinger et al., “Toward automated driving in cities using close-to-market sensors: An overview of the v-charge project,” in 2013 IEEE Intelligent Vehicles Symposium (IV). Institute of Electrical &amp; Electronics Engineers (IEEE), jun 2013. [Online]. Available: <a href=\"http://dx.doi.org/10.1109/ivs.2013.6629566\" target=\"_blank\" rel=\"external\">http://dx.doi.org/10.1109/ivs.2013.6629566</a><br>[^3]: J. Tani, L. Paull et al. (2016) Duckietown: an innovative way to teach autonomy, submitted to EDUROBOTICS 2016. [Online]. Available: <a href=\"http://tiny.cc/9vduey\" target=\"_blank\" rel=\"external\">http://tiny.cc/9vduey</a><br>[^4]: H.-C. Wang. (2016) Icn9005 robotic vision. [Online]. Available: duckietown.nctu.edu.tw<br>[^5]: L. Paull, G. Huang, and J. J. Leonard, “A unified resource-constrained framework for graph SLAM,” in 2016 IEEE International Conference on Robotics and Automation (ICRA), May 2016, pp. 1346–1353.<br>[^6]: A. Censi, “A mathematical theory of co-design,” CoRR, vol. abs/1512.08055, 2015. [Online]. Available: <a href=\"http://arxiv.org/abs/1512.08055\" target=\"_blank\" rel=\"external\">http://arxiv.org/abs/1512.08055</a><br>[^7]: D. Hoehener, G. Huang, and D. D. Vecchio, “Design of a lane departure driver-assist system under safety specifications,” in Conference on Decision and Control, 2016.<br>[^8]: M. Rubenstein, B. Cimino et al., “AERobot: An affordable one-robotper-student system for early robotics education,” in IEEE International Conference on Robotics and Automation (ICRA), 2015, pp. 6107–6113.<br>[^9]: M. Rubenstein, C. Ahler, and R. Nagpal, “Kilobot: A low cost scalable robot system for collective behaviors,” in 2012 IEEE International Conference on Robotics and Automation. Institute of Electrical &amp; Electronics Engineers (IEEE), may 2012.<br>[^10]: B. Thursk`y and G. Gaˇspar, “Using Pololu’s 3pi robot in the education process.” [Online]. Available: <a href=\"http://tiny.cc/zfluey\" target=\"_blank\" rel=\"external\">http://tiny.cc/zfluey</a><br>[^11]: S. Kernbach, “Swarmrobot.org - Open-hardware microrobotic project for large-scale artificial swarms,” arXiv preprint arXiv:1110.5762,2011. [Online]. Available: <a href=\"http://arxiv.org/pdf/1110.5762v1.pdf\" target=\"_blank\" rel=\"external\">http://arxiv.org/pdf/1110.5762v1.pdf</a><br>[^12]: P. Robinette, R. Meuth et al., “LabratTM: Miniature robot for students, researchers, and hobbyists,” in 2009 IEEE/RSJ International Conference on Intelligent Robots and Systems, Oct 2009, pp. 1007–1012.<br>[^13]: F. Riedo, M. Chevalier et al., “Thymio II, a robot that grows wiser with children,” in 2013 IEEE Workshop on Advanced Robotics and its Social Impacts. Institute of Electrical &amp; Electronics Engineers (IEEE), nov 2013. [Online]. Available: <a href=\"http://dx.doi.org/10.1109/arso.2013.6705527\" target=\"_blank\" rel=\"external\">http://dx.doi.org/10.1109/arso.2013.6705527</a><br>[^14]: P. Inc. (2016) Scribbler s3 robot. [Online]. Available: <a href=\"https://www.parallax.com/product/28333\" target=\"_blank\" rel=\"external\">https://www.parallax.com/product/28333</a><br>[^15]: R. K. Cole, “STEM outreach with the Boe-Bot,” Robots in K-12 Education: A New Technology for Learning: A New Technology for Learning, p. 245, 2012.<br>[^16]: Parallax. (2016) Activitybot robot kit. [Online]. Available: <a href=\"https://www.parallax.com/product/32500\" target=\"_blank\" rel=\"external\">https://www.parallax.com/product/32500</a><br>[^17]: M. Dekan, F. Duchoˇn et al., “iRobot create used in education,” Journal of Mechanics Engineering and Automation, vol. 3, no. 4, pp. 197–202,2013.<br>[^18]: Bot’n Roll. (2016) Bot’n roll ONE A. [Online]. Available: <a href=\"http://botnroll.com/onea\" target=\"_blank\" rel=\"external\">http://botnroll.com/onea</a> en/<br>[^19]: J. McLurkin, A. McMullen et al., “A robot system design for low-cost multi-robot manipulation,” in 2014 IEEE/RSJ International Conference on Intelligent Robots and Systems. IEEE, 2014, pp. 912–918.<br>[^20]: Robots in Course. (2016) Hemission. [Online]. Available: <a href=\"http://www.robotsinsearch.com/products/hemisson\" target=\"_blank\" rel=\"external\">http://www.robotsinsearch.com/products/hemisson</a><br>[^21]: S. Wilson, R. Gameros et al., “Pheeno, a versatile swarm robotic research and education platform,” IEEE Robotics and Automation Letters, vol. 1, no. 2, pp. 884–891, July 2016.<br>[^22]: D. H. Ballard, “Generalizing the Hough transform to detect arbitrary shapes,” Pattern recognition, vol. 13, no. 2, pp. 111–122, 1981.<br>[^23]: S. Thrun, W. Burgard, and D. Fox, Probabilistic Robotics, 2005.<br>[^24]: T. A. Henzinger, “The theory of hybrid automata,” in Logic in Computer Science, 1996. LICS ’96. Proceedings., Eleventh Annual IEEE Symposium on, Jul 1996, pp. 278–292.</p>\n","excerpt":"<blockquote>\n<p><a href=\"http://duckietown.mit.edu/\">Duckietown</a>是MIT的一个课程项目，该文是翻译自该小组向<a href=\"http://icra2017.org/\">International Conference on Robotics and Automation (ICRA) 2017</a>的论文。</p>\n</blockquote>\n<p>摘要–Duckietown对自动化的教学和研究来说是一个开源的、廉价而且扩展性好的平台。这个平台由自主机器人小车（“Duckiebots”）和城市（“Duckietowns”）组成，自主小车用现成组件组装成而成，城市包含了道路、引导标示、交通信号灯障碍物和需要运输的居民（duckies）。Duckietown平台的优势是利用利用少量的投入可以实现很广泛的功能。一个Duckiebot仅仅利用一个单目摄像头来感知整个世界和一个机载的树莓派二代来执行所有的处理，到目前为止已经具备以下功能：追随车道线并且避开障碍物、行人（duckies）和其它的Duckietown；在全局地图中进行定位；在城市中导航；以及和其它的Duckiebots协作以避免发生碰撞。Duckietown对于教学来说是一个非常有用的工具，不需要开发所有与所需课程相关的基础设施和工具，这样对教育机构来说可以节省大量的资金和时间。所有的资源都是开源、可获得的，目的是为了其它的团体也可以把这个平台应用于教育和研究。到目前为止已经有另外的四个机构使用了Duckietown平台。</p>","more":"<h1 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h1><p>自动驾驶小车定位成为一项普遍并且可用的自动化应用。但是，还有很多挑战存在在实现广泛的使用前，这其中相关的更多的是整体系统方面的，而不只是单个组成部分。如包括硬件和算法的一体化设计，感知和控制的解耦和，在并发过程中最佳的处理资源分配以及多agent系统的安全。</p>\n<p>一个现代的自动化方面的课程应该可以同时训练学生在单个系统以及系统级的方面。但是仍然存在一些挑战，第一，构建一个全尺寸的车对大多数的机构来说太昂贵的并且增加了难度和安全方面的问题。第二，构建所有的组件和结构需要大量的时间，并且多数浪费在与希望的目的不同上的任务上的。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2001.jpg\" alt=\"图1\"></p>\n<p>为了解决这个问题，我们意将Duckietown（图1）做成一个自动化方面教育和研究的开源平台。这个平台包括了一个叫做“Duckiebots”的小车。最小化系统仅仅只是用了一个树莓派二代做所有的计算和一个单目摄像头做感知，而且已经具备了完整的但系统和多系统机器人的功能。Duckiebots住在用模块化的组件拼装而成的丰富的“Duckietowns”微模型里。这个项目里异想天开和引人注目的外观是考虑到功能上延伸性的深思熟虑的选择。Duckietowns和Duckiebots是很容易进行复制并且花费低廉，每辆小车大概只需要花费150美元，场地模型每平方的造价仅仅在2美元左右。</p>\n<p>为了使Duckietown能满足在感知、规划和控制等不等难度程度下的使用，它的设计经过了认真的考虑，使得这个平台可以适应非常广泛的应用，覆盖了从本科生教育到进行研究阶段的问题。比如说，单个的Duckiebot仅仅通过进行车道线检测和对控制信号做出反应就可以顺利的在场地中行驶，同时也可以通过识别道路信号进行点到点的导航。在转弯处，既可以通过贴在信号灯上的标志物（AprilTags[^1]）也可以通过物体检测进行信号检测的模拟。实现一些更加复杂的功能，例如基于视觉的多机器人协调，尤其是计算能力方面的限制，使其可以达到了研究层面的挑战。</p>\n<p>Duckietown平台突出的优势是它是有一个复杂的软件架构作支持，包含了标定、可配置、初级的感知、物体检测、非线性估计、全局定位、顶层的规划和分散协调模块。我们的目标提供一个可以与复杂的大规模的实现（如[^2]）媲美的完善的教科书式的架构,并且同时对初学者保证了可读性和易理解性。</p>\n<p>Duckietown主要的用途是为自动化班的本科生或毕业年级的同学提供帮助。Duckietown尤其适为了完善不同子系统而需要一起工作的同学进行小组学习。这就是它在MIT2016春季学年[^3]的使用方式。同时，Duckietown也非常适合只需要专注于其中一个单独的方向或子系统（比如计算机视觉或非线性控制）的人。利用这种方式可以明显的看到子系统在整个系统中的作用和产生的影响。这是NCTU[^4]的使用方式。Duckietown通过利用已知的设定好的环境方面的先验知识（例如已知的尺寸、颜色、标志物的方位、标志上的基准、允许的网络拓扑等）使得它成为一个更加可用的研究平台。作者使用Duckietown作为研究计算性能不高的情况下的感知[^5]、协同设计[^6]和可以安全相互协调驾驶的合适方案[^7]等课题的平台。</p>\n<p>概述：第二部分介绍了使用现成的组件搭建的Duckiebot平台。另外的部分介绍了体系的构建。针对每一个功能模块，我们会介绍基础的实现，一些用到该功能某块的课题，和一些可扩展的可能方式。按照功能的复杂性介绍这个体系架构。第三部分介绍了单系统机器人进行车道线追随的流程。第四部分介绍了涉及到单系统机器人定位，规划和导航的相关子系统。第五部分介绍了涉及到多系统机器人交换信息和协调的方式。最后，我们在第六部分中针对系统级的资源管理做了讨论，在第七部分中进行了总结和结束。 </p>\n<h1 id=\"Duckie机器人\"><a href=\"#Duckie机器人\" class=\"headerlink\" title=\"Duckie机器人\"></a>Duckie机器人</h1><p>Duckiebots是为了实现一个经济上可承受、模块化并且易于搭建的自动化小车而设计的。我们提供了三种配置：</p>\n<ul>\n<li>最小自动化配置能够满足所有单系统机器人的功能实现。</li>\n<li>扩展配置加入了一些“奢侈”的特性，以便可以更方便的进行开发，比如操纵杆和板载的无线模块。</li>\n<li>集群配置包括了LED灯以作为Duckiebot信息交换并使多机器人可以相互协调。</li>\n</ul>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2021.jpg\" alt=\"表一\"></p>\n<h2 id=\"最小系统配置\"><a href=\"#最小系统配置\" class=\"headerlink\" title=\"最小系统配置\"></a>最小系统配置</h2><p>1) 最小自动化配置：在最小配置方案里使用到的组件在表1中列出。这些都是非常容易可替换的现成组件。每一个机器人根据能力的不同需要15分钟左右的焊接工作和大约半个小时到一个半小时的专配工作 。</p>\n<p> a) 计算：所有的计算处理都依靠树莓派2，它具有900MHz的ARM和1GB的RAM。操作系统是安装了ROS Indigo的Ubuntu14.04。</p>\n<p> b) 运动：Duckiebot的设计是基于非常容易找到的差分驱动底盘套件，10-20美元左右就可以在网上买到。马达是通过树莓派上自带的直流电机驱动接口控制。我们使用里程计做估计，所以底盘是易于替换的部分，可以使用任意通过差分方式配置的直流电机替代。</p>\n<p> c) 感知：唯一用来感知的模块是一个鱼眼镜头的摄像头。摄像头通过专用的并行接口与树莓派相连。</p>\n<p> d) 信息交换：这个版本中的Duckiebot是通过WiFi模块进行交流（用于安装，调试，通过键盘手动控制）。</p>\n<h2 id=\"扩展配置\"><a href=\"#扩展配置\" class=\"headerlink\" title=\"扩展配置\"></a>扩展配置</h2><p>2) 扩展配置：在需要大型团队开发的教学和研究工作中，最好的方式是在网络覆盖的环境中每一个Duckiebot都配备一个板载的网络模块。这些移动热点为每一个机器人构建了一个专用的5GHz的网络，并且通过以太网直接与树莓派相连。作为可选的，使用USB接口的无线模块可以使更加方便的控制。最后，可以使用一个32GB的USB扩展外存，这样可以存储大量的数据日志文件。增加这个配置需要额外的花费75美元。</p>\n<h2 id=\"集群配置\"><a href=\"#集群配置\" class=\"headerlink\" title=\"集群配置\"></a>集群配置</h2><p>3) 集群配置：这个版本的Duckiebot配备了使用PWM波控制的五个RGB LED灯。这些LED灯通过显示Duckiebot的状态和意图以达到和其它的机器人小车进行信息交换的目的。LED灯在基础版本平台的基础上增加了大约30美元的花费。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2022.jpg\" alt=\"表二\"></p>\n<p>[^8] [^9] [^10] [^11] [^12] [^13] [^14] [^15] [^16] [^17] [^18] [^19] [^20] [^21]</p>\n<p>在表二中我们将基础版的Duckiebot与其它的一些流行的用于教育和研究的机器人做了一个比较。特别值得注意的是很少有价格低廉的机器人能够使用视觉作为首要的传感器。使用摄像头而不是深度或者红外传感器使得我们的系统更真实的表示了全规模平台。</p>\n<h1 id=\"车道线追随\"><a href=\"#车道线追随\" class=\"headerlink\" title=\"车道线追随\"></a>车道线追随</h1><p>Duckiebot最基础的功能是车道线追随。我们通过图2中的计算机视觉流程实现了车道线追随的功能，流程包含以下步骤：</p>\n<ul>\n<li>光照变化补偿</li>\n<li>道路标志物检测</li>\n<li>从图像空间到现实世界的映射，基于外在和内部的校准</li>\n<li>基于非参数贝叶斯过滤的车道线定位</li>\n<li>车道线控制</li>\n</ul>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2002.jpg\" alt=\"图2\"></p>\n<h2 id=\"基础设施-Duckie城道路层\"><a href=\"#基础设施-Duckie城道路层\" class=\"headerlink\" title=\"基础设施 - Duckie城道路层\"></a>基础设施 - Duckie城道路层</h2><p>Duckietowns的设计是想实现一个易于理解的形式规范的例子，如果环境可以很好的满足这个规范，那么Duckiebot就可以保证正常行驶。<br>Duckietowns有两层：道路层和信号层。车道线追随仅仅依赖于道路层。道路层的构建是通过对图3中的五种拼接模块进行组合实现的。道路标志物颜色和位置的精确是用来感知的规范和重要的先验的一部分。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2003.jpg\" alt=\"图3\"></p>\n<h2 id=\"亮度补偿\"><a href=\"#亮度补偿\" class=\"headerlink\" title=\"亮度补偿\"></a>亮度补偿</h2><p>光照变化是计算机视觉的一个挑战。我们通过以下步骤来描述：</p>\n<ul>\n<li>如何将机器学习运用到自动机器人的循环当中。</li>\n<li>使用先验知识的重要性。正因为此，才在Duckietowns的道路层的规范当中才规定了先验的颜色。</li>\n</ul>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2004.jpg\" alt=\"图4\"></p>\n<p>这个功能的基本实现中，我们使用k-means算法在重采样的道路像素图上检测出主要的集合，我们将它们和先验的期望的红色，黄色，白色，灰色集合进行匹配。然后我们在RGB彩色空间得到一个检测到的集合和将它们平衡后的颜色映射变换。正规化表示出我们关照条件下的先验知识和道路的颜色。通道分离变换：</p>\n<p>$$<br>\\begin{equation}<br>I_{obs}^{(i)} = {a<em>i}I</em>{orig}^{(i)} + b_i + n \\text{, } i \\in {R,G,B}<br>\\label{eq:e1}<br>\\end{equation}<br>$$</p>\n<p>$n$表示高斯噪声，而且为了正规化我们假设高斯先验的参数$a_{i},b_{i}$。等式的结果是一个6 X 6的线性系统</p>\n<p>$$<br>\\begin{equation}<br>\\begin{pmatrix} A<em>{data} \\ A</em>{reg} \\ \\end{pmatrix}p<em>I = \\begin{pmatrix} b</em>{data} \\ b_{reg} \\ \\end{pmatrix}<br>\\label{eq:e2}<br>\\end{equation}<br>$$</p>\n<p>这里的$A_{data},b_{data}$是从观测模型(1)中得到的结果，$A_{reg},b_{reg}$是从正规化中得到的结果。向量$p_I$是光照的参数向量。式(2)中的平方剩余误差是拟合程度的估计值和允许的检测错误值。</p>\n<h2 id=\"道路标志物检测\"><a href=\"#道路标志物检测\" class=\"headerlink\" title=\"道路标志物检测\"></a>道路标志物检测</h2><p>在Duckiebots的基本实现中，通过提取沿着道路线标志物边界的定向线段实现道路上的定位，然后运行一个无参数的贝叶斯过滤器。由于贝叶斯过滤引起的鲁棒性，定向线段的检测可能产生许多假阳性。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2005.jpg\" alt=\"图5\"></p>\n<p>定向线段检测的大致流程如图5所示。当每一个颜色被检测以后这个流程被运行一次。当图像被采集以后，并行执行以下两个滤波算法：Canny滤波检测边缘，HSV彩色空间阀值检测给定的颜色。结果通过与门融合。独立的线段通过概率Hough变换[^22]提取。</p>\n<h2 id=\"图像到道路的转换\"><a href=\"#图像到道路的转换\" class=\"headerlink\" title=\"图像到道路的转换\"></a>图像到道路的转换</h2><p>下一步将在图像空间中检测到的定向线段变换到三维坐标中。使用先验的平面图，建立一个从图像空间到三维空间的一一对应关系图是可能的。首先，使用相机内部的标定了的点是没有失序的。同时，变换由一个单应$x_i \\simeq Hx_g$表示，这里$x_i$和$x_g$是图像中和地平面上的点，$H \\in {\\mathbb {R}}^{3x3}$是单应矩阵，$ \\simeq $表示规模等价。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2006.jpg\" alt=\"图6\"></p>\n<p>Duckietown有标定工具使得可以估计相机的特性和外在。</p>\n<h2 id=\"车道相对估计\"><a href=\"#车道相对估计\" class=\"headerlink\" title=\"车道相对估计\"></a>车道相对估计</h2><p>为了执行车道线追随功能，我们必须获取Duckiebot侧面与车道线的距离和方向的预测。不过我们不需要知道纵坐标（沿${\\cal x}$方向）。这是一个用最小充分统计量实现控制任务的很好的例子。</p>\n<p>因为随机的很高的认知的异常值（正如图2中看到的检测直线标志物）的存在和处理模型的非线性性使得常用的参数估计方法（如使用了高斯估计的卡尔曼滤波）在这里失效了。因此，在基本的实现中我们使用了非线性、非参数的直方图滤波[^23]。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2007.jpg\" alt=\"图7\"></p>\n<p>小车$t$时刻在道路中的的状态通过降维的状态：${\\cal x} := \\langle d_{t},{\\phi}_t \\rangle$，$d_t \\in [d_min,d_max]$表示侧面和道路线的横向位移（$d = 0$时表示直线是道路线的中线），$ {\\phi}_t \\in [{\\phi}_min,{\\phi}_max]$表示如图七中表示的一样代表和原点的角度。从定义的规范中我们知道了道路线的宽度$w$，以及右边（白色）和左边（黄色）分别的宽度$l_W$和$l_Y$，我们综合使用这些信息，并通过使用道路标志物检测获得的每一个线段就可以得到对状态的预测。</p>\n<p>对于每个线段的序列都进行一次计算。我们用每个线段进行一次投票。这些投票放入直方图中，所有的直方图表示了一种计算的可能性（图7）。</p>\n<p>当所有的线段都被运算过以后，将直方图规范化并且作为用来测量校准的概率分布函数。</p>\n<h2 id=\"车道控制\"><a href=\"#车道控制\" class=\"headerlink\" title=\"车道控制\"></a>车道控制</h2><p>当我们有了Duckiebot在道路中位置和方向的估计后，就可以用来产生控制信号使它沿着车道行驶。我们明确的设计了曲线也就使得Duckiebot在转弯处（图3(e)）表现出的相对误差非常小，仍然收敛于简单线性跟踪控制。这样就减少了涉及到轨迹的参数化的工作。</p>\n<p>我们使用了比例-微分（PD）控制，控制命令形如$u(t)=k_{y}d(t)+k_{\\phi}{\\phi}(t)$。道路线追踪实际的效果演示可以参考附件第一部分。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2008.jpg\" alt=\"图8\"></p>\n<p>我们评估了车道线追随在有圆角的方形轨道面上（图8）的表现。在理想的光照条件下，Duckiebot车道线追随表现的鲁棒性很好，平均故障时间大于30分钟，交叉轨迹误差始终在0.15m以内。</p>\n<h1 id=\"导航\"><a href=\"#导航\" class=\"headerlink\" title=\"导航\"></a>导航</h1><p>基本的道路线追随流程作为内部的嵌套使得更复杂和有趣的功能得以实现。比如，图9中的导航流程概述。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2009.jpg\" alt=\"图9\"></p>\n<h2 id=\"基础设施-第二层-信号层\"><a href=\"#基础设施-第二层-信号层\" class=\"headerlink\" title=\"基础设施 - 第二层 - 信号层\"></a>基础设施 - 第二层 - 信号层</h2><p>Duckietown的第二层是信号层。这样的信号灯有两种：信号和交通灯。这一部分我们只描述指示信号，有两种类型：交通信号，道路名称。交通信号使得在十字路口可通过成为可能，图10中包含了十字路口的类型（交通信号灯和停止信号）和一些其它重要的道路信息。这些信号包含了所有的用于定位和导航的必要信息。每一个信号都另外添加了一个AprilTag[1]，可以将检测标示与检测引发的功能相互分离。我们限制性的将这些信号放置在八种固定的姿态中的一种，这样可以保证当Duckiebot停在停止线上时这些信号可以在摄像头的视野当中，并且可以使得能够自动生成指示特征图。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2010.jpg\" alt=\"图10\"></p>\n<h2 id=\"地图表示\"><a href=\"#地图表示\" class=\"headerlink\" title=\"地图表示\"></a>地图表示</h2><p>因为Duckietowns是用模块的拼图组合成的，可以使用一个拼图矩阵（如图3所示）完整的表示出地图。另外，我们指定了在拼图上的信号的存在、类型和位置。因此，这个矩阵可以用来自动的生成两种形式的地图，特征地图用于定位，拓扑网络图用于规划。图十一展示了这两种图。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2011.jpg\" alt=\"图11\"></p>\n<h2 id=\"全局定位\"><a href=\"#全局定位\" class=\"headerlink\" title=\"全局定位\"></a>全局定位</h2><p>全局定位包括Duckiebot姿态相对于全局参考系的的估计。在全局参考系中的姿态的信息对于其它功能的实现是一个关键，例如到某点的线路规划。</p>\n<p>对于人来说，交通信号灯和道路名称对于定位提供了有用的信息。在基本的定位中我们假定自动地图生成模块（图11(a)）已经提供了地图。然而，实时定位和地图构建（SLAM）是必要的扩展。使用已知的标示的尺寸，每当一个标示被检测到时，我们可以就可以获得摄像头相对于标示的相对姿态。因为标示的姿态是已知的，每次检测都可以测量出Duckiebot的绝对位置。在图12(a)中展示了Duckiebot在Duckietown中的十字交叉路口的情况。通过内部的摄像头（图12(c)）可以定位自己在地图中的位置，如图12(b)所示。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2012.jpg\" alt=\"图12\"></p>\n<p>这个基本的算法保证无论何时检测到标示以后都可以准确的定位。在我们的测试中，Duckiebot能够以3Hz的频率进行位置估计，并且当至少有三个标示在可视范围时定位延迟大约在0.1m内。</p>\n<h2 id=\"决策规划\"><a href=\"#决策规划\" class=\"headerlink\" title=\"决策规划\"></a>决策规划</h2><p>为了完成导航的任务，Duckiebot需要一个从由全局定位模型的位置到拓扑道路网络图的映射，通过它才可以搜索得到一个连接可行的路线（图11(b)）。</p>\n<p>当图生成以后并且起始位置和目标位置确定以后我们通过$A^*$搜索算法可以生成得到最佳规划路线。一个有趣的扩展是这个可以用来同时模拟一组管理系统来为多个Duckiebot规划线路。</p>\n<h2 id=\"有穷状态机\"><a href=\"#有穷状态机\" class=\"headerlink\" title=\"有穷状态机\"></a>有穷状态机</h2><p>从宏观层面操作Duckiebot的是通过有穷状态机（FSM）进行的，图13展示了简化的版本。有穷状态机中的转换是通过异步的基于事件的感知产生的，例如检测到了停止线。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2013.jpg\" alt=\"图13\"></p>\n<p>这种模式用于混合（离散连续）系统配置下[^24]的Duckiebot控制。根据不同的期望动作开发了一系列的控制，图13中的模式用来选择哪种控制被触发同时将其与实际的轮子驱动相连。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2014.jpg\" alt=\"图14\"></p>\n<h2 id=\"路径遍历\"><a href=\"#路径遍历\" class=\"headerlink\" title=\"路径遍历\"></a>路径遍历</h2><p>当规划生成以后，需要根据每个交叉路口正确的转弯序列进行。比如图11-(b)中的序列对应[s,f,s,f,r,f,s,f]，这里的f，s，r，l分别对应追随道路线，直走，右转，左转，使得Duckiebot从节点21到节点31。</p>\n<p>每一个交叉路口的行驶是通过执行序列状态“LANE_FOLLOWING”$\\to$“INTERSECTION_TRAVERSAL”的循环直到到达某个结束态（在该点我们通过忽略“COORDINATION”行为和假设路口总是可通过的来简化这个过程）实现的。从LANE_FOLLOWING到INTERSECTION_TRAVERSAL的转换是因为到达了停止线引发的。从INTERSECTION_TRAVERSAL再回到LANE_FOLLOWING的转换是由道路线预测超过了某个阀值引起的。</p>\n<p>做规划的时间从初始化到进行平均需要8.38秒，包括了将拼图的地图规范文件到图形表示转换，对于用于规划的道路网络包含了大致30个节点。手工选择路线，规划算法返回可视化的反馈时间大致在2.34秒以内。如果存在网络延迟的话需要更多的时间。</p>\n<p>Duckiebot实际行驶很大程度上取决于存在小车交汇的交叉路口的数量。</p>\n<h1 id=\"多机器人协同\"><a href=\"#多机器人协同\" class=\"headerlink\" title=\"多机器人协同\"></a>多机器人协同</h1><p>高级的功能包括多Duckiebot同时在一个Duckietown中进行交互。这种情况下，Duckiebot必须相互协调分配共有的资源。</p>\n<p>我们考虑其中两种交互模式：交通信号灯和停止线，如图15所示。交通信号灯交互是一种简化并且集中地的交互解决方案（仅仅使用交通信号灯交互就足以构建和测试多机器人算法）。停止信号需要Duckiebot的信息交流。交流是分布式并且基于感知。我们使用LED表示目的和状态。当Duckiebot停在停止线上时情况会变得复杂，它的左侧是在摄像头视野之外。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2015.jpg\" alt=\"图15\"></p>\n<h2 id=\"基础设施-交通信号灯\"><a href=\"#基础设施-交通信号灯\" class=\"headerlink\" title=\"基础设施 - 交通信号灯\"></a>基础设施 - 交通信号灯</h2><p>第二层上的第二种信号是交通信号灯。交通信号灯单元是在每条将要出现的道路正面装配的LED灯。</p>\n<p>交通信号灯实际上是为Duckiebot建立一个无线网络。</p>\n<h2 id=\"LED灯检测和翻译\"><a href=\"#LED灯检测和翻译\" class=\"headerlink\" title=\"LED灯检测和翻译\"></a>LED灯检测和翻译</h2><p>基于LED灯的信息交换系统有两个单独的组成部分：一个是用于捕捉图像流和决定场地中所有LED灯位置和频率的检测器，另一个是接收信息和对每一个检测器标记物理对象（小车或交交通信号灯）和协调消息的解释器。</p>\n<p>图16展示了LED信息交流的模式。图17上半部分和下半部分分别展示了LED检测器和解释器的详细情况。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2016.jpg\" alt=\"图16\"></p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2017.jpg\" alt=\"图17\"></p>\n<p>解释器利用假设分辨检测出的LED灯在水平线以上的属于交通信号灯，水平线以下的属于Duckiebot的信息交换灯。</p>\n<h2 id=\"协调-信号灯\"><a href=\"#协调-信号灯\" class=\"headerlink\" title=\"协调 - 信号灯\"></a>协调 - 信号灯</h2><p>交通信号灯十字路口有交通信号灯盒子，朝着每一个方向都有一个LED灯。交通信号灯盒子循环的一次朝一个方向发出通行信号，这样当多个Duckiebot从不同的方向驶来的时候不会在交汇路口的中央相遇（图15）。这种交通信号灯十字路口的处理方式是很直接的：当一个Duckiebot到达停止线时，它就开始检测视野内的LED灯的闪烁频率，当检测到与通行信号相对应的频率时，就启动通过交汇路口。</p>\n<h2 id=\"协调-交叉路口\"><a href=\"#协调-交叉路口\" class=\"headerlink\" title=\"协调 - 交叉路口\"></a>协调 - 交叉路口</h2><p>停止信号十字路口没有任何的中心建筑，因此，Duckiebot需要通过安装在它们上面的LED灯进行信息交换进而协调通过十字路口的顺序。如图15所示，每个Duckiebot只能够看到它们自己右面和前面的Duckiebot，不能看到十字路口左面的Duckiebot。并且，其它Duckiebot发出的检测信号需要一个明显的时间（约2秒），个别Duckiebot的检测时间是不同步的。基础的协调算法已经使得传感的局限到可控范围。直观地讲，协议遵守以下几条规则：(a)每个Duckiebot需要服从于右边的Duckiebot（因为它位于它右边Duckiebot的可视范围之外），(b)当两个相向而来的Duckiebot到达交互路口时，先到的那个先行驶通过，(c)当相向而来的两个Duckiebot根据检测精度几乎同时到达时，通过等待一个随机的时间间隔再尝试与另一个Duckiebot协调沟通来解决这个问题。</p>\n<p>协调的模式是通过一系列图13中的状态进行处理。处于AT_STOP_CLEARING时，Duckiebot需要等待预设的时间以保证交汇路口是可通行的，处于AT_STOP_CLEAR时，Duckiebot需要等待到没有其它的Duckiebot在交汇路口，以此保证确实是可以前进的，当处于RESERVING时，Duckiebot是表示（通过它的LED灯）它将要尝试行驶通过，CONFLICT表示两个Duckiebot同时试图通过路口，直到到GO时Duckiebot才开始行驶通过交汇路口。</p>\n<h2 id=\"评估\"><a href=\"#评估\" class=\"headerlink\" title=\"评估\"></a>评估</h2><p>我们对两种类型下的协调行为进行了测试并实际连续进行了几个小时。当预想的算法出现时，比如，小车停在了沿着道路方向的停止线上，协调行为可以可靠地安排每次一辆小车行驶通过交汇路口因此避免碰撞。在停止信号交汇路口的协调结果如图18所示。信号A，B和C分别对应绿色，红色和黄色LED灯。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2018.jpg\" alt=\"图18\"></p>\n<h1 id=\"资源管理\"><a href=\"#资源管理\" class=\"headerlink\" title=\"资源管理\"></a>资源管理</h1><p>我们的目的是搭建一个不昂贵但是可用的自动化教育和研究的平台。但是，当成本降低的同时可用的资源，如传感器、计算性能、内存、电源以及带宽也会被降低。</p>\n<p>为了达到我们的目的就需要在软件架构上开发增加的算法。我们已经在设计中使用了两种基础的策略来减少资源开销：基于事件的计算和驱动模式感知。</p>\n<h2 id=\"基于事件的计算\"><a href=\"#基于事件的计算\" class=\"headerlink\" title=\"基于事件的计算\"></a>基于事件的计算</h2><p>1)基于事件的计算：在我们的实现中我们利用了机器人操作系统(ROS)，它重要使用了发布-订阅模式用于数据交换。</p>\n<p>因为平台计算资源的限制，程序（节点）使用基于事件和限制频率的处理和发布模式：一个节点只当输出与上次发布的输出有明显的不同并且在发布频率以内时才发布。</p>\n<h3 id=\"模型-驱动型感知\"><a href=\"#模型-驱动型感知\" class=\"headerlink\" title=\"模型 - 驱动型感知\"></a>模型 - 驱动型感知</h3><p>2)驱动模式的感知：最多的计算集中在与感知有关的任务上，尤其是我们只使用视觉作为传感模块。为了实现多机器人最为复杂的功能就需要机器人处理很多的感知任务（直线检测、道路线滤波、停止线滤波、信号检测、LED检测、LED解码、小车检测）不过不是同时的。因此我们利用一些开关。这些开关被所有节点订阅并且允许它们只选择订阅那些只有当它们应该作用时的模式下的必要的输入（图像）。表3展示了在每一种FSM模式中哪种感知模块会起作用的概况。</p>\n<p><img src=\"http://ofzyomgms.bkt.clouddn.com/duckietown/duckietown_icra_2017%2023.jpg\" alt=\"表三\"></p>\n<p>我们使用了与之相似的办法在根据给出任务的请求来控制摄像头图像的分辨率。</p>\n<h1 id=\"结论\"><a href=\"#结论\" class=\"headerlink\" title=\"结论\"></a>结论</h1><p>我们展示了一个可扩展的用于自动化教育和研究的平台Duckietown。我们在开发这个系统中通过精确地规范和资源管理使其得以实现。</p>\n<p>Duckietown已经（或计划在下个学期使用）被五个机构使用：清华大学（中国）、国立交通大学（台湾）、麻省理工大学MIT、伦斯勒理工学院、罗格斯大学（美国）。</p>\n<p>所有的资料都是基于开源/免费软件协议的；资料可以在<a href=\"http://duckietown.mit.edu\">http://duckietown.mit.edu</a>网站找到。我们希望其他机器人团体的人可以使用这个平台并且帮助它成长。</p>\n<h1 id=\"致谢\"><a href=\"#致谢\" class=\"headerlink\" title=\"致谢\"></a>致谢</h1><p>This work was supported by the National Science Foundation, with National Robotics Initiative award IIS-1405259, and with Robust Intelligence award IIS-1318392. Additional support was given by the Toyota Research Institute and the Ford Motor Company. We would also like to acknowledge the contributions made by the studens during the Spring 2016 semester of the MIT 2.166 class.</p>\n<h1 id=\"引用\"><a href=\"#引用\" class=\"headerlink\" title=\"引用\"></a>引用</h1><p>[^1]: E. Olson, “AprilTag: A robust and flexible visual fiducial system,” in 2011 IEEE International Conference on Robotics and Automation. Institute of Electrical &amp; Electronics Engineers (IEEE), may 2011. [Online]. Available: <a href=\"http://dx.doi.org/10.1109/icra.2011.5979561\">http://dx.doi.org/10.1109/icra.2011.5979561</a><br>[^2]: P. Furgale, U. Schwesinger et al., “Toward automated driving in cities using close-to-market sensors: An overview of the v-charge project,” in 2013 IEEE Intelligent Vehicles Symposium (IV). Institute of Electrical &amp; Electronics Engineers (IEEE), jun 2013. [Online]. Available: <a href=\"http://dx.doi.org/10.1109/ivs.2013.6629566\">http://dx.doi.org/10.1109/ivs.2013.6629566</a><br>[^3]: J. Tani, L. Paull et al. (2016) Duckietown: an innovative way to teach autonomy, submitted to EDUROBOTICS 2016. [Online]. Available: <a href=\"http://tiny.cc/9vduey\">http://tiny.cc/9vduey</a><br>[^4]: H.-C. Wang. (2016) Icn9005 robotic vision. [Online]. Available: duckietown.nctu.edu.tw<br>[^5]: L. Paull, G. Huang, and J. J. Leonard, “A unified resource-constrained framework for graph SLAM,” in 2016 IEEE International Conference on Robotics and Automation (ICRA), May 2016, pp. 1346–1353.<br>[^6]: A. Censi, “A mathematical theory of co-design,” CoRR, vol. abs/1512.08055, 2015. [Online]. Available: <a href=\"http://arxiv.org/abs/1512.08055\">http://arxiv.org/abs/1512.08055</a><br>[^7]: D. Hoehener, G. Huang, and D. D. Vecchio, “Design of a lane departure driver-assist system under safety specifications,” in Conference on Decision and Control, 2016.<br>[^8]: M. Rubenstein, B. Cimino et al., “AERobot: An affordable one-robotper-student system for early robotics education,” in IEEE International Conference on Robotics and Automation (ICRA), 2015, pp. 6107–6113.<br>[^9]: M. Rubenstein, C. Ahler, and R. Nagpal, “Kilobot: A low cost scalable robot system for collective behaviors,” in 2012 IEEE International Conference on Robotics and Automation. Institute of Electrical &amp; Electronics Engineers (IEEE), may 2012.<br>[^10]: B. Thursk`y and G. Gaˇspar, “Using Pololu’s 3pi robot in the education process.” [Online]. Available: <a href=\"http://tiny.cc/zfluey\">http://tiny.cc/zfluey</a><br>[^11]: S. Kernbach, “Swarmrobot.org - Open-hardware microrobotic project for large-scale artificial swarms,” arXiv preprint arXiv:1110.5762,2011. [Online]. Available: <a href=\"http://arxiv.org/pdf/1110.5762v1.pdf\">http://arxiv.org/pdf/1110.5762v1.pdf</a><br>[^12]: P. Robinette, R. Meuth et al., “LabratTM: Miniature robot for students, researchers, and hobbyists,” in 2009 IEEE/RSJ International Conference on Intelligent Robots and Systems, Oct 2009, pp. 1007–1012.<br>[^13]: F. Riedo, M. Chevalier et al., “Thymio II, a robot that grows wiser with children,” in 2013 IEEE Workshop on Advanced Robotics and its Social Impacts. Institute of Electrical &amp; Electronics Engineers (IEEE), nov 2013. [Online]. Available: <a href=\"http://dx.doi.org/10.1109/arso.2013.6705527\">http://dx.doi.org/10.1109/arso.2013.6705527</a><br>[^14]: P. Inc. (2016) Scribbler s3 robot. [Online]. Available: <a href=\"https://www.parallax.com/product/28333\">https://www.parallax.com/product/28333</a><br>[^15]: R. K. Cole, “STEM outreach with the Boe-Bot,” Robots in K-12 Education: A New Technology for Learning: A New Technology for Learning, p. 245, 2012.<br>[^16]: Parallax. (2016) Activitybot robot kit. [Online]. Available: <a href=\"https://www.parallax.com/product/32500\">https://www.parallax.com/product/32500</a><br>[^17]: M. Dekan, F. Duchoˇn et al., “iRobot create used in education,” Journal of Mechanics Engineering and Automation, vol. 3, no. 4, pp. 197–202,2013.<br>[^18]: Bot’n Roll. (2016) Bot’n roll ONE A. [Online]. Available: <a href=\"http://botnroll.com/onea\">http://botnroll.com/onea</a> en/<br>[^19]: J. McLurkin, A. McMullen et al., “A robot system design for low-cost multi-robot manipulation,” in 2014 IEEE/RSJ International Conference on Intelligent Robots and Systems. IEEE, 2014, pp. 912–918.<br>[^20]: Robots in Course. (2016) Hemission. [Online]. Available: <a href=\"http://www.robotsinsearch.com/products/hemisson\">http://www.robotsinsearch.com/products/hemisson</a><br>[^21]: S. Wilson, R. Gameros et al., “Pheeno, a versatile swarm robotic research and education platform,” IEEE Robotics and Automation Letters, vol. 1, no. 2, pp. 884–891, July 2016.<br>[^22]: D. H. Ballard, “Generalizing the Hough transform to detect arbitrary shapes,” Pattern recognition, vol. 13, no. 2, pp. 111–122, 1981.<br>[^23]: S. Thrun, W. Burgard, and D. Fox, Probabilistic Robotics, 2005.<br>[^24]: T. A. Henzinger, “The theory of hybrid automata,” in Logic in Computer Science, 1996. LICS ’96. Proceedings., Eleventh Annual IEEE Symposium on, Jul 1996, pp. 278–292.</p>"},{"title":"龙星计划-机器学习-notes-Lecture1-机器学习简介及线性代数、概率论、统计学知识回顾","date":"2016-11-01T01:55:46.000Z","_content":"\n> [课程主页](http://bigeye.au.tsinghua.edu.cn/DragonStar2012/download.html)\n\n<!--more-->\n\n### 机器学习的定义\n\n运用某种算法通过大量的数据进而使计算机进行衍化进化。\n\n### 机器学习的应用\n\n* 计算机视觉\n* 语音识别\n* NLP\n* 搜索引擎\n* 推荐系统\n* 机器人：无人驾驶（感知 控制）\n* 问答\n\n### 机器学习的分类\n\n* 监督学习 （分类 回归 排序 结构化预测）\n* 无监督学习 （密度估计 异常检测）\n\n### 建议\n\n> 能用简单方法解决的就用简单方法解决，只有非用不可，并且可以带来显著提升的时候才用\n\n### 机器学习三要素 \n\n数据 模型 算法 （需求）\n\n### 先导知识\n\n#### 线性代数\n\n* 向量 转置 内积外积\n* 矩阵 加法 乘法 逆\n* 范数 特征向量 特征值\n\n#### 概率论\n\n联合概率 条件概率 独立性 条件独立","source":"_posts/龙星计划-机器学习-notes-Lecture1-机器学习简介及线性代数、概率论、统计学知识回顾.md","raw":"---\ntitle: 龙星计划-机器学习-notes-Lecture1-机器学习简介及线性代数、概率论、统计学知识回顾\ndate: 2016-11-01 09:55:46\ntags:\n- Machine Learning\ncategories:\n- notes\n- 龙星计划-机器学习\n---\n\n> [课程主页](http://bigeye.au.tsinghua.edu.cn/DragonStar2012/download.html)\n\n<!--more-->\n\n### 机器学习的定义\n\n运用某种算法通过大量的数据进而使计算机进行衍化进化。\n\n### 机器学习的应用\n\n* 计算机视觉\n* 语音识别\n* NLP\n* 搜索引擎\n* 推荐系统\n* 机器人：无人驾驶（感知 控制）\n* 问答\n\n### 机器学习的分类\n\n* 监督学习 （分类 回归 排序 结构化预测）\n* 无监督学习 （密度估计 异常检测）\n\n### 建议\n\n> 能用简单方法解决的就用简单方法解决，只有非用不可，并且可以带来显著提升的时候才用\n\n### 机器学习三要素 \n\n数据 模型 算法 （需求）\n\n### 先导知识\n\n#### 线性代数\n\n* 向量 转置 内积外积\n* 矩阵 加法 乘法 逆\n* 范数 特征向量 特征值\n\n#### 概率论\n\n联合概率 条件概率 独立性 条件独立","slug":"龙星计划-机器学习-notes-Lecture1-机器学习简介及线性代数、概率论、统计学知识回顾","published":1,"updated":"2016-11-06T02:48:13.686Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciw28u3yh000zp4qtsmsjwubi","content":"<blockquote>\n<p><a href=\"http://bigeye.au.tsinghua.edu.cn/DragonStar2012/download.html\" target=\"_blank\" rel=\"external\">课程主页</a></p>\n</blockquote>\n<a id=\"more\"></a>\n<h3 id=\"机器学习的定义\"><a href=\"#机器学习的定义\" class=\"headerlink\" title=\"机器学习的定义\"></a>机器学习的定义</h3><p>运用某种算法通过大量的数据进而使计算机进行衍化进化。</p>\n<h3 id=\"机器学习的应用\"><a href=\"#机器学习的应用\" class=\"headerlink\" title=\"机器学习的应用\"></a>机器学习的应用</h3><ul>\n<li>计算机视觉</li>\n<li>语音识别</li>\n<li>NLP</li>\n<li>搜索引擎</li>\n<li>推荐系统</li>\n<li>机器人：无人驾驶（感知 控制）</li>\n<li>问答</li>\n</ul>\n<h3 id=\"机器学习的分类\"><a href=\"#机器学习的分类\" class=\"headerlink\" title=\"机器学习的分类\"></a>机器学习的分类</h3><ul>\n<li>监督学习 （分类 回归 排序 结构化预测）</li>\n<li>无监督学习 （密度估计 异常检测）</li>\n</ul>\n<h3 id=\"建议\"><a href=\"#建议\" class=\"headerlink\" title=\"建议\"></a>建议</h3><blockquote>\n<p>能用简单方法解决的就用简单方法解决，只有非用不可，并且可以带来显著提升的时候才用</p>\n</blockquote>\n<h3 id=\"机器学习三要素\"><a href=\"#机器学习三要素\" class=\"headerlink\" title=\"机器学习三要素\"></a>机器学习三要素</h3><p>数据 模型 算法 （需求）</p>\n<h3 id=\"先导知识\"><a href=\"#先导知识\" class=\"headerlink\" title=\"先导知识\"></a>先导知识</h3><h4 id=\"线性代数\"><a href=\"#线性代数\" class=\"headerlink\" title=\"线性代数\"></a>线性代数</h4><ul>\n<li>向量 转置 内积外积</li>\n<li>矩阵 加法 乘法 逆</li>\n<li>范数 特征向量 特征值</li>\n</ul>\n<h4 id=\"概率论\"><a href=\"#概率论\" class=\"headerlink\" title=\"概率论\"></a>概率论</h4><p>联合概率 条件概率 独立性 条件独立</p>\n","excerpt":"<blockquote>\n<p><a href=\"http://bigeye.au.tsinghua.edu.cn/DragonStar2012/download.html\">课程主页</a></p>\n</blockquote>","more":"<h3 id=\"机器学习的定义\"><a href=\"#机器学习的定义\" class=\"headerlink\" title=\"机器学习的定义\"></a>机器学习的定义</h3><p>运用某种算法通过大量的数据进而使计算机进行衍化进化。</p>\n<h3 id=\"机器学习的应用\"><a href=\"#机器学习的应用\" class=\"headerlink\" title=\"机器学习的应用\"></a>机器学习的应用</h3><ul>\n<li>计算机视觉</li>\n<li>语音识别</li>\n<li>NLP</li>\n<li>搜索引擎</li>\n<li>推荐系统</li>\n<li>机器人：无人驾驶（感知 控制）</li>\n<li>问答</li>\n</ul>\n<h3 id=\"机器学习的分类\"><a href=\"#机器学习的分类\" class=\"headerlink\" title=\"机器学习的分类\"></a>机器学习的分类</h3><ul>\n<li>监督学习 （分类 回归 排序 结构化预测）</li>\n<li>无监督学习 （密度估计 异常检测）</li>\n</ul>\n<h3 id=\"建议\"><a href=\"#建议\" class=\"headerlink\" title=\"建议\"></a>建议</h3><blockquote>\n<p>能用简单方法解决的就用简单方法解决，只有非用不可，并且可以带来显著提升的时候才用</p>\n</blockquote>\n<h3 id=\"机器学习三要素\"><a href=\"#机器学习三要素\" class=\"headerlink\" title=\"机器学习三要素\"></a>机器学习三要素</h3><p>数据 模型 算法 （需求）</p>\n<h3 id=\"先导知识\"><a href=\"#先导知识\" class=\"headerlink\" title=\"先导知识\"></a>先导知识</h3><h4 id=\"线性代数\"><a href=\"#线性代数\" class=\"headerlink\" title=\"线性代数\"></a>线性代数</h4><ul>\n<li>向量 转置 内积外积</li>\n<li>矩阵 加法 乘法 逆</li>\n<li>范数 特征向量 特征值</li>\n</ul>\n<h4 id=\"概率论\"><a href=\"#概率论\" class=\"headerlink\" title=\"概率论\"></a>概率论</h4><p>联合概率 条件概率 独立性 条件独立</p>"}],"PostAsset":[],"PostCategory":[{"post_id":"ciw28u3xe0006p4qt9dv8uvnl","category_id":"ciw28u3xs000ep4qtsgfj0ktd","_id":"ciw28u3y3000op4qt4b8aurd8"},{"post_id":"ciw28u3xh0007p4qtjpat7kn5","category_id":"ciw28u3xx000jp4qttttgozgr","_id":"ciw28u3yd000up4qthmhsut38"},{"post_id":"ciw28u3wx0000p4qtee3oo1l6","category_id":"ciw28u3x90004p4qte0n7fwi2","_id":"ciw28u3yi0010p4qtois91pe0"},{"post_id":"ciw28u3wx0000p4qtee3oo1l6","category_id":"ciw28u3y4000pp4qtiu8pjfve","_id":"ciw28u3yl0013p4qtrvrkzisi"},{"post_id":"ciw28u3xk0008p4qtprw68s0q","category_id":"ciw28u3ye000xp4qtsa8smxu0","_id":"ciw28u3ym0015p4qtg0h37srd"},{"post_id":"ciw28u3xp000cp4qtyqz8ybpl","category_id":"ciw28u3ye000xp4qtsa8smxu0","_id":"ciw28u3yo0019p4qt2cmbqq2q"},{"post_id":"ciw28u3x50002p4qtfptkogvd","category_id":"ciw28u3x90004p4qte0n7fwi2","_id":"ciw28u3yq001ep4qta7iluw22"},{"post_id":"ciw28u3x50002p4qtfptkogvd","category_id":"ciw28u3y4000pp4qtiu8pjfve","_id":"ciw28u3yr001gp4qtbwl4vgjv"},{"post_id":"ciw28u3xr000dp4qtbi7pq6gc","category_id":"ciw28u3yp001bp4qti1zp9ma6","_id":"ciw28u3ys001ip4qt7oxyswky"},{"post_id":"ciw28u3xu000hp4qtdf2htfqz","category_id":"ciw28u3yq001fp4qtogjvgk6i","_id":"ciw28u3yt001kp4qtlfkxx642"},{"post_id":"ciw28u3xv000ip4qt83jiz0tx","category_id":"ciw28u3x90004p4qte0n7fwi2","_id":"ciw28u3yu001mp4qtbw0ezk2e"},{"post_id":"ciw28u3xv000ip4qt83jiz0tx","category_id":"ciw28u3ys001jp4qtnxlzo993","_id":"ciw28u3yv001op4qtc1juwqli"},{"post_id":"ciw28u3xy000lp4qt6xlbguw0","category_id":"ciw28u3x90004p4qte0n7fwi2","_id":"ciw28u3yv001pp4qtovp8l57i"},{"post_id":"ciw28u3xy000lp4qt6xlbguw0","category_id":"ciw28u3ys001jp4qtnxlzo993","_id":"ciw28u3yw001rp4qtrgw0hb00"},{"post_id":"ciw28u3y1000np4qt8kybucsd","category_id":"ciw28u3x90004p4qte0n7fwi2","_id":"ciw28u3yw001sp4qtfqgy9moe"},{"post_id":"ciw28u3y1000np4qt8kybucsd","category_id":"ciw28u3ys001jp4qtnxlzo993","_id":"ciw28u3yx001up4qtcrhfilwh"},{"post_id":"ciw28u3ya000tp4qtgk6opfmk","category_id":"ciw28u3x90004p4qte0n7fwi2","_id":"ciw28u3yy001wp4qtqxu29ai3"},{"post_id":"ciw28u3ya000tp4qtgk6opfmk","category_id":"ciw28u3yw001tp4qttzjnf8ac","_id":"ciw28u3yz001yp4qtvs8aqv14"},{"post_id":"ciw28u3ye000yp4qtcd5tsvw1","category_id":"ciw28u3yx001vp4qtsenhuwiv","_id":"ciw28u3yz001zp4qtny23v9em"},{"post_id":"ciw28u3yh000zp4qtsmsjwubi","category_id":"ciw28u3x90004p4qte0n7fwi2","_id":"ciw28u3z00021p4qtz81yja6h"},{"post_id":"ciw28u3yh000zp4qtsmsjwubi","category_id":"ciw28u3yz001xp4qtsfaa5hah","_id":"ciw28u3z10022p4qtyu20t7hb"},{"post_id":"ciw28u3y5000rp4qtsd8er9x0","category_id":"ciw28u3yv001qp4qttotphukc","_id":"ciw28u3z10023p4qtpk4vmdyc"},{"post_id":"ciw28u3y5000rp4qtsd8er9x0","category_id":"ciw28u3z00020p4qt88echjfx","_id":"ciw28u3z10024p4qtjslvc4hq"}],"PostTag":[{"post_id":"ciw28u3wx0000p4qtee3oo1l6","tag_id":"ciw28u3xd0005p4qtvr1bdoqj","_id":"ciw28u3xo000bp4qtog2q24o7"},{"post_id":"ciw28u3x50002p4qtfptkogvd","tag_id":"ciw28u3xd0005p4qtvr1bdoqj","_id":"ciw28u3xt000gp4qtzfdkaudb"},{"post_id":"ciw28u3xu000hp4qtdf2htfqz","tag_id":"ciw28u3xd0005p4qtvr1bdoqj","_id":"ciw28u3xx000kp4qt2cj2ahrl"},{"post_id":"ciw28u3xk0008p4qtprw68s0q","tag_id":"ciw28u3xt000fp4qtqznq0sr9","_id":"ciw28u3y0000mp4qtjd8a8tea"},{"post_id":"ciw28u3xv000ip4qt83jiz0tx","tag_id":"ciw28u3xd0005p4qtvr1bdoqj","_id":"ciw28u3y5000qp4qtit2j49w5"},{"post_id":"ciw28u3xy000lp4qt6xlbguw0","tag_id":"ciw28u3xd0005p4qtvr1bdoqj","_id":"ciw28u3y9000sp4qtec0y3qtb"},{"post_id":"ciw28u3y1000np4qt8kybucsd","tag_id":"ciw28u3xd0005p4qtvr1bdoqj","_id":"ciw28u3yd000wp4qtnamh3k4n"},{"post_id":"ciw28u3yh000zp4qtsmsjwubi","tag_id":"ciw28u3xd0005p4qtvr1bdoqj","_id":"ciw28u3yl0014p4qtw2dz2brw"},{"post_id":"ciw28u3y5000rp4qtsd8er9x0","tag_id":"ciw28u3yd000vp4qt143ozgw0","_id":"ciw28u3yo0018p4qtrl3zw8es"},{"post_id":"ciw28u3y5000rp4qtsd8er9x0","tag_id":"ciw28u3yj0011p4qtjmig71gp","_id":"ciw28u3yo001ap4qtn6sesrxe"},{"post_id":"ciw28u3ya000tp4qtgk6opfmk","tag_id":"ciw28u3yn0017p4qto7sqgud3","_id":"ciw28u3yp001dp4qtjskn808z"},{"post_id":"ciw28u3ye000yp4qtcd5tsvw1","tag_id":"ciw28u3yp001cp4qtzotcj2uy","_id":"ciw28u3yr001hp4qtn1dfq69f"}],"Tag":[{"name":"Machine Learning","_id":"ciw28u3xd0005p4qtvr1bdoqj"},{"name":"hexo","_id":"ciw28u3xt000fp4qtqznq0sr9"},{"name":"设计模式","_id":"ciw28u3yd000vp4qt143ozgw0"},{"name":"C++","_id":"ciw28u3yj0011p4qtjmig71gp"},{"name":"统计学习","_id":"ciw28u3yn0017p4qto7sqgud3"},{"name":"Robotics","_id":"ciw28u3yp001cp4qtzotcj2uy"}]}}